var $6=t=>{throw TypeError(t)};var MC=(t,e,n)=>e.has(t)||$6("Cannot "+n);var ee=(t,e,n)=>(MC(t,e,"read from private field"),n?n.call(t):e.get(t)),Et=(t,e,n)=>e.has(t)?$6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),rt=(t,e,n,r)=>(MC(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vt=(t,e,n)=>(MC(t,e,"access private method"),n);var $m=(t,e,n,r)=>({set _(i){rt(t,e,i,n)},get _(){return ee(t,e,r)}});function rG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iG(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KL={exports:{}},Ux={},WL={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2=Symbol.for("react.element"),sG=Symbol.for("react.portal"),oG=Symbol.for("react.fragment"),aG=Symbol.for("react.strict_mode"),lG=Symbol.for("react.profiler"),AG=Symbol.for("react.provider"),cG=Symbol.for("react.context"),uG=Symbol.for("react.forward_ref"),dG=Symbol.for("react.suspense"),fG=Symbol.for("react.memo"),hG=Symbol.for("react.lazy"),Y6=Symbol.iterator;function pG(t){return t===null||typeof t!="object"?null:(t=Y6&&t[Y6]||t["@@iterator"],typeof t=="function"?t:null)}var XL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$L=Object.assign,YL={};function Vf(t,e,n){this.props=t,this.context=e,this.refs=YL,this.updater=n||XL}Vf.prototype.isReactComponent={};Vf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qL(){}qL.prototype=Vf.prototype;function rb(t,e,n){this.props=t,this.context=e,this.refs=YL,this.updater=n||XL}var ib=rb.prototype=new qL;ib.constructor=rb;$L(ib,Vf.prototype);ib.isPureReactComponent=!0;var q6=Array.isArray,ZL=Object.prototype.hasOwnProperty,sb={current:null},JL={key:!0,ref:!0,__self:!0,__source:!0};function eR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZL.call(e,r)&&!JL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),A=0;A<a;A++)l[A]=arguments[A+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:f2,type:t,key:s,ref:o,props:i,_owner:sb.current}}function mG(t,e){return{$$typeof:f2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ob(t){return typeof t=="object"&&t!==null&&t.$$typeof===f2}function gG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Z6=/\/+/g;function TC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gG(""+t.key):e.toString(36)}function z1(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case f2:case sG:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+TC(o,0):r,q6(i)?(n="",t!=null&&(n=t.replace(Z6,"$&/")+"/"),z1(i,e,n,"",function(A){return A})):i!=null&&(ob(i)&&(i=mG(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Z6,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",q6(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+TC(s,a);o+=z1(s,e,n,l,i)}else if(l=pG(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+TC(s,a++),o+=z1(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ym(t,e,n){if(t==null)return t;var r=[],i=0;return z1(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Li={current:null},G1={transition:null},yG={ReactCurrentDispatcher:Li,ReactCurrentBatchConfig:G1,ReactCurrentOwner:sb};function tR(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:Ym,forEach:function(t,e,n){Ym(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ym(t,function(){e++}),e},toArray:function(t){return Ym(t,function(e){return e})||[]},only:function(t){if(!ob(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Zt.Component=Vf;Zt.Fragment=oG;Zt.Profiler=lG;Zt.PureComponent=rb;Zt.StrictMode=aG;Zt.Suspense=dG;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yG;Zt.act=tR;Zt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$L({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ZL.call(e,l)&&!JL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var A=0;A<l;A++)a[A]=arguments[A+2];r.children=a}return{$$typeof:f2,type:t.type,key:i,ref:s,props:r,_owner:o}};Zt.createContext=function(t){return t={$$typeof:cG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AG,_context:t},t.Consumer=t};Zt.createElement=eR;Zt.createFactory=function(t){var e=eR.bind(null,t);return e.type=t,e};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(t){return{$$typeof:uG,render:t}};Zt.isValidElement=ob;Zt.lazy=function(t){return{$$typeof:hG,_payload:{_status:-1,_result:t},_init:vG}};Zt.memo=function(t,e){return{$$typeof:fG,type:t,compare:e===void 0?null:e}};Zt.startTransition=function(t){var e=G1.transition;G1.transition={};try{t()}finally{G1.transition=e}};Zt.unstable_act=tR;Zt.useCallback=function(t,e){return Li.current.useCallback(t,e)};Zt.useContext=function(t){return Li.current.useContext(t)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(t){return Li.current.useDeferredValue(t)};Zt.useEffect=function(t,e){return Li.current.useEffect(t,e)};Zt.useId=function(){return Li.current.useId()};Zt.useImperativeHandle=function(t,e,n){return Li.current.useImperativeHandle(t,e,n)};Zt.useInsertionEffect=function(t,e){return Li.current.useInsertionEffect(t,e)};Zt.useLayoutEffect=function(t,e){return Li.current.useLayoutEffect(t,e)};Zt.useMemo=function(t,e){return Li.current.useMemo(t,e)};Zt.useReducer=function(t,e,n){return Li.current.useReducer(t,e,n)};Zt.useRef=function(t){return Li.current.useRef(t)};Zt.useState=function(t){return Li.current.useState(t)};Zt.useSyncExternalStore=function(t,e,n){return Li.current.useSyncExternalStore(t,e,n)};Zt.useTransition=function(){return Li.current.useTransition()};Zt.version="18.3.1";WL.exports=Zt;var F=WL.exports;const vt=vu(F),A_=rG({__proto__:null,default:vt},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xG=F,wG=Symbol.for("react.element"),CG=Symbol.for("react.fragment"),BG=Object.prototype.hasOwnProperty,SG=xG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_G={key:!0,ref:!0,__self:!0,__source:!0};function nR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BG.call(e,r)&&!_G.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wG,type:t,key:s,ref:o,props:i,_owner:SG.current}}Ux.Fragment=CG;Ux.jsx=nR;Ux.jsxs=nR;KL.exports=Ux;var p=KL.exports,rR={exports:{}},_s={},iR={exports:{}},sR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var Y=N.length;N.push(W);e:for(;0<Y;){var re=Y-1>>>1,Se=N[re];if(0<i(Se,W))N[re]=W,N[Y]=Se,Y=re;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],Y=N.pop();if(Y!==W){N[0]=Y;e:for(var re=0,Se=N.length,Fe=Se>>>1;re<Fe;){var ce=2*(re+1)-1,pe=N[ce],Be=ce+1,Le=N[Be];if(0>i(pe,Y))Be<Se&&0>i(Le,pe)?(N[re]=Le,N[Be]=Y,re=Be):(N[re]=pe,N[ce]=Y,re=ce);else if(Be<Se&&0>i(Le,Y))N[re]=Le,N[Be]=Y,re=Be;else break e}}return W}function i(N,W){var Y=N.sortIndex-W.sortIndex;return Y!==0?Y:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],A=[],c=1,u=null,d=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(N){for(var W=n(A);W!==null;){if(W.callback===null)r(A);else if(W.startTime<=N)r(A),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(A)}}function S(N){if(x=!1,C(N),!g)if(n(l)!==null)g=!0,k(M);else{var W=n(A);W!==null&&V(S,W.startTime-N)}}function M(N,W){g=!1,x&&(x=!1,v(L),L=-1),m=!0;var Y=d;try{for(C(W),u=n(l);u!==null&&(!(u.expirationTime>W)||N&&!U());){var re=u.callback;if(typeof re=="function"){u.callback=null,d=u.priorityLevel;var Se=re(u.expirationTime<=W);W=t.unstable_now(),typeof Se=="function"?u.callback=Se:u===n(l)&&r(l),C(W)}else r(l);u=n(l)}if(u!==null)var Fe=!0;else{var ce=n(A);ce!==null&&V(S,ce.startTime-W),Fe=!1}return Fe}finally{u=null,d=Y,m=!1}}var b=!1,T=null,L=-1,P=5,E=-1;function U(){return!(t.unstable_now()-E<P)}function j(){if(T!==null){var N=t.unstable_now();E=N;var W=!0;try{W=T(!0,N)}finally{W?Q():(b=!1,T=null)}}else b=!1}var Q;if(typeof w=="function")Q=function(){w(j)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=j,Q=function(){J.postMessage(null)}}else Q=function(){y(j,0)};function k(N){T=N,b||(b=!0,Q())}function V(N,W){L=y(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,k(M))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var Y=d;d=W;try{return N()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=d;d=N;try{return W()}finally{d=Y}},t.unstable_scheduleCallback=function(N,W,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,N){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Y+Se,N={id:c++,callback:W,priorityLevel:N,startTime:Y,expirationTime:Se,sortIndex:-1},Y>re?(N.sortIndex=Y,e(A,N),n(l)===null&&N===n(A)&&(x?(v(L),L=-1):x=!0,V(S,Y-re))):(N.sortIndex=Se,e(l,N),g||m||(g=!0,k(M))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var W=d;return function(){var Y=d;d=W;try{return N.apply(this,arguments)}finally{d=Y}}}})(sR);iR.exports=sR;var EG=iR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bG=F,Cs=EG;function He(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oR=new Set,rp={};function yu(t,e){mf(t,e),mf(t+"Capture",e)}function mf(t,e){for(rp[t]=e,t=0;t<e.length;t++)oR.add(e[t])}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c_=Object.prototype.hasOwnProperty,MG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J6={},eI={};function TG(t){return c_.call(eI,t)?!0:c_.call(J6,t)?!1:MG.test(t)?eI[t]=!0:(J6[t]=!0,!1)}function IG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FG(t,e,n,r){if(e===null||typeof e>"u"||IG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ri(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xr[t]=new Ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xr[e]=new Ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xr[t]=new Ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xr[t]=new Ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xr[t]=new Ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xr[t]=new Ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xr[t]=new Ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xr[t]=new Ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xr[t]=new Ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var ab=/[\-:]([a-z])/g;function lb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ab,lb);Xr[e]=new Ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ab,lb);Xr[e]=new Ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ab,lb);Xr[e]=new Ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xr[t]=new Ri(t,1,!1,t.toLowerCase(),null,!1,!1)});Xr.xlinkHref=new Ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xr[t]=new Ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ab(t,e,n,r){var i=Xr.hasOwnProperty(e)?Xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FG(e,n,i,r)&&(n=null),r||i===null?TG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var al=bG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qm=Symbol.for("react.element"),Cd=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),cb=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),aR=Symbol.for("react.provider"),lR=Symbol.for("react.context"),ub=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),f_=Symbol.for("react.suspense_list"),db=Symbol.for("react.memo"),Dl=Symbol.for("react.lazy"),AR=Symbol.for("react.offscreen"),tI=Symbol.iterator;function Th(t){return t===null||typeof t!="object"?null:(t=tI&&t[tI]||t["@@iterator"],typeof t=="function"?t:null)}var Wn=Object.assign,IC;function d0(t){if(IC===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);IC=e&&e[1]||""}return`
`+IC+t}var FC=!1;function UC(t,e){if(!t||FC)return"";FC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(A){var r=A}Reflect.construct(t,[],e)}else{try{e.call()}catch(A){r=A}t.call(e.prototype)}else{try{throw Error()}catch(A){r=A}t()}}catch(A){if(A&&r&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{FC=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?d0(t):""}function UG(t){switch(t.tag){case 5:return d0(t.type);case 16:return d0("Lazy");case 13:return d0("Suspense");case 19:return d0("SuspenseList");case 0:case 2:case 15:return t=UC(t.type,!1),t;case 11:return t=UC(t.type.render,!1),t;case 1:return t=UC(t.type,!0),t;default:return""}}function h_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bd:return"Fragment";case Cd:return"Portal";case u_:return"Profiler";case cb:return"StrictMode";case d_:return"Suspense";case f_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lR:return(t.displayName||"Context")+".Consumer";case aR:return(t._context.displayName||"Context")+".Provider";case ub:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case db:return e=t.displayName||null,e!==null?e:h_(t.type)||"Memo";case Dl:e=t._payload,t=t._init;try{return h_(t(e))}catch{}}return null}function LG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h_(e);case 8:return e===cb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function EA(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RG(t){var e=cR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zm(t){t._valueTracker||(t._valueTracker=RG(t))}function uR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function p_(t,e){var n=e.checked;return Wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=EA(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dR(t,e){e=e.checked,e!=null&&Ab(t,"checked",e,!1)}function m_(t,e){dR(t,e);var n=EA(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?g_(t,e.type,n):e.hasOwnProperty("defaultValue")&&g_(t,e.type,EA(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function g_(t,e,n){(e!=="number"||wv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var f0=Array.isArray;function Qd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+EA(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function v_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return Wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(He(92));if(f0(n)){if(1<n.length)throw Error(He(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:EA(n)}}function fR(t,e){var n=EA(e.value),r=EA(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jm,pR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jm=Jm||document.createElement("div"),Jm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var b0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PG=["Webkit","ms","Moz","O"];Object.keys(b0).forEach(function(t){PG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),b0[e]=b0[t]})});function mR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||b0.hasOwnProperty(t)&&b0[t]?(""+e).trim():e+"px"}function gR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NG=Wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x_(t,e){if(e){if(NG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function w_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C_=null;function fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var B_=null,Hd=null,jd=null;function oI(t){if(t=m2(t)){if(typeof B_!="function")throw Error(He(280));var e=t.stateNode;e&&(e=Dx(e),B_(t.stateNode,t.type,e))}}function vR(t){Hd?jd?jd.push(t):jd=[t]:Hd=t}function yR(){if(Hd){var t=Hd,e=jd;if(jd=Hd=null,oI(t),e)for(t=0;t<e.length;t++)oI(e[t])}}function xR(t,e){return t(e)}function wR(){}var LC=!1;function CR(t,e,n){if(LC)return t(e,n);LC=!0;try{return xR(t,e,n)}finally{LC=!1,(Hd!==null||jd!==null)&&(wR(),yR())}}function sp(t,e){var n=t.stateNode;if(n===null)return null;var r=Dx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(He(231,e,typeof n));return n}var S_=!1;if(Ja)try{var Ih={};Object.defineProperty(Ih,"passive",{get:function(){S_=!0}}),window.addEventListener("test",Ih,Ih),window.removeEventListener("test",Ih,Ih)}catch{S_=!1}function DG(t,e,n,r,i,s,o,a,l){var A=Array.prototype.slice.call(arguments,3);try{e.apply(n,A)}catch(c){this.onError(c)}}var M0=!1,Cv=null,Bv=!1,__=null,OG={onError:function(t){M0=!0,Cv=t}};function kG(t,e,n,r,i,s,o,a,l){M0=!1,Cv=null,DG.apply(OG,arguments)}function QG(t,e,n,r,i,s,o,a,l){if(kG.apply(this,arguments),M0){if(M0){var A=Cv;M0=!1,Cv=null}else throw Error(He(198));Bv||(Bv=!0,__=A)}}function xu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aI(t){if(xu(t)!==t)throw Error(He(188))}function HG(t){var e=t.alternate;if(!e){if(e=xu(t),e===null)throw Error(He(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return aI(i),t;if(s===r)return aI(i),e;s=s.sibling}throw Error(He(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?t:e}function SR(t){return t=HG(t),t!==null?_R(t):null}function _R(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_R(t);if(e!==null)return e;t=t.sibling}return null}var ER=Cs.unstable_scheduleCallback,lI=Cs.unstable_cancelCallback,jG=Cs.unstable_shouldYield,VG=Cs.unstable_requestPaint,ar=Cs.unstable_now,zG=Cs.unstable_getCurrentPriorityLevel,hb=Cs.unstable_ImmediatePriority,bR=Cs.unstable_UserBlockingPriority,Sv=Cs.unstable_NormalPriority,GG=Cs.unstable_LowPriority,MR=Cs.unstable_IdlePriority,Lx=null,la=null;function KG(t){if(la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(Lx,t,void 0,(t.current.flags&128)===128)}catch{}}var bo=Math.clz32?Math.clz32:$G,WG=Math.log,XG=Math.LN2;function $G(t){return t>>>=0,t===0?32:31-(WG(t)/XG|0)|0}var eg=64,tg=4194304;function h0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _v(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=h0(a):(s&=o,s!==0&&(r=h0(s)))}else o=n&~i,o!==0?r=h0(o):s!==0&&(r=h0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bo(e),i=1<<n,r|=t[n],e&=~i;return r}function YG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=YG(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function E_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TR(){var t=eg;return eg<<=1,!(eg&4194240)&&(eg=64),t}function RC(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function h2(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bo(e),t[e]=n}function ZG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wn=0;function IR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FR,mb,UR,LR,RR,b_=!1,ng=[],uA=null,dA=null,fA=null,op=new Map,ap=new Map,Hl=[],JG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AI(t,e){switch(t){case"focusin":case"focusout":uA=null;break;case"dragenter":case"dragleave":dA=null;break;case"mouseover":case"mouseout":fA=null;break;case"pointerover":case"pointerout":op.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(e.pointerId)}}function Fh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=m2(e),e!==null&&mb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eK(t,e,n,r,i){switch(e){case"focusin":return uA=Fh(uA,t,e,n,r,i),!0;case"dragenter":return dA=Fh(dA,t,e,n,r,i),!0;case"mouseover":return fA=Fh(fA,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return op.set(s,Fh(op.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ap.set(s,Fh(ap.get(s)||null,t,e,n,r,i)),!0}return!1}function PR(t){var e=Cc(t.target);if(e!==null){var n=xu(e);if(n!==null){if(e=n.tag,e===13){if(e=BR(n),e!==null){t.blockedOn=e,RR(t.priority,function(){UR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function K1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=M_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);C_=r,n.target.dispatchEvent(r),C_=null}else return e=m2(n),e!==null&&mb(e),t.blockedOn=n,!1;e.shift()}return!0}function cI(t,e,n){K1(t)&&n.delete(e)}function tK(){b_=!1,uA!==null&&K1(uA)&&(uA=null),dA!==null&&K1(dA)&&(dA=null),fA!==null&&K1(fA)&&(fA=null),op.forEach(cI),ap.forEach(cI)}function Uh(t,e){t.blockedOn===e&&(t.blockedOn=null,b_||(b_=!0,Cs.unstable_scheduleCallback(Cs.unstable_NormalPriority,tK)))}function lp(t){function e(i){return Uh(i,t)}if(0<ng.length){Uh(ng[0],t);for(var n=1;n<ng.length;n++){var r=ng[n];r.blockedOn===t&&(r.blockedOn=null)}}for(uA!==null&&Uh(uA,t),dA!==null&&Uh(dA,t),fA!==null&&Uh(fA,t),op.forEach(e),ap.forEach(e),n=0;n<Hl.length;n++)r=Hl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hl.length&&(n=Hl[0],n.blockedOn===null);)PR(n),n.blockedOn===null&&Hl.shift()}var Vd=al.ReactCurrentBatchConfig,Ev=!0;function nK(t,e,n,r){var i=wn,s=Vd.transition;Vd.transition=null;try{wn=1,gb(t,e,n,r)}finally{wn=i,Vd.transition=s}}function rK(t,e,n,r){var i=wn,s=Vd.transition;Vd.transition=null;try{wn=4,gb(t,e,n,r)}finally{wn=i,Vd.transition=s}}function gb(t,e,n,r){if(Ev){var i=M_(t,e,n,r);if(i===null)zC(t,e,r,bv,n),AI(t,r);else if(eK(i,t,e,n,r))r.stopPropagation();else if(AI(t,r),e&4&&-1<JG.indexOf(t)){for(;i!==null;){var s=m2(i);if(s!==null&&FR(s),s=M_(t,e,n,r),s===null&&zC(t,e,r,bv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zC(t,e,r,null,n)}}var bv=null;function M_(t,e,n,r){if(bv=null,t=fb(r),t=Cc(t),t!==null)if(e=xu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bv=t,null}function NR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zG()){case hb:return 1;case bR:return 4;case Sv:case GG:return 16;case MR:return 536870912;default:return 16}default:return 16}}var eA=null,vb=null,W1=null;function DR(){if(W1)return W1;var t,e=vb,n=e.length,r,i="value"in eA?eA.value:eA.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return W1=i.slice(t,1<r?1-r:void 0)}function X1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rg(){return!0}function uI(){return!1}function Es(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rg:uI,this.isPropagationStopped=uI,this}return Wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rg)},persist:function(){},isPersistent:rg}),e}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yb=Es(zf),p2=Wn({},zf,{view:0,detail:0}),iK=Es(p2),PC,NC,Lh,Rx=Wn({},p2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lh&&(Lh&&t.type==="mousemove"?(PC=t.screenX-Lh.screenX,NC=t.screenY-Lh.screenY):NC=PC=0,Lh=t),PC)},movementY:function(t){return"movementY"in t?t.movementY:NC}}),dI=Es(Rx),sK=Wn({},Rx,{dataTransfer:0}),oK=Es(sK),aK=Wn({},p2,{relatedTarget:0}),DC=Es(aK),lK=Wn({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),AK=Es(lK),cK=Wn({},zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uK=Es(cK),dK=Wn({},zf,{data:0}),fI=Es(dK),fK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pK[t])?!!e[t]:!1}function xb(){return mK}var gK=Wn({},p2,{key:function(t){if(t.key){var e=fK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=X1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xb,charCode:function(t){return t.type==="keypress"?X1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?X1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vK=Es(gK),yK=Wn({},Rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hI=Es(yK),xK=Wn({},p2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xb}),wK=Es(xK),CK=Wn({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),BK=Es(CK),SK=Wn({},Rx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_K=Es(SK),EK=[9,13,27,32],wb=Ja&&"CompositionEvent"in window,T0=null;Ja&&"documentMode"in document&&(T0=document.documentMode);var bK=Ja&&"TextEvent"in window&&!T0,OR=Ja&&(!wb||T0&&8<T0&&11>=T0),pI=" ",mI=!1;function kR(t,e){switch(t){case"keyup":return EK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sd=!1;function MK(t,e){switch(t){case"compositionend":return QR(e);case"keypress":return e.which!==32?null:(mI=!0,pI);case"textInput":return t=e.data,t===pI&&mI?null:t;default:return null}}function TK(t,e){if(Sd)return t==="compositionend"||!wb&&kR(t,e)?(t=DR(),W1=vb=eA=null,Sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OR&&e.locale!=="ko"?null:e.data;default:return null}}var IK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IK[t.type]:e==="textarea"}function HR(t,e,n,r){vR(r),e=Mv(e,"onChange"),0<e.length&&(n=new yb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var I0=null,Ap=null;function FK(t){ZR(t,0)}function Px(t){var e=bd(t);if(uR(e))return t}function UK(t,e){if(t==="change")return e}var jR=!1;if(Ja){var OC;if(Ja){var kC="oninput"in document;if(!kC){var vI=document.createElement("div");vI.setAttribute("oninput","return;"),kC=typeof vI.oninput=="function"}OC=kC}else OC=!1;jR=OC&&(!document.documentMode||9<document.documentMode)}function yI(){I0&&(I0.detachEvent("onpropertychange",VR),Ap=I0=null)}function VR(t){if(t.propertyName==="value"&&Px(Ap)){var e=[];HR(e,Ap,t,fb(t)),CR(FK,e)}}function LK(t,e,n){t==="focusin"?(yI(),I0=e,Ap=n,I0.attachEvent("onpropertychange",VR)):t==="focusout"&&yI()}function RK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Px(Ap)}function PK(t,e){if(t==="click")return Px(e)}function NK(t,e){if(t==="input"||t==="change")return Px(e)}function DK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var To=typeof Object.is=="function"?Object.is:DK;function cp(t,e){if(To(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c_.call(e,i)||!To(t[i],e[i]))return!1}return!0}function xI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wI(t,e){var n=xI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xI(n)}}function zR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GR(){for(var t=window,e=wv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wv(t.document)}return e}function Cb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OK(t){var e=GR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zR(n.ownerDocument.documentElement,n)){if(r!==null&&Cb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wI(n,s);var o=wI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kK=Ja&&"documentMode"in document&&11>=document.documentMode,_d=null,T_=null,F0=null,I_=!1;function CI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;I_||_d==null||_d!==wv(r)||(r=_d,"selectionStart"in r&&Cb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),F0&&cp(F0,r)||(F0=r,r=Mv(T_,"onSelect"),0<r.length&&(e=new yb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_d)))}function ig(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ed={animationend:ig("Animation","AnimationEnd"),animationiteration:ig("Animation","AnimationIteration"),animationstart:ig("Animation","AnimationStart"),transitionend:ig("Transition","TransitionEnd")},QC={},KR={};Ja&&(KR=document.createElement("div").style,"AnimationEvent"in window||(delete Ed.animationend.animation,delete Ed.animationiteration.animation,delete Ed.animationstart.animation),"TransitionEvent"in window||delete Ed.transitionend.transition);function Nx(t){if(QC[t])return QC[t];if(!Ed[t])return t;var e=Ed[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KR)return QC[t]=e[n];return t}var WR=Nx("animationend"),XR=Nx("animationiteration"),$R=Nx("animationstart"),YR=Nx("transitionend"),qR=new Map,BI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function PA(t,e){qR.set(t,e),yu(e,[t])}for(var HC=0;HC<BI.length;HC++){var jC=BI[HC],QK=jC.toLowerCase(),HK=jC[0].toUpperCase()+jC.slice(1);PA(QK,"on"+HK)}PA(WR,"onAnimationEnd");PA(XR,"onAnimationIteration");PA($R,"onAnimationStart");PA("dblclick","onDoubleClick");PA("focusin","onFocus");PA("focusout","onBlur");PA(YR,"onTransitionEnd");mf("onMouseEnter",["mouseout","mouseover"]);mf("onMouseLeave",["mouseout","mouseover"]);mf("onPointerEnter",["pointerout","pointerover"]);mf("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jK=new Set("cancel close invalid load scroll toggle".split(" ").concat(p0));function SI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QG(r,e,void 0,t),t.currentTarget=null}function ZR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,A=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;SI(i,a,A),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,A=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;SI(i,a,A),s=l}}}if(Bv)throw t=__,Bv=!1,__=null,t}function Ln(t,e){var n=e[P_];n===void 0&&(n=e[P_]=new Set);var r=t+"__bubble";n.has(r)||(JR(e,t,2,!1),n.add(r))}function VC(t,e,n){var r=0;e&&(r|=4),JR(n,t,r,e)}var sg="_reactListening"+Math.random().toString(36).slice(2);function up(t){if(!t[sg]){t[sg]=!0,oR.forEach(function(n){n!=="selectionchange"&&(jK.has(n)||VC(n,!1,t),VC(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sg]||(e[sg]=!0,VC("selectionchange",!1,e))}}function JR(t,e,n,r){switch(NR(e)){case 1:var i=nK;break;case 4:i=rK;break;default:i=gb}n=i.bind(null,e,n,t),i=void 0,!S_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zC(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}CR(function(){var A=s,c=fb(n),u=[];e:{var d=qR.get(t);if(d!==void 0){var m=yb,g=t;switch(t){case"keypress":if(X1(n)===0)break e;case"keydown":case"keyup":m=vK;break;case"focusin":g="focus",m=DC;break;case"focusout":g="blur",m=DC;break;case"beforeblur":case"afterblur":m=DC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wK;break;case WR:case XR:case $R:m=AK;break;case YR:m=BK;break;case"scroll":m=iK;break;case"wheel":m=_K;break;case"copy":case"cut":case"paste":m=uK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hI}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?d!==null?d+"Capture":null:d;x=[];for(var w=A,C;w!==null;){C=w;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,v!==null&&(S=sp(w,v),S!=null&&x.push(dp(w,S,C)))),y)break;w=w.return}0<x.length&&(d=new m(d,g,null,n,c),u.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==C_&&(g=n.relatedTarget||n.fromElement)&&(Cc(g)||g[el]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=A,g=g?Cc(g):null,g!==null&&(y=xu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=A),m!==g)){if(x=dI,S="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=hI,S="onPointerLeave",v="onPointerEnter",w="pointer"),y=m==null?d:bd(m),C=g==null?d:bd(g),d=new x(S,w+"leave",m,n,c),d.target=y,d.relatedTarget=C,S=null,Cc(c)===A&&(x=new x(v,w+"enter",g,n,c),x.target=C,x.relatedTarget=y,S=x),y=S,m&&g)t:{for(x=m,v=g,w=0,C=x;C;C=ju(C))w++;for(C=0,S=v;S;S=ju(S))C++;for(;0<w-C;)x=ju(x),w--;for(;0<C-w;)v=ju(v),C--;for(;w--;){if(x===v||v!==null&&x===v.alternate)break t;x=ju(x),v=ju(v)}x=null}else x=null;m!==null&&_I(u,d,m,x,!1),g!==null&&y!==null&&_I(u,y,g,x,!0)}}e:{if(d=A?bd(A):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=UK;else if(gI(d))if(jR)M=NK;else{M=RK;var b=LK}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=PK);if(M&&(M=M(t,A))){HR(u,M,n,c);break e}b&&b(t,d,A),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&g_(d,"number",d.value)}switch(b=A?bd(A):window,t){case"focusin":(gI(b)||b.contentEditable==="true")&&(_d=b,T_=A,F0=null);break;case"focusout":F0=T_=_d=null;break;case"mousedown":I_=!0;break;case"contextmenu":case"mouseup":case"dragend":I_=!1,CI(u,n,c);break;case"selectionchange":if(kK)break;case"keydown":case"keyup":CI(u,n,c)}var T;if(wb)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Sd?kR(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(OR&&n.locale!=="ko"&&(Sd||L!=="onCompositionStart"?L==="onCompositionEnd"&&Sd&&(T=DR()):(eA=c,vb="value"in eA?eA.value:eA.textContent,Sd=!0)),b=Mv(A,L),0<b.length&&(L=new fI(L,t,null,n,c),u.push({event:L,listeners:b}),T?L.data=T:(T=QR(n),T!==null&&(L.data=T)))),(T=bK?MK(t,n):TK(t,n))&&(A=Mv(A,"onBeforeInput"),0<A.length&&(c=new fI("onBeforeInput","beforeinput",null,n,c),u.push({event:c,listeners:A}),c.data=T))}ZR(u,e)})}function dp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sp(t,n),s!=null&&r.unshift(dp(t,s,i)),s=sp(t,e),s!=null&&r.push(dp(t,s,i))),t=t.return}return r}function ju(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _I(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,A=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&A!==null&&(a=A,i?(l=sp(n,s),l!=null&&o.unshift(dp(n,l,a))):i||(l=sp(n,s),l!=null&&o.push(dp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VK=/\r\n?/g,zK=/\u0000|\uFFFD/g;function EI(t){return(typeof t=="string"?t:""+t).replace(VK,`
`).replace(zK,"")}function og(t,e,n){if(e=EI(e),EI(t)!==e&&n)throw Error(He(425))}function Tv(){}var F_=null,U_=null;function L_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R_=typeof setTimeout=="function"?setTimeout:void 0,GK=typeof clearTimeout=="function"?clearTimeout:void 0,bI=typeof Promise=="function"?Promise:void 0,KK=typeof queueMicrotask=="function"?queueMicrotask:typeof bI<"u"?function(t){return bI.resolve(null).then(t).catch(WK)}:R_;function WK(t){setTimeout(function(){throw t})}function GC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lp(e)}function hA(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gf=Math.random().toString(36).slice(2),ia="__reactFiber$"+Gf,fp="__reactProps$"+Gf,el="__reactContainer$"+Gf,P_="__reactEvents$"+Gf,XK="__reactListeners$"+Gf,$K="__reactHandles$"+Gf;function Cc(t){var e=t[ia];if(e)return e;for(var n=t.parentNode;n;){if(e=n[el]||n[ia]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MI(t);t!==null;){if(n=t[ia])return n;t=MI(t)}return e}t=n,n=t.parentNode}return null}function m2(t){return t=t[ia]||t[el],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(He(33))}function Dx(t){return t[fp]||null}var N_=[],Md=-1;function NA(t){return{current:t}}function Rn(t){0>Md||(t.current=N_[Md],N_[Md]=null,Md--)}function Fn(t,e){Md++,N_[Md]=t.current,t.current=e}var bA={},ui=NA(bA),Xi=NA(!1),Jc=bA;function gf(t,e){var n=t.type.contextTypes;if(!n)return bA;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $i(t){return t=t.childContextTypes,t!=null}function Iv(){Rn(Xi),Rn(ui)}function TI(t,e,n){if(ui.current!==bA)throw Error(He(168));Fn(ui,e),Fn(Xi,n)}function eP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(He(108,LG(t)||"Unknown",i));return Wn({},n,r)}function Fv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bA,Jc=ui.current,Fn(ui,t),Fn(Xi,Xi.current),!0}function II(t,e,n){var r=t.stateNode;if(!r)throw Error(He(169));n?(t=eP(t,e,Jc),r.__reactInternalMemoizedMergedChildContext=t,Rn(Xi),Rn(ui),Fn(ui,t)):Rn(Xi),Fn(Xi,n)}var Oa=null,Ox=!1,KC=!1;function tP(t){Oa===null?Oa=[t]:Oa.push(t)}function YK(t){Ox=!0,tP(t)}function DA(){if(!KC&&Oa!==null){KC=!0;var t=0,e=wn;try{var n=Oa;for(wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Oa=null,Ox=!1}catch(i){throw Oa!==null&&(Oa=Oa.slice(t+1)),ER(hb,DA),i}finally{wn=e,KC=!1}}return null}var Td=[],Id=0,Uv=null,Lv=0,Vs=[],zs=0,eu=null,za=1,Ga="";function uc(t,e){Td[Id++]=Lv,Td[Id++]=Uv,Uv=t,Lv=e}function nP(t,e,n){Vs[zs++]=za,Vs[zs++]=Ga,Vs[zs++]=eu,eu=t;var r=za;t=Ga;var i=32-bo(r)-1;r&=~(1<<i),n+=1;var s=32-bo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,za=1<<32-bo(e)+i|n<<i|r,Ga=s+t}else za=1<<s|n<<i|r,Ga=t}function Bb(t){t.return!==null&&(uc(t,1),nP(t,1,0))}function Sb(t){for(;t===Uv;)Uv=Td[--Id],Td[Id]=null,Lv=Td[--Id],Td[Id]=null;for(;t===eu;)eu=Vs[--zs],Vs[zs]=null,Ga=Vs[--zs],Vs[zs]=null,za=Vs[--zs],Vs[zs]=null}var ms=null,cs=null,Qn=!1,yo=null;function rP(t,e){var n=Ws(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ms=t,cs=hA(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ms=t,cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eu!==null?{id:za,overflow:Ga}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ws(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ms=t,cs=null,!0):!1;default:return!1}}function D_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O_(t){if(Qn){var e=cs;if(e){var n=e;if(!FI(t,e)){if(D_(t))throw Error(He(418));e=hA(n.nextSibling);var r=ms;e&&FI(t,e)?rP(r,n):(t.flags=t.flags&-4097|2,Qn=!1,ms=t)}}else{if(D_(t))throw Error(He(418));t.flags=t.flags&-4097|2,Qn=!1,ms=t}}}function UI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ms=t}function ag(t){if(t!==ms)return!1;if(!Qn)return UI(t),Qn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!L_(t.type,t.memoizedProps)),e&&(e=cs)){if(D_(t))throw iP(),Error(He(418));for(;e;)rP(t,e),e=hA(e.nextSibling)}if(UI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(He(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cs=hA(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cs=null}}else cs=ms?hA(t.stateNode.nextSibling):null;return!0}function iP(){for(var t=cs;t;)t=hA(t.nextSibling)}function vf(){cs=ms=null,Qn=!1}function _b(t){yo===null?yo=[t]:yo.push(t)}var qK=al.ReactCurrentBatchConfig;function Rh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,t))}return t}function lg(t,e){throw t=Object.prototype.toString.call(e),Error(He(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LI(t){var e=t._init;return e(t._payload)}function sP(t){function e(v,w){if(t){var C=v.deletions;C===null?(v.deletions=[w],v.flags|=16):C.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=vA(v,w),v.index=0,v.sibling=null,v}function s(v,w,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<w?(v.flags|=2,w):C):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,C,S){return w===null||w.tag!==6?(w=JC(C,v.mode,S),w.return=v,w):(w=i(w,C),w.return=v,w)}function l(v,w,C,S){var M=C.type;return M===Bd?c(v,w,C.props.children,S,C.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Dl&&LI(M)===w.type)?(S=i(w,C.props),S.ref=Rh(v,w,C),S.return=v,S):(S=tv(C.type,C.key,C.props,null,v.mode,S),S.ref=Rh(v,w,C),S.return=v,S)}function A(v,w,C,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=eB(C,v.mode,S),w.return=v,w):(w=i(w,C.children||[]),w.return=v,w)}function c(v,w,C,S,M){return w===null||w.tag!==7?(w=jc(C,v.mode,S,M),w.return=v,w):(w=i(w,C),w.return=v,w)}function u(v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=JC(""+w,v.mode,C),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:return C=tv(w.type,w.key,w.props,null,v.mode,C),C.ref=Rh(v,null,w),C.return=v,C;case Cd:return w=eB(w,v.mode,C),w.return=v,w;case Dl:var S=w._init;return u(v,S(w._payload),C)}if(f0(w)||Th(w))return w=jc(w,v.mode,C,null),w.return=v,w;lg(v,w)}return null}function d(v,w,C,S){var M=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:a(v,w,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case qm:return C.key===M?l(v,w,C,S):null;case Cd:return C.key===M?A(v,w,C,S):null;case Dl:return M=C._init,d(v,w,M(C._payload),S)}if(f0(C)||Th(C))return M!==null?null:c(v,w,C,S,null);lg(v,C)}return null}function m(v,w,C,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(C)||null,a(w,v,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qm:return v=v.get(S.key===null?C:S.key)||null,l(w,v,S,M);case Cd:return v=v.get(S.key===null?C:S.key)||null,A(w,v,S,M);case Dl:var b=S._init;return m(v,w,C,b(S._payload),M)}if(f0(S)||Th(S))return v=v.get(C)||null,c(w,v,S,M,null);lg(w,S)}return null}function g(v,w,C,S){for(var M=null,b=null,T=w,L=w=0,P=null;T!==null&&L<C.length;L++){T.index>L?(P=T,T=null):P=T.sibling;var E=d(v,T,C[L],S);if(E===null){T===null&&(T=P);break}t&&T&&E.alternate===null&&e(v,T),w=s(E,w,L),b===null?M=E:b.sibling=E,b=E,T=P}if(L===C.length)return n(v,T),Qn&&uc(v,L),M;if(T===null){for(;L<C.length;L++)T=u(v,C[L],S),T!==null&&(w=s(T,w,L),b===null?M=T:b.sibling=T,b=T);return Qn&&uc(v,L),M}for(T=r(v,T);L<C.length;L++)P=m(T,v,L,C[L],S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?L:P.key),w=s(P,w,L),b===null?M=P:b.sibling=P,b=P);return t&&T.forEach(function(U){return e(v,U)}),Qn&&uc(v,L),M}function x(v,w,C,S){var M=Th(C);if(typeof M!="function")throw Error(He(150));if(C=M.call(C),C==null)throw Error(He(151));for(var b=M=null,T=w,L=w=0,P=null,E=C.next();T!==null&&!E.done;L++,E=C.next()){T.index>L?(P=T,T=null):P=T.sibling;var U=d(v,T,E.value,S);if(U===null){T===null&&(T=P);break}t&&T&&U.alternate===null&&e(v,T),w=s(U,w,L),b===null?M=U:b.sibling=U,b=U,T=P}if(E.done)return n(v,T),Qn&&uc(v,L),M;if(T===null){for(;!E.done;L++,E=C.next())E=u(v,E.value,S),E!==null&&(w=s(E,w,L),b===null?M=E:b.sibling=E,b=E);return Qn&&uc(v,L),M}for(T=r(v,T);!E.done;L++,E=C.next())E=m(T,v,L,E.value,S),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?L:E.key),w=s(E,w,L),b===null?M=E:b.sibling=E,b=E);return t&&T.forEach(function(j){return e(v,j)}),Qn&&uc(v,L),M}function y(v,w,C,S){if(typeof C=="object"&&C!==null&&C.type===Bd&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case qm:e:{for(var M=C.key,b=w;b!==null;){if(b.key===M){if(M=C.type,M===Bd){if(b.tag===7){n(v,b.sibling),w=i(b,C.props.children),w.return=v,v=w;break e}}else if(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Dl&&LI(M)===b.type){n(v,b.sibling),w=i(b,C.props),w.ref=Rh(v,b,C),w.return=v,v=w;break e}n(v,b);break}else e(v,b);b=b.sibling}C.type===Bd?(w=jc(C.props.children,v.mode,S,C.key),w.return=v,v=w):(S=tv(C.type,C.key,C.props,null,v.mode,S),S.ref=Rh(v,w,C),S.return=v,v=S)}return o(v);case Cd:e:{for(b=C.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(v,w.sibling),w=i(w,C.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=eB(C,v.mode,S),w.return=v,v=w}return o(v);case Dl:return b=C._init,y(v,w,b(C._payload),S)}if(f0(C))return g(v,w,C,S);if(Th(C))return x(v,w,C,S);lg(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,C),w.return=v,v=w):(n(v,w),w=JC(C,v.mode,S),w.return=v,v=w),o(v)):n(v,w)}return y}var yf=sP(!0),oP=sP(!1),Rv=NA(null),Pv=null,Fd=null,Eb=null;function bb(){Eb=Fd=Pv=null}function Mb(t){var e=Rv.current;Rn(Rv),t._currentValue=e}function k_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zd(t,e){Pv=t,Eb=Fd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ki=!0),t.firstContext=null)}function no(t){var e=t._currentValue;if(Eb!==t)if(t={context:t,memoizedValue:e,next:null},Fd===null){if(Pv===null)throw Error(He(308));Fd=t,Pv.dependencies={lanes:0,firstContext:t}}else Fd=Fd.next=t;return e}var Bc=null;function Tb(t){Bc===null?Bc=[t]:Bc.push(t)}function aP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tb(e)):(n.next=i.next,i.next=n),e.interleaved=n,tl(t,r)}function tl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ol=!1;function Ib(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pA(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,An&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tl(t,n)}return i=r.interleaved,i===null?(e.next=e,Tb(r)):(e.next=i.next,i.next=e),r.interleaved=e,tl(t,n)}function $1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pb(t,n)}}function RI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nv(t,e,n,r){var i=t.updateQueue;Ol=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,A=l.next;l.next=null,o===null?s=A:o.next=A,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,c=A=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(d=e,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){u=g.call(m,u,d);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,d=typeof g=="function"?g.call(m,u,d):g,d==null)break e;u=Wn({},u,d);break e;case 2:Ol=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(A=c=m,l=u):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=u),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nu|=o,t.lanes=o,t.memoizedState=u}}function PI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var g2={},Aa=NA(g2),hp=NA(g2),pp=NA(g2);function Sc(t){if(t===g2)throw Error(He(174));return t}function Fb(t,e){switch(Fn(pp,e),Fn(hp,t),Fn(Aa,g2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=y_(e,t)}Rn(Aa),Fn(Aa,e)}function xf(){Rn(Aa),Rn(hp),Rn(pp)}function AP(t){Sc(pp.current);var e=Sc(Aa.current),n=y_(e,t.type);e!==n&&(Fn(hp,t),Fn(Aa,n))}function Ub(t){hp.current===t&&(Rn(Aa),Rn(hp))}var Vn=NA(0);function Dv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var WC=[];function Lb(){for(var t=0;t<WC.length;t++)WC[t]._workInProgressVersionPrimary=null;WC.length=0}var Y1=al.ReactCurrentDispatcher,XC=al.ReactCurrentBatchConfig,tu=0,Gn=null,xr=null,Lr=null,Ov=!1,U0=!1,mp=0,ZK=0;function ei(){throw Error(He(321))}function Rb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!To(t[n],e[n]))return!1;return!0}function Pb(t,e,n,r,i,s){if(tu=s,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y1.current=t===null||t.memoizedState===null?nW:rW,t=n(r,i),U0){s=0;do{if(U0=!1,mp=0,25<=s)throw Error(He(301));s+=1,Lr=xr=null,e.updateQueue=null,Y1.current=iW,t=n(r,i)}while(U0)}if(Y1.current=kv,e=xr!==null&&xr.next!==null,tu=0,Lr=xr=Gn=null,Ov=!1,e)throw Error(He(300));return t}function Nb(){var t=mp!==0;return mp=0,t}function Zo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Gn.memoizedState=Lr=t:Lr=Lr.next=t,Lr}function ro(){if(xr===null){var t=Gn.alternate;t=t!==null?t.memoizedState:null}else t=xr.next;var e=Lr===null?Gn.memoizedState:Lr.next;if(e!==null)Lr=e,xr=t;else{if(t===null)throw Error(He(310));xr=t,t={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Lr===null?Gn.memoizedState=Lr=t:Lr=Lr.next=t}return Lr}function gp(t,e){return typeof e=="function"?e(t):e}function $C(t){var e=ro(),n=e.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=t;var r=xr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,A=s;do{var c=A.lane;if((tu&c)===c)l!==null&&(l=l.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:t(r,A.action);else{var u={lane:c,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,Gn.lanes|=c,nu|=c}A=A.next}while(A!==null&&A!==s);l===null?o=r:l.next=a,To(r,e.memoizedState)||(Ki=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gn.lanes|=s,nu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function YC(t){var e=ro(),n=e.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);To(s,e.memoizedState)||(Ki=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cP(){}function uP(t,e){var n=Gn,r=ro(),i=e(),s=!To(r.memoizedState,i);if(s&&(r.memoizedState=i,Ki=!0),r=r.queue,Db(hP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Lr!==null&&Lr.memoizedState.tag&1){if(n.flags|=2048,vp(9,fP.bind(null,n,r,i,e),void 0,null),Rr===null)throw Error(He(349));tu&30||dP(n,e,i)}return i}function dP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fP(t,e,n,r){e.value=n,e.getSnapshot=r,pP(e)&&mP(t)}function hP(t,e,n){return n(function(){pP(e)&&mP(t)})}function pP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!To(t,n)}catch{return!0}}function mP(t){var e=tl(t,1);e!==null&&Mo(e,t,1,-1)}function NI(t){var e=Zo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:t},e.queue=t,t=t.dispatch=tW.bind(null,Gn,t),[e.memoizedState,t]}function vp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gP(){return ro().memoizedState}function q1(t,e,n,r){var i=Zo();Gn.flags|=t,i.memoizedState=vp(1|e,n,void 0,r===void 0?null:r)}function kx(t,e,n,r){var i=ro();r=r===void 0?null:r;var s=void 0;if(xr!==null){var o=xr.memoizedState;if(s=o.destroy,r!==null&&Rb(r,o.deps)){i.memoizedState=vp(e,n,s,r);return}}Gn.flags|=t,i.memoizedState=vp(1|e,n,s,r)}function DI(t,e){return q1(8390656,8,t,e)}function Db(t,e){return kx(2048,8,t,e)}function vP(t,e){return kx(4,2,t,e)}function yP(t,e){return kx(4,4,t,e)}function xP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wP(t,e,n){return n=n!=null?n.concat([t]):null,kx(4,4,xP.bind(null,e,t),n)}function Ob(){}function CP(t,e){var n=ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BP(t,e){var n=ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SP(t,e,n){return tu&21?(To(n,e)||(n=TR(),Gn.lanes|=n,nu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ki=!0),t.memoizedState=n)}function JK(t,e){var n=wn;wn=n!==0&&4>n?n:4,t(!0);var r=XC.transition;XC.transition={};try{t(!1),e()}finally{wn=n,XC.transition=r}}function _P(){return ro().memoizedState}function eW(t,e,n){var r=gA(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EP(t))bP(e,n);else if(n=aP(t,e,n,r),n!==null){var i=Ti();Mo(n,t,r,i),MP(n,e,r)}}function tW(t,e,n){var r=gA(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EP(t))bP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,To(a,o)){var l=e.interleaved;l===null?(i.next=i,Tb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=aP(t,e,i,r),n!==null&&(i=Ti(),Mo(n,t,r,i),MP(n,e,r))}}function EP(t){var e=t.alternate;return t===Gn||e!==null&&e===Gn}function bP(t,e){U0=Ov=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pb(t,n)}}var kv={readContext:no,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},nW={readContext:no,useCallback:function(t,e){return Zo().memoizedState=[t,e===void 0?null:e],t},useContext:no,useEffect:DI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,q1(4194308,4,xP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return q1(4194308,4,t,e)},useInsertionEffect:function(t,e){return q1(4,2,t,e)},useMemo:function(t,e){var n=Zo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eW.bind(null,Gn,t),[r.memoizedState,t]},useRef:function(t){var e=Zo();return t={current:t},e.memoizedState=t},useState:NI,useDebugValue:Ob,useDeferredValue:function(t){return Zo().memoizedState=t},useTransition:function(){var t=NI(!1),e=t[0];return t=JK.bind(null,t[1]),Zo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gn,i=Zo();if(Qn){if(n===void 0)throw Error(He(407));n=n()}else{if(n=e(),Rr===null)throw Error(He(349));tu&30||dP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,DI(hP.bind(null,r,s,t),[t]),r.flags|=2048,vp(9,fP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zo(),e=Rr.identifierPrefix;if(Qn){var n=Ga,r=za;n=(r&~(1<<32-bo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rW={readContext:no,useCallback:CP,useContext:no,useEffect:Db,useImperativeHandle:wP,useInsertionEffect:vP,useLayoutEffect:yP,useMemo:BP,useReducer:$C,useRef:gP,useState:function(){return $C(gp)},useDebugValue:Ob,useDeferredValue:function(t){var e=ro();return SP(e,xr.memoizedState,t)},useTransition:function(){var t=$C(gp)[0],e=ro().memoizedState;return[t,e]},useMutableSource:cP,useSyncExternalStore:uP,useId:_P,unstable_isNewReconciler:!1},iW={readContext:no,useCallback:CP,useContext:no,useEffect:Db,useImperativeHandle:wP,useInsertionEffect:vP,useLayoutEffect:yP,useMemo:BP,useReducer:YC,useRef:gP,useState:function(){return YC(gp)},useDebugValue:Ob,useDeferredValue:function(t){var e=ro();return xr===null?e.memoizedState=t:SP(e,xr.memoizedState,t)},useTransition:function(){var t=YC(gp)[0],e=ro().memoizedState;return[t,e]},useMutableSource:cP,useSyncExternalStore:uP,useId:_P,unstable_isNewReconciler:!1};function po(t,e){if(t&&t.defaultProps){e=Wn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Q_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Wn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qx={isMounted:function(t){return(t=t._reactInternals)?xu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ti(),i=gA(t),s=Xa(r,i);s.payload=e,n!=null&&(s.callback=n),e=pA(t,s,i),e!==null&&(Mo(e,t,i,r),$1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ti(),i=gA(t),s=Xa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pA(t,s,i),e!==null&&(Mo(e,t,i,r),$1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ti(),r=gA(t),i=Xa(n,r);i.tag=2,e!=null&&(i.callback=e),e=pA(t,i,r),e!==null&&(Mo(e,t,r,n),$1(e,t,r))}};function OI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cp(n,r)||!cp(i,s):!0}function TP(t,e,n){var r=!1,i=bA,s=e.contextType;return typeof s=="object"&&s!==null?s=no(s):(i=$i(e)?Jc:ui.current,r=e.contextTypes,s=(r=r!=null)?gf(t,i):bA),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qx.enqueueReplaceState(e,e.state,null)}function H_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ib(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=no(s):(s=$i(e)?Jc:ui.current,i.context=gf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Q_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qx.enqueueReplaceState(i,i.state,null),Nv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wf(t,e){try{var n="",r=e;do n+=UG(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qC(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function j_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sW=typeof WeakMap=="function"?WeakMap:Map;function IP(t,e,n){n=Xa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hv||(Hv=!0,Z_=r),j_(t,e)},n}function FP(t,e,n){n=Xa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){j_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){j_(t,e),typeof r!="function"&&(mA===null?mA=new Set([this]):mA.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function QI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yW.bind(null,t,e,n),e.then(t,t))}function HI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xa(-1,1),e.tag=2,pA(n,e,1))),n.lanes|=1),t)}var oW=al.ReactCurrentOwner,Ki=!1;function _i(t,e,n,r){e.child=t===null?oP(e,null,n,r):yf(e,t.child,n,r)}function VI(t,e,n,r,i){n=n.render;var s=e.ref;return zd(e,i),r=Pb(t,e,n,r,s,i),n=Nb(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nl(t,e,i)):(Qn&&n&&Bb(e),e.flags|=1,_i(t,e,r,i),e.child)}function zI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Kb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,UP(t,e,s,r,i)):(t=tv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cp,n(o,r)&&t.ref===e.ref)return nl(t,e,i)}return e.flags|=1,t=vA(s,r),t.ref=e.ref,t.return=e,e.child=t}function UP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cp(s,r)&&t.ref===e.ref)if(Ki=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ki=!0);else return e.lanes=t.lanes,nl(t,e,i)}return V_(t,e,n,r,i)}function LP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(Ld,As),As|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fn(Ld,As),As|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fn(Ld,As),As|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fn(Ld,As),As|=r;return _i(t,e,i,n),e.child}function RP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function V_(t,e,n,r,i){var s=$i(n)?Jc:ui.current;return s=gf(e,s),zd(e,i),n=Pb(t,e,n,r,s,i),r=Nb(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nl(t,e,i)):(Qn&&r&&Bb(e),e.flags|=1,_i(t,e,n,i),e.child)}function GI(t,e,n,r,i){if($i(n)){var s=!0;Fv(e)}else s=!1;if(zd(e,i),e.stateNode===null)Z1(t,e),TP(e,n,r),H_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,A=n.contextType;typeof A=="object"&&A!==null?A=no(A):(A=$i(n)?Jc:ui.current,A=gf(e,A));var c=n.getDerivedStateFromProps,u=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==A)&&kI(e,o,r,A),Ol=!1;var d=e.memoizedState;o.state=d,Nv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Xi.current||Ol?(typeof c=="function"&&(Q_(e,n,c,r),l=e.memoizedState),(a=Ol||OI(e,n,a,r,d,l,A))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=A,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lP(t,e),a=e.memoizedProps,A=e.type===e.elementType?a:po(e.type,a),o.props=A,u=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=$i(n)?Jc:ui.current,l=gf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||d!==l)&&kI(e,o,r,l),Ol=!1,d=e.memoizedState,o.state=d,Nv(e,r,o,i);var g=e.memoizedState;a!==u||d!==g||Xi.current||Ol?(typeof m=="function"&&(Q_(e,n,m,r),g=e.memoizedState),(A=Ol||OI(e,n,A,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=A):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return z_(t,e,n,r,s,i)}function z_(t,e,n,r,i,s){RP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&II(e,n,!1),nl(t,e,s);r=e.stateNode,oW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yf(e,t.child,null,s),e.child=yf(e,null,a,s)):_i(t,e,a,s),e.memoizedState=r.state,i&&II(e,n,!0),e.child}function PP(t){var e=t.stateNode;e.pendingContext?TI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TI(t,e.context,!1),Fb(t,e.containerInfo)}function KI(t,e,n,r,i){return vf(),_b(i),e.flags|=256,_i(t,e,n,r),e.child}var G_={dehydrated:null,treeContext:null,retryLane:0};function K_(t){return{baseLanes:t,cachePool:null,transitions:null}}function NP(t,e,n){var r=e.pendingProps,i=Vn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fn(Vn,i&1),t===null)return O_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vx(o,r,0,null),t=jc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=K_(n),e.memoizedState=G_,t):kb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vA(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=vA(a,s):(s=jc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?K_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=G_,r}return s=t.child,t=s.sibling,r=vA(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kb(t,e){return e=Vx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ag(t,e,n,r){return r!==null&&_b(r),yf(e,t.child,null,n),t=kb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qC(Error(He(422))),Ag(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vx({mode:"visible",children:r.children},i,0,null),s=jc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yf(e,t.child,null,o),e.child.memoizedState=K_(o),e.memoizedState=G_,s);if(!(e.mode&1))return Ag(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(He(419)),r=qC(s,r,void 0),Ag(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ki||a){if(r=Rr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tl(t,i),Mo(r,t,i,-1))}return Gb(),r=qC(Error(He(421))),Ag(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cs=hA(i.nextSibling),ms=e,Qn=!0,yo=null,t!==null&&(Vs[zs++]=za,Vs[zs++]=Ga,Vs[zs++]=eu,za=t.id,Ga=t.overflow,eu=e),e=kb(e,r.children),e.flags|=4096,e)}function WI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),k_(t.return,e,n)}function ZC(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_i(t,e,r.children,n),r=Vn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WI(t,n,e);else if(t.tag===19)WI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fn(Vn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ZC(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ZC(e,!0,n,null,s);break;case"together":ZC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Z1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(He(153));if(e.child!==null){for(t=e.child,n=vA(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vA(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lW(t,e,n){switch(e.tag){case 3:PP(e),vf();break;case 5:AP(e);break;case 1:$i(e.type)&&Fv(e);break;case 4:Fb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fn(Rv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fn(Vn,Vn.current&1),e.flags|=128,null):n&e.child.childLanes?NP(t,e,n):(Fn(Vn,Vn.current&1),t=nl(t,e,n),t!==null?t.sibling:null);Fn(Vn,Vn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fn(Vn,Vn.current),r)break;return null;case 22:case 23:return e.lanes=0,LP(t,e,n)}return nl(t,e,n)}var OP,W_,kP,QP;OP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W_=function(){};kP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sc(Aa.current);var s=null;switch(n){case"input":i=p_(t,i),r=p_(t,r),s=[];break;case"select":i=Wn({},i,{value:void 0}),r=Wn({},r,{value:void 0}),s=[];break;case"textarea":i=v_(t,i),r=v_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tv)}x_(n,r);var o;n=null;for(A in i)if(!r.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var a=i[A];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(rp.hasOwnProperty(A)?s||(s=[]):(s=s||[]).push(A,null));for(A in r){var l=r[A];if(a=i!=null?i[A]:void 0,r.hasOwnProperty(A)&&l!==a&&(l!=null||a!=null))if(A==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(A,n)),n=l;else A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(A,l)):A==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(A,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(rp.hasOwnProperty(A)?(l!=null&&A==="onScroll"&&Ln("scroll",t),s||a===l||(s=[])):(s=s||[]).push(A,l))}n&&(s=s||[]).push("style",n);var A=s;(e.updateQueue=A)&&(e.flags|=4)}};QP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ph(t,e){if(!Qn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ti(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AW(t,e,n){var r=e.pendingProps;switch(Sb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(e),null;case 1:return $i(e.type)&&Iv(),ti(e),null;case 3:return r=e.stateNode,xf(),Rn(Xi),Rn(ui),Lb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ag(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yo!==null&&(tE(yo),yo=null))),W_(t,e),ti(e),null;case 5:Ub(e);var i=Sc(pp.current);if(n=e.type,t!==null&&e.stateNode!=null)kP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(He(166));return ti(e),null}if(t=Sc(Aa.current),ag(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ia]=e,r[fp]=s,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<p0.length;i++)Ln(p0[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":nI(r,s),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ln("invalid",r);break;case"textarea":iI(r,s),Ln("invalid",r)}x_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&og(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&og(r.textContent,a,t),i=["children",""+a]):rp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ln("scroll",r)}switch(n){case"input":Zm(r),rI(r,s,!0);break;case"textarea":Zm(r),sI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ia]=e,t[fp]=r,OP(t,e,!1,!1),e.stateNode=t;e:{switch(o=w_(n,r),n){case"dialog":Ln("cancel",t),Ln("close",t),i=r;break;case"iframe":case"object":case"embed":Ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<p0.length;i++)Ln(p0[i],t);i=r;break;case"source":Ln("error",t),i=r;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),i=r;break;case"details":Ln("toggle",t),i=r;break;case"input":nI(t,r),i=p_(t,r),Ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Wn({},r,{value:void 0}),Ln("invalid",t);break;case"textarea":iI(t,r),i=v_(t,r),Ln("invalid",t);break;default:i=r}x_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ip(t,l):typeof l=="number"&&ip(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ln("scroll",t):l!=null&&Ab(t,s,l,o))}switch(n){case"input":Zm(t),rI(t,r,!1);break;case"textarea":Zm(t),sI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+EA(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ti(e),null;case 6:if(t&&e.stateNode!=null)QP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(He(166));if(n=Sc(pp.current),Sc(Aa.current),ag(e)){if(r=e.stateNode,n=e.memoizedProps,r[ia]=e,(s=r.nodeValue!==n)&&(t=ms,t!==null))switch(t.tag){case 3:og(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&og(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ia]=e,e.stateNode=r}return ti(e),null;case 13:if(Rn(Vn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qn&&cs!==null&&e.mode&1&&!(e.flags&128))iP(),vf(),e.flags|=98560,s=!1;else if(s=ag(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[ia]=e}else vf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ti(e),s=!1}else yo!==null&&(tE(yo),yo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vn.current&1?Br===0&&(Br=3):Gb())),e.updateQueue!==null&&(e.flags|=4),ti(e),null);case 4:return xf(),W_(t,e),t===null&&up(e.stateNode.containerInfo),ti(e),null;case 10:return Mb(e.type._context),ti(e),null;case 17:return $i(e.type)&&Iv(),ti(e),null;case 19:if(Rn(Vn),s=e.memoizedState,s===null)return ti(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ph(s,!1);else{if(Br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dv(t),o!==null){for(e.flags|=128,Ph(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fn(Vn,Vn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ar()>Cf&&(e.flags|=128,r=!0,Ph(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ph(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qn)return ti(e),null}else 2*ar()-s.renderingStartTime>Cf&&n!==1073741824&&(e.flags|=128,r=!0,Ph(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ar(),e.sibling=null,n=Vn.current,Fn(Vn,r?n&1|2:n&1),e):(ti(e),null);case 22:case 23:return zb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?As&1073741824&&(ti(e),e.subtreeFlags&6&&(e.flags|=8192)):ti(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function cW(t,e){switch(Sb(e),e.tag){case 1:return $i(e.type)&&Iv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xf(),Rn(Xi),Rn(ui),Lb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ub(e),null;case 13:if(Rn(Vn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(He(340));vf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(Vn),null;case 4:return xf(),null;case 10:return Mb(e.type._context),null;case 22:case 23:return zb(),null;case 24:return null;default:return null}}var cg=!1,li=!1,uW=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Ud(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zn(t,e,r)}else n.current=null}function X_(t,e,n){try{n()}catch(r){Zn(t,e,r)}}var XI=!1;function dW(t,e){if(F_=Ev,t=GR(),Cb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,A=0,c=0,u=t,d=null;t:for(;;){for(var m;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(m=u.firstChild)!==null;)d=u,u=m;for(;;){if(u===t)break t;if(d===n&&++A===i&&(a=o),d===s&&++c===r&&(l=o),(m=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(U_={focusedElem:t,selectionRange:n},Ev=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:po(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(S){Zn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return g=XI,XI=!1,g}function L0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&X_(e,n,s)}i=i.next}while(i!==r)}}function Hx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HP(t){var e=t.alternate;e!==null&&(t.alternate=null,HP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ia],delete e[fp],delete e[P_],delete e[XK],delete e[$K])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jP(t){return t.tag===5||t.tag===3||t.tag===4}function $I(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Y_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tv));else if(r!==4&&(t=t.child,t!==null))for(Y_(t,e,n),t=t.sibling;t!==null;)Y_(t,e,n),t=t.sibling}function q_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(q_(t,e,n),t=t.sibling;t!==null;)q_(t,e,n),t=t.sibling}var Hr=null,vo=!1;function wl(t,e,n){for(n=n.child;n!==null;)VP(t,e,n),n=n.sibling}function VP(t,e,n){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(Lx,n)}catch{}switch(n.tag){case 5:li||Ud(n,e);case 6:var r=Hr,i=vo;Hr=null,wl(t,e,n),Hr=r,vo=i,Hr!==null&&(vo?(t=Hr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Hr.removeChild(n.stateNode));break;case 18:Hr!==null&&(vo?(t=Hr,n=n.stateNode,t.nodeType===8?GC(t.parentNode,n):t.nodeType===1&&GC(t,n),lp(t)):GC(Hr,n.stateNode));break;case 4:r=Hr,i=vo,Hr=n.stateNode.containerInfo,vo=!0,wl(t,e,n),Hr=r,vo=i;break;case 0:case 11:case 14:case 15:if(!li&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&X_(n,e,o),i=i.next}while(i!==r)}wl(t,e,n);break;case 1:if(!li&&(Ud(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zn(n,e,a)}wl(t,e,n);break;case 21:wl(t,e,n);break;case 22:n.mode&1?(li=(r=li)||n.memoizedState!==null,wl(t,e,n),li=r):wl(t,e,n);break;default:wl(t,e,n)}}function YI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uW),e.forEach(function(r){var i=wW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ao(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Hr=a.stateNode,vo=!1;break e;case 3:Hr=a.stateNode.containerInfo,vo=!0;break e;case 4:Hr=a.stateNode.containerInfo,vo=!0;break e}a=a.return}if(Hr===null)throw Error(He(160));VP(s,o,i),Hr=null,vo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(A){Zn(i,e,A)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zP(e,t),e=e.sibling}function zP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ao(e,t),$o(t),r&4){try{L0(3,t,t.return),Hx(3,t)}catch(x){Zn(t,t.return,x)}try{L0(5,t,t.return)}catch(x){Zn(t,t.return,x)}}break;case 1:Ao(e,t),$o(t),r&512&&n!==null&&Ud(n,n.return);break;case 5:if(Ao(e,t),$o(t),r&512&&n!==null&&Ud(n,n.return),t.flags&32){var i=t.stateNode;try{ip(i,"")}catch(x){Zn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dR(i,s),w_(a,o);var A=w_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],u=l[o+1];c==="style"?gR(i,u):c==="dangerouslySetInnerHTML"?pR(i,u):c==="children"?ip(i,u):Ab(i,c,u,A)}switch(a){case"input":m_(i,s);break;case"textarea":fR(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qd(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Qd(i,!!s.multiple,s.defaultValue,!0):Qd(i,!!s.multiple,s.multiple?[]:"",!1))}i[fp]=s}catch(x){Zn(t,t.return,x)}}break;case 6:if(Ao(e,t),$o(t),r&4){if(t.stateNode===null)throw Error(He(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Zn(t,t.return,x)}}break;case 3:if(Ao(e,t),$o(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lp(e.containerInfo)}catch(x){Zn(t,t.return,x)}break;case 4:Ao(e,t),$o(t);break;case 13:Ao(e,t),$o(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jb=ar())),r&4&&YI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(li=(A=li)||c,Ao(e,t),li=A):Ao(e,t),$o(t),r&8192){if(A=t.memoizedState!==null,(t.stateNode.isHidden=A)&&!c&&t.mode&1)for(ot=t,c=t.child;c!==null;){for(u=ot=c;ot!==null;){switch(d=ot,m=d.child,d.tag){case 0:case 11:case 14:case 15:L0(4,d,d.return);break;case 1:Ud(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Zn(r,n,x)}}break;case 5:Ud(d,d.return);break;case 22:if(d.memoizedState!==null){ZI(u);continue}}m!==null?(m.return=d,ot=m):ZI(u)}c=c.sibling}e:for(c=null,u=t;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,A?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mR("display",o))}catch(x){Zn(t,t.return,x)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=A?"":u.memoizedProps}catch(x){Zn(t,t.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ao(e,t),$o(t),r&4&&YI(t);break;case 21:break;default:Ao(e,t),$o(t)}}function $o(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jP(n)){var r=n;break e}n=n.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ip(i,""),r.flags&=-33);var s=$I(t);q_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$I(t);Y_(t,a,o);break;default:throw Error(He(161))}}catch(l){Zn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fW(t,e,n){ot=t,GP(t)}function GP(t,e,n){for(var r=(t.mode&1)!==0;ot!==null;){var i=ot,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||li;a=cg;var A=li;if(cg=o,(li=l)&&!A)for(ot=i;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?JI(i):l!==null?(l.return=o,ot=l):JI(i);for(;s!==null;)ot=s,GP(s),s=s.sibling;ot=i,cg=a,li=A}qI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ot=s):qI(t)}}function qI(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:li||Hx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!li)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:po(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&PI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var A=e.alternate;if(A!==null){var c=A.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&lp(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}li||e.flags&512&&$_(e)}catch(d){Zn(e,e.return,d)}}if(e===t){ot=null;break}if(n=e.sibling,n!==null){n.return=e.return,ot=n;break}ot=e.return}}function ZI(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ot=n;break}ot=e.return}}function JI(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hx(4,e)}catch(l){Zn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zn(e,i,l)}}var s=e.return;try{$_(e)}catch(l){Zn(e,s,l)}break;case 5:var o=e.return;try{$_(e)}catch(l){Zn(e,o,l)}}}catch(l){Zn(e,e.return,l)}if(e===t){ot=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ot=a;break}ot=e.return}}var hW=Math.ceil,Qv=al.ReactCurrentDispatcher,Qb=al.ReactCurrentOwner,Js=al.ReactCurrentBatchConfig,An=0,Rr=null,hr=null,Kr=0,As=0,Ld=NA(0),Br=0,yp=null,nu=0,jx=0,Hb=0,R0=null,zi=null,jb=0,Cf=1/0,Pa=null,Hv=!1,Z_=null,mA=null,ug=!1,tA=null,jv=0,P0=0,J_=null,J1=-1,ev=0;function Ti(){return An&6?ar():J1!==-1?J1:J1=ar()}function gA(t){return t.mode&1?An&2&&Kr!==0?Kr&-Kr:qK.transition!==null?(ev===0&&(ev=TR()),ev):(t=wn,t!==0||(t=window.event,t=t===void 0?16:NR(t.type)),t):1}function Mo(t,e,n,r){if(50<P0)throw P0=0,J_=null,Error(He(185));h2(t,n,r),(!(An&2)||t!==Rr)&&(t===Rr&&(!(An&2)&&(jx|=n),Br===4&&jl(t,Kr)),Yi(t,r),n===1&&An===0&&!(e.mode&1)&&(Cf=ar()+500,Ox&&DA()))}function Yi(t,e){var n=t.callbackNode;qG(t,e);var r=_v(t,t===Rr?Kr:0);if(r===0)n!==null&&lI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lI(n),e===1)t.tag===0?YK(e8.bind(null,t)):tP(e8.bind(null,t)),KK(function(){!(An&6)&&DA()}),n=null;else{switch(IR(r)){case 1:n=hb;break;case 4:n=bR;break;case 16:n=Sv;break;case 536870912:n=MR;break;default:n=Sv}n=JP(n,KP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KP(t,e){if(J1=-1,ev=0,An&6)throw Error(He(327));var n=t.callbackNode;if(Gd()&&t.callbackNode!==n)return null;var r=_v(t,t===Rr?Kr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vv(t,r);else{e=r;var i=An;An|=2;var s=XP();(Rr!==t||Kr!==e)&&(Pa=null,Cf=ar()+500,Hc(t,e));do try{gW();break}catch(a){WP(t,a)}while(!0);bb(),Qv.current=s,An=i,hr!==null?e=0:(Rr=null,Kr=0,e=Br)}if(e!==0){if(e===2&&(i=E_(t),i!==0&&(r=i,e=eE(t,i))),e===1)throw n=yp,Hc(t,0),jl(t,r),Yi(t,ar()),n;if(e===6)jl(t,r);else{if(i=t.current.alternate,!(r&30)&&!pW(i)&&(e=Vv(t,r),e===2&&(s=E_(t),s!==0&&(r=s,e=eE(t,s))),e===1))throw n=yp,Hc(t,0),jl(t,r),Yi(t,ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(He(345));case 2:dc(t,zi,Pa);break;case 3:if(jl(t,r),(r&130023424)===r&&(e=jb+500-ar(),10<e)){if(_v(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ti(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=R_(dc.bind(null,t,zi,Pa),e);break}dc(t,zi,Pa);break;case 4:if(jl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-bo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hW(r/1960))-r,10<r){t.timeoutHandle=R_(dc.bind(null,t,zi,Pa),r);break}dc(t,zi,Pa);break;case 5:dc(t,zi,Pa);break;default:throw Error(He(329))}}}return Yi(t,ar()),t.callbackNode===n?KP.bind(null,t):null}function eE(t,e){var n=R0;return t.current.memoizedState.isDehydrated&&(Hc(t,e).flags|=256),t=Vv(t,e),t!==2&&(e=zi,zi=n,e!==null&&tE(e)),t}function tE(t){zi===null?zi=t:zi.push.apply(zi,t)}function pW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!To(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jl(t,e){for(e&=~Hb,e&=~jx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bo(e),r=1<<n;t[n]=-1,e&=~r}}function e8(t){if(An&6)throw Error(He(327));Gd();var e=_v(t,0);if(!(e&1))return Yi(t,ar()),null;var n=Vv(t,e);if(t.tag!==0&&n===2){var r=E_(t);r!==0&&(e=r,n=eE(t,r))}if(n===1)throw n=yp,Hc(t,0),jl(t,e),Yi(t,ar()),n;if(n===6)throw Error(He(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dc(t,zi,Pa),Yi(t,ar()),null}function Vb(t,e){var n=An;An|=1;try{return t(e)}finally{An=n,An===0&&(Cf=ar()+500,Ox&&DA())}}function ru(t){tA!==null&&tA.tag===0&&!(An&6)&&Gd();var e=An;An|=1;var n=Js.transition,r=wn;try{if(Js.transition=null,wn=1,t)return t()}finally{wn=r,Js.transition=n,An=e,!(An&6)&&DA()}}function zb(){As=Ld.current,Rn(Ld)}function Hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GK(n)),hr!==null)for(n=hr.return;n!==null;){var r=n;switch(Sb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iv();break;case 3:xf(),Rn(Xi),Rn(ui),Lb();break;case 5:Ub(r);break;case 4:xf();break;case 13:Rn(Vn);break;case 19:Rn(Vn);break;case 10:Mb(r.type._context);break;case 22:case 23:zb()}n=n.return}if(Rr=t,hr=t=vA(t.current,null),Kr=As=e,Br=0,yp=null,Hb=jx=nu=0,zi=R0=null,Bc!==null){for(e=0;e<Bc.length;e++)if(n=Bc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bc=null}return t}function WP(t,e){do{var n=hr;try{if(bb(),Y1.current=kv,Ov){for(var r=Gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ov=!1}if(tu=0,Lr=xr=Gn=null,U0=!1,mp=0,Qb.current=null,n===null||n.return===null){Br=1,yp=e,hr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Kr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var A=l,c=a,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=HI(o);if(m!==null){m.flags&=-257,jI(m,o,a,s,e),m.mode&1&&QI(s,A,e),e=m,l=A;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){QI(s,A,e),Gb();break e}l=Error(He(426))}}else if(Qn&&a.mode&1){var y=HI(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jI(y,o,a,s,e),_b(wf(l,a));break e}}s=l=wf(l,a),Br!==4&&(Br=2),R0===null?R0=[s]:R0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=IP(s,l,e);RI(s,v);break e;case 1:a=l;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(mA===null||!mA.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=FP(s,a,e);RI(s,S);break e}}s=s.return}while(s!==null)}YP(n)}catch(M){e=M,hr===n&&n!==null&&(hr=n=n.return);continue}break}while(!0)}function XP(){var t=Qv.current;return Qv.current=kv,t===null?kv:t}function Gb(){(Br===0||Br===3||Br===2)&&(Br=4),Rr===null||!(nu&268435455)&&!(jx&268435455)||jl(Rr,Kr)}function Vv(t,e){var n=An;An|=2;var r=XP();(Rr!==t||Kr!==e)&&(Pa=null,Hc(t,e));do try{mW();break}catch(i){WP(t,i)}while(!0);if(bb(),An=n,Qv.current=r,hr!==null)throw Error(He(261));return Rr=null,Kr=0,Br}function mW(){for(;hr!==null;)$P(hr)}function gW(){for(;hr!==null&&!jG();)$P(hr)}function $P(t){var e=ZP(t.alternate,t,As);t.memoizedProps=t.pendingProps,e===null?YP(t):hr=e,Qb.current=null}function YP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cW(n,e),n!==null){n.flags&=32767,hr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Br=6,hr=null;return}}else if(n=AW(n,e,As),n!==null){hr=n;return}if(e=e.sibling,e!==null){hr=e;return}hr=e=t}while(e!==null);Br===0&&(Br=5)}function dc(t,e,n){var r=wn,i=Js.transition;try{Js.transition=null,wn=1,vW(t,e,n,r)}finally{Js.transition=i,wn=r}return null}function vW(t,e,n,r){do Gd();while(tA!==null);if(An&6)throw Error(He(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(He(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ZG(t,s),t===Rr&&(hr=Rr=null,Kr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ug||(ug=!0,JP(Sv,function(){return Gd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var o=wn;wn=1;var a=An;An|=4,Qb.current=null,dW(t,n),zP(n,t),OK(U_),Ev=!!F_,U_=F_=null,t.current=n,fW(n),VG(),An=a,wn=o,Js.transition=s}else t.current=n;if(ug&&(ug=!1,tA=t,jv=i),s=t.pendingLanes,s===0&&(mA=null),KG(n.stateNode),Yi(t,ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hv)throw Hv=!1,t=Z_,Z_=null,t;return jv&1&&t.tag!==0&&Gd(),s=t.pendingLanes,s&1?t===J_?P0++:(P0=0,J_=t):P0=0,DA(),null}function Gd(){if(tA!==null){var t=IR(jv),e=Js.transition,n=wn;try{if(Js.transition=null,wn=16>t?16:t,tA===null)var r=!1;else{if(t=tA,tA=null,jv=0,An&6)throw Error(He(331));var i=An;for(An|=4,ot=t.current;ot!==null;){var s=ot,o=s.child;if(ot.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var A=a[l];for(ot=A;ot!==null;){var c=ot;switch(c.tag){case 0:case 11:case 15:L0(8,c,s)}var u=c.child;if(u!==null)u.return=c,ot=u;else for(;ot!==null;){c=ot;var d=c.sibling,m=c.return;if(HP(c),c===A){ot=null;break}if(d!==null){d.return=m,ot=d;break}ot=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}ot=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ot=o;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:L0(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ot=v;break e}ot=s.return}}var w=t.current;for(ot=w;ot!==null;){o=ot;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ot=C;else e:for(o=w;ot!==null;){if(a=ot,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hx(9,a)}}catch(M){Zn(a,a.return,M)}if(a===o){ot=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ot=S;break e}ot=a.return}}if(An=i,DA(),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(Lx,t)}catch{}r=!0}return r}finally{wn=n,Js.transition=e}}return!1}function t8(t,e,n){e=wf(n,e),e=IP(t,e,1),t=pA(t,e,1),e=Ti(),t!==null&&(h2(t,1,e),Yi(t,e))}function Zn(t,e,n){if(t.tag===3)t8(t,t,n);else for(;e!==null;){if(e.tag===3){t8(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mA===null||!mA.has(r))){t=wf(n,t),t=FP(e,t,1),e=pA(e,t,1),t=Ti(),e!==null&&(h2(e,1,t),Yi(e,t));break}}e=e.return}}function yW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ti(),t.pingedLanes|=t.suspendedLanes&n,Rr===t&&(Kr&n)===n&&(Br===4||Br===3&&(Kr&130023424)===Kr&&500>ar()-jb?Hc(t,0):Hb|=n),Yi(t,e)}function qP(t,e){e===0&&(t.mode&1?(e=tg,tg<<=1,!(tg&130023424)&&(tg=4194304)):e=1);var n=Ti();t=tl(t,e),t!==null&&(h2(t,e,n),Yi(t,n))}function xW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qP(t,n)}function wW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(e),qP(t,n)}var ZP;ZP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xi.current)Ki=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ki=!1,lW(t,e,n);Ki=!!(t.flags&131072)}else Ki=!1,Qn&&e.flags&1048576&&nP(e,Lv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Z1(t,e),t=e.pendingProps;var i=gf(e,ui.current);zd(e,n),i=Pb(null,e,r,t,i,n);var s=Nb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$i(r)?(s=!0,Fv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ib(e),i.updater=Qx,e.stateNode=i,i._reactInternals=e,H_(e,r,t,n),e=z_(null,e,r,!0,s,n)):(e.tag=0,Qn&&s&&Bb(e),_i(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Z1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BW(r),t=po(r,t),i){case 0:e=V_(null,e,r,t,n);break e;case 1:e=GI(null,e,r,t,n);break e;case 11:e=VI(null,e,r,t,n);break e;case 14:e=zI(null,e,r,po(r.type,t),n);break e}throw Error(He(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:po(r,i),V_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:po(r,i),GI(t,e,r,i,n);case 3:e:{if(PP(e),t===null)throw Error(He(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lP(t,e),Nv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wf(Error(He(423)),e),e=KI(t,e,r,n,i);break e}else if(r!==i){i=wf(Error(He(424)),e),e=KI(t,e,r,n,i);break e}else for(cs=hA(e.stateNode.containerInfo.firstChild),ms=e,Qn=!0,yo=null,n=oP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vf(),r===i){e=nl(t,e,n);break e}_i(t,e,r,n)}e=e.child}return e;case 5:return AP(e),t===null&&O_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,L_(r,i)?o=null:s!==null&&L_(r,s)&&(e.flags|=32),RP(t,e),_i(t,e,o,n),e.child;case 6:return t===null&&O_(e),null;case 13:return NP(t,e,n);case 4:return Fb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yf(e,null,r,n):_i(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:po(r,i),VI(t,e,r,i,n);case 7:return _i(t,e,e.pendingProps,n),e.child;case 8:return _i(t,e,e.pendingProps.children,n),e.child;case 12:return _i(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fn(Rv,r._currentValue),r._currentValue=o,s!==null)if(To(s.value,o)){if(s.children===i.children&&!Xi.current){e=nl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xa(-1,n&-n),l.tag=2;var A=s.updateQueue;if(A!==null){A=A.shared;var c=A.pending;c===null?l.next=l:(l.next=c.next,c.next=l),A.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),k_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),k_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_i(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zd(e,n),i=no(i),r=r(i),e.flags|=1,_i(t,e,r,n),e.child;case 14:return r=e.type,i=po(r,e.pendingProps),i=po(r.type,i),zI(t,e,r,i,n);case 15:return UP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:po(r,i),Z1(t,e),e.tag=1,$i(r)?(t=!0,Fv(e)):t=!1,zd(e,n),TP(e,r,i),H_(e,r,i,n),z_(null,e,r,!0,t,n);case 19:return DP(t,e,n);case 22:return LP(t,e,n)}throw Error(He(156,e.tag))};function JP(t,e){return ER(t,e)}function CW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(t,e,n,r){return new CW(t,e,n,r)}function Kb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BW(t){if(typeof t=="function")return Kb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ub)return 11;if(t===db)return 14}return 2}function vA(t,e){var n=t.alternate;return n===null?(n=Ws(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tv(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Kb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bd:return jc(n.children,i,s,e);case cb:o=8,i|=8;break;case u_:return t=Ws(12,n,e,i|2),t.elementType=u_,t.lanes=s,t;case d_:return t=Ws(13,n,e,i),t.elementType=d_,t.lanes=s,t;case f_:return t=Ws(19,n,e,i),t.elementType=f_,t.lanes=s,t;case AR:return Vx(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aR:o=10;break e;case lR:o=9;break e;case ub:o=11;break e;case db:o=14;break e;case Dl:o=16,r=null;break e}throw Error(He(130,t==null?t:typeof t,""))}return e=Ws(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function jc(t,e,n,r){return t=Ws(7,t,r,e),t.lanes=n,t}function Vx(t,e,n,r){return t=Ws(22,t,r,e),t.elementType=AR,t.lanes=n,t.stateNode={isHidden:!1},t}function JC(t,e,n){return t=Ws(6,t,null,e),t.lanes=n,t}function eB(t,e,n){return e=Ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RC(0),this.expirationTimes=RC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wb(t,e,n,r,i,s,o,a,l){return t=new SW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ws(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ib(s),t}function _W(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eN(t){if(!t)return bA;t=t._reactInternals;e:{if(xu(t)!==t||t.tag!==1)throw Error(He(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(t.tag===1){var n=t.type;if($i(n))return eP(t,n,e)}return e}function tN(t,e,n,r,i,s,o,a,l){return t=Wb(n,r,!0,t,i,s,o,a,l),t.context=eN(null),n=t.current,r=Ti(),i=gA(n),s=Xa(r,i),s.callback=e??null,pA(n,s,i),t.current.lanes=i,h2(t,i,r),Yi(t,r),t}function zx(t,e,n,r){var i=e.current,s=Ti(),o=gA(i);return n=eN(n),e.context===null?e.context=n:e.pendingContext=n,e=Xa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pA(i,e,o),t!==null&&(Mo(t,i,o,s),$1(t,i,o)),o}function zv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n8(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xb(t,e){n8(t,e),(t=t.alternate)&&n8(t,e)}function EW(){return null}var nN=typeof reportError=="function"?reportError:function(t){console.error(t)};function $b(t){this._internalRoot=t}Gx.prototype.render=$b.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(He(409));zx(t,e,null,null)};Gx.prototype.unmount=$b.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ru(function(){zx(null,t,null,null)}),e[el]=null}};function Gx(t){this._internalRoot=t}Gx.prototype.unstable_scheduleHydration=function(t){if(t){var e=LR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hl.length&&e!==0&&e<Hl[n].priority;n++);Hl.splice(n,0,t),n===0&&PR(t)}};function Yb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r8(){}function bW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var A=zv(o);s.call(A)}}var o=tN(e,r,t,0,null,!1,!1,"",r8);return t._reactRootContainer=o,t[el]=o.current,up(t.nodeType===8?t.parentNode:t),ru(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var A=zv(l);a.call(A)}}var l=Wb(t,0,!1,null,null,!1,!1,"",r8);return t._reactRootContainer=l,t[el]=l.current,up(t.nodeType===8?t.parentNode:t),ru(function(){zx(e,l,n,r)}),l}function Wx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zv(o);a.call(l)}}zx(e,o,t,i)}else o=bW(n,e,t,i,r);return zv(o)}FR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=h0(e.pendingLanes);n!==0&&(pb(e,n|1),Yi(e,ar()),!(An&6)&&(Cf=ar()+500,DA()))}break;case 13:ru(function(){var r=tl(t,1);if(r!==null){var i=Ti();Mo(r,t,1,i)}}),Xb(t,1)}};mb=function(t){if(t.tag===13){var e=tl(t,134217728);if(e!==null){var n=Ti();Mo(e,t,134217728,n)}Xb(t,134217728)}};UR=function(t){if(t.tag===13){var e=gA(t),n=tl(t,e);if(n!==null){var r=Ti();Mo(n,t,e,r)}Xb(t,e)}};LR=function(){return wn};RR=function(t,e){var n=wn;try{return wn=t,e()}finally{wn=n}};B_=function(t,e,n){switch(e){case"input":if(m_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dx(r);if(!i)throw Error(He(90));uR(r),m_(r,i)}}}break;case"textarea":fR(t,n);break;case"select":e=n.value,e!=null&&Qd(t,!!n.multiple,e,!1)}};xR=Vb;wR=ru;var MW={usingClientEntryPoint:!1,Events:[m2,bd,Dx,vR,yR,Vb]},Nh={findFiberByHostInstance:Cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TW={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:al.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SR(t),t===null?null:t.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||EW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{Lx=dg.inject(TW),la=dg}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MW;_s.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yb(e))throw Error(He(200));return _W(t,e,null,n)};_s.createRoot=function(t,e){if(!Yb(t))throw Error(He(299));var n=!1,r="",i=nN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wb(t,1,!1,null,null,n,!1,r,i),t[el]=e.current,up(t.nodeType===8?t.parentNode:t),new $b(e)};_s.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(He(188)):(t=Object.keys(t).join(","),Error(He(268,t)));return t=SR(e),t=t===null?null:t.stateNode,t};_s.flushSync=function(t){return ru(t)};_s.hydrate=function(t,e,n){if(!Kx(e))throw Error(He(200));return Wx(null,t,e,!0,n)};_s.hydrateRoot=function(t,e,n){if(!Yb(t))throw Error(He(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=nN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tN(e,null,t,1,n??null,i,!1,s,o),t[el]=e.current,up(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gx(e)};_s.render=function(t,e,n){if(!Kx(e))throw Error(He(200));return Wx(null,t,e,!1,n)};_s.unmountComponentAtNode=function(t){if(!Kx(t))throw Error(He(40));return t._reactRootContainer?(ru(function(){Wx(null,null,t,!1,function(){t._reactRootContainer=null,t[el]=null})}),!0):!1};_s.unstable_batchedUpdates=Vb;_s.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kx(n))throw Error(He(200));if(t==null||t._reactInternals===void 0)throw Error(He(38));return Wx(t,e,n,!1,r)};_s.version="18.3.1-next-f1338f8080-20240426";function rN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rN)}catch(t){console.error(t)}}rN(),rR.exports=_s;var wu=rR.exports;const IW=vu(wu);var iN,i8=wu;iN=i8.createRoot,i8.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}var nA;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nA||(nA={}));const s8="popstate";function FW(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return nE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gv(i)}return LW(e,n,null,t)}function Kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UW(){return Math.random().toString(36).substr(2,8)}function o8(t,e){return{usr:t.state,key:t.key,idx:e}}function nE(t,e,n,r){return n===void 0&&(n=null),xp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kf(e):e,{state:n,key:e&&e.key||r||UW()})}function Gv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LW(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=nA.Pop,l=null,A=c();A==null&&(A=0,o.replaceState(xp({},o.state,{idx:A}),""));function c(){return(o.state||{idx:null}).idx}function u(){a=nA.Pop;let y=c(),v=y==null?null:y-A;A=y,l&&l({action:a,location:x.location,delta:v})}function d(y,v){a=nA.Push;let w=nE(x.location,y,v);A=c()+1;let C=o8(w,A),S=x.createHref(w);try{o.pushState(C,"",S)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(S)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,v){a=nA.Replace;let w=nE(x.location,y,v);A=c();let C=o8(w,A),S=x.createHref(w);o.replaceState(C,"",S),s&&l&&l({action:a,location:x.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Gv(y);return w=w.replace(/ $/,"%20"),Kn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let x={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(s8,u),l=y,()=>{i.removeEventListener(s8,u),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:m,go(y){return o.go(y)}};return x}var a8;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a8||(a8={}));function RW(t,e,n){return n===void 0&&(n="/"),PW(t,e,n,!1)}function PW(t,e,n,r){let i=typeof e=="string"?Kf(e):e,s=Bf(i.pathname||"/",n);if(s==null)return null;let o=oN(t);NW(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let A=WW(s);a=GW(o[l],A,r)}return a}function oN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let A=yA([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+A+'".')),oN(s.children,e,c,A)),!(s.path==null&&!s.index)&&e.push({path:A,score:VW(A,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of aN(s.path))i(s,o,l)}),e}function aN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DW=/^:[\w-]+$/,OW=3,kW=2,QW=1,HW=10,jW=-2,l8=t=>t==="*";function VW(t,e){let n=t.split("/"),r=n.length;return n.some(l8)&&(r+=jW),e&&(r+=kW),n.filter(i=>!l8(i)).reduce((i,s)=>i+(DW.test(s)?OW:s===""?QW:HW),r)}function zW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GW(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],A=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Kv({path:l.relativePath,caseSensitive:l.caseSensitive,end:A},c),d=l.route;if(!u&&A&&n&&!r[r.length-1].route.index&&(u=Kv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:yA([s,u.pathname]),pathnameBase:qW(yA([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=yA([s,u.pathnameBase]))}return o}function Kv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KW(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((A,c,u)=>{let{paramName:d,isOptional:m}=c;if(d==="*"){let x=a[u]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const g=a[u];return m&&!g?A[d]=void 0:A[d]=(g||"").replace(/%2F/g,"/"),A},{}),pathname:s,pathnameBase:o,pattern:t}}function KW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kf(t):t;return{pathname:n?n.startsWith("/")?n:$W(n,e):e,search:ZW(r),hash:JW(i)}}function $W(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tB(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qb(t,e){let n=YW(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Kf(t):(i=xp({},t),Kn(!i.pathname||!i.pathname.includes("?"),tB("?","pathname","search",i)),Kn(!i.pathname||!i.pathname.includes("#"),tB("#","pathname","hash",i)),Kn(!i.search||!i.search.includes("#"),tB("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let u=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),u-=1;i.pathname=d.join("/")}a=u>=0?e[u]:"/"}let l=XW(i,a),A=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(A||c)&&(l.pathname+="/"),l}const yA=t=>t.join("/").replace(/\/\/+/g,"/"),qW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lN=["post","put","patch","delete"];new Set(lN);const tX=["get",...lN];new Set(tX);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}const Xx=F.createContext(null),AN=F.createContext(null),ll=F.createContext(null),$x=F.createContext(null),pa=F.createContext({outlet:null,matches:[],isDataRoute:!1}),cN=F.createContext(null);function nX(t,e){let{relative:n}=e===void 0?{}:e;Wf()||Kn(!1);let{basename:r,navigator:i}=F.useContext(ll),{hash:s,pathname:o,search:a}=Yx(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yA([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Wf(){return F.useContext($x)!=null}function bs(){return Wf()||Kn(!1),F.useContext($x).location}function uN(t){F.useContext(ll).static||F.useLayoutEffect(t)}function Bt(){let{isDataRoute:t}=F.useContext(pa);return t?gX():rX()}function rX(){Wf()||Kn(!1);let t=F.useContext(Xx),{basename:e,future:n,navigator:r}=F.useContext(ll),{matches:i}=F.useContext(pa),{pathname:s}=bs(),o=JSON.stringify(qb(i,n.v7_relativeSplatPath)),a=F.useRef(!1);return uN(()=>{a.current=!0}),F.useCallback(function(A,c){if(c===void 0&&(c={}),!a.current)return;if(typeof A=="number"){r.go(A);return}let u=Zb(A,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:yA([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,o,s,t])}const iX=F.createContext(null);function sX(t){let e=F.useContext(pa).outlet;return e&&F.createElement(iX.Provider,{value:t},e)}function ma(){let{matches:t}=F.useContext(pa),e=t[t.length-1];return e?e.params:{}}function Yx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(ll),{matches:i}=F.useContext(pa),{pathname:s}=bs(),o=JSON.stringify(qb(i,r.v7_relativeSplatPath));return F.useMemo(()=>Zb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function oX(t,e){return aX(t,e)}function aX(t,e,n,r){Wf()||Kn(!1);let{navigator:i}=F.useContext(ll),{matches:s}=F.useContext(pa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let A=bs(),c;if(e){var u;let y=typeof e=="string"?Kf(e):e;l==="/"||(u=y.pathname)!=null&&u.startsWith(l)||Kn(!1),c=y}else c=A;let d=c.pathname||"/",m=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=RW(t,{pathname:m}),x=dX(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:yA([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:yA([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&x?F.createElement($x.Provider,{value:{location:wp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:nA.Pop}},x):x}function lX(){let t=mX(),e=eX(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const AX=F.createElement(lX,null);class cX extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(pa.Provider,{value:this.props.routeContext},F.createElement(cN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uX(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(Xx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(pa.Provider,{value:e},r)}function dX(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);c>=0||Kn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,A=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(A=c),u.route.id){let{loaderData:d,errors:m}=n,g=u.route.loader&&d[u.route.id]===void 0&&(!m||m[u.route.id]===void 0);if(u.route.lazy||g){l=!0,A>=0?o=o.slice(0,A+1):o=[o[0]];break}}}return o.reduceRight((c,u,d)=>{let m,g=!1,x=null,y=null;n&&(m=a&&u.route.id?a[u.route.id]:void 0,x=u.route.errorElement||AX,l&&(A<0&&d===0?(g=!0,y=null):A===d&&(g=!0,y=u.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),w=()=>{let C;return m?C=x:g?C=y:u.route.Component?C=F.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=c,F.createElement(uX,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?F.createElement(cX,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var dN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dN||{}),Wv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wv||{});function fX(t){let e=F.useContext(Xx);return e||Kn(!1),e}function hX(t){let e=F.useContext(AN);return e||Kn(!1),e}function pX(t){let e=F.useContext(pa);return e||Kn(!1),e}function fN(t){let e=pX(),n=e.matches[e.matches.length-1];return n.route.id||Kn(!1),n.route.id}function mX(){var t;let e=F.useContext(cN),n=hX(Wv.UseRouteError),r=fN(Wv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gX(){let{router:t}=fX(dN.UseNavigateStable),e=fN(Wv.UseNavigateStable),n=F.useRef(!1);return uN(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wp({fromRouteId:e},s)))},[t,e])}function nv(t){let{to:e,replace:n,state:r,relative:i}=t;Wf()||Kn(!1);let{future:s,static:o}=F.useContext(ll),{matches:a}=F.useContext(pa),{pathname:l}=bs(),A=Bt(),c=Zb(e,qb(a,s.v7_relativeSplatPath),l,i==="path"),u=JSON.stringify(c);return F.useEffect(()=>A(JSON.parse(u),{replace:n,state:r,relative:i}),[A,u,i,n,r]),null}function vX(t){return sX(t.context)}function zt(t){Kn(!1)}function yX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=nA.Pop,navigator:s,static:o=!1,future:a}=t;Wf()&&Kn(!1);let l=e.replace(/^\/*/,"/"),A=F.useMemo(()=>({basename:l,navigator:s,static:o,future:wp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Kf(r));let{pathname:c="/",search:u="",hash:d="",state:m=null,key:g="default"}=r,x=F.useMemo(()=>{let y=Bf(c,l);return y==null?null:{location:{pathname:y,search:u,hash:d,state:m,key:g},navigationType:i}},[l,c,u,d,m,g,i]);return x==null?null:F.createElement(ll.Provider,{value:A},F.createElement($x.Provider,{children:n,value:x}))}function xX(t){let{children:e,location:n}=t;return oX(rE(e),n)}new Promise(()=>{});function rE(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,rE(r.props.children,s));return}r.type!==zt&&Kn(!1),!r.props.index||!r.props.children||Kn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rE(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(this,arguments)}function hN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CX(t,e){return t.button===0&&(!e||e==="_self")&&!wX(t)}const BX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],SX=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],_X="6";try{window.__reactRouterVersion=_X}catch{}const EX=F.createContext({isTransitioning:!1}),bX="startTransition",A8=A_[bX];function MX(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=FW({window:i,v5Compat:!0}));let o=s.current,[a,l]=F.useState({action:o.action,location:o.location}),{v7_startTransition:A}=r||{},c=F.useCallback(u=>{A&&A8?A8(()=>l(u)):l(u)},[l,A]);return F.useLayoutEffect(()=>o.listen(c),[o,c]),F.createElement(yX,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const TX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FX=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:A,preventScrollReset:c,unstable_viewTransition:u}=e,d=hN(e,BX),{basename:m}=F.useContext(ll),g,x=!1;if(typeof A=="string"&&IX.test(A)&&(g=A,TX))try{let C=new URL(window.location.href),S=A.startsWith("//")?new URL(C.protocol+A):new URL(A),M=Bf(S.pathname,m);S.origin===C.origin&&M!=null?A=M+S.search+S.hash:x=!0}catch{}let y=nX(A,{relative:i}),v=LX(A,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:u});function w(C){r&&r(C),C.defaultPrevented||v(C)}return F.createElement("a",Xv({},d,{href:g||y,onClick:x||s?r:w,ref:n,target:l}))}),Dh=F.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:A,children:c}=e,u=hN(e,SX),d=Yx(l,{relative:u.relative}),m=bs(),g=F.useContext(AN),{navigator:x,basename:y}=F.useContext(ll),v=g!=null&&RX(d)&&A===!0,w=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,C=m.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(C=C.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&y&&(S=Bf(S,y)||S);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let b=C===w||!o&&C.startsWith(w)&&C.charAt(M)==="/",T=S!=null&&(S===w||!o&&S.startsWith(w)&&S.charAt(w.length)==="/"),L={isActive:b,isPending:T,isTransitioning:v},P=b?r:void 0,E;typeof s=="function"?E=s(L):E=[s,b?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(L):a;return F.createElement(FX,Xv({},u,{"aria-current":P,className:E,ref:n,style:U,to:l,unstable_viewTransition:A}),typeof c=="function"?c(L):c)});var iE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iE||(iE={}));var c8;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c8||(c8={}));function UX(t){let e=F.useContext(Xx);return e||Kn(!1),e}function LX(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Bt(),A=bs(),c=Yx(t,{relative:o});return F.useCallback(u=>{if(CX(u,n)){u.preventDefault();let d=r!==void 0?r:Gv(A)===Gv(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[A,l,c,r,i,n,t,s,o,a])}function RX(t,e){e===void 0&&(e={});let n=F.useContext(EX);n==null&&Kn(!1);let{basename:r}=UX(iE.useViewTransitionState),i=Yx(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Bf(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Bf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kv(i.pathname,o)!=null||Kv(i.pathname,s)!=null}function pN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rA(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pN(t))&&(r&&(r+=" "),r+=e);return r}const Cp=t=>typeof t=="number"&&!isNaN(t),Vc=t=>typeof t=="string",us=t=>typeof t=="function",rv=t=>Vc(t)||us(t)?t:null,sE=t=>F.isValidElement(t)||Vc(t)||us(t)||Cp(t);function PX(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function qx(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:A,done:c,nodeRef:u,isIn:d,playToast:m}=o;const g=r?`${e}--${l}`:e,x=r?`${n}--${l}`:n,y=F.useRef(0);return F.useLayoutEffect(()=>{const v=u.current,w=g.split(" "),C=S=>{S.target===u.current&&(m(),v.removeEventListener("animationend",C),v.removeEventListener("animationcancel",C),y.current===0&&S.type!=="animationcancel"&&v.classList.remove(...w))};v.classList.add(...w),v.addEventListener("animationend",C),v.addEventListener("animationcancel",C)},[]),F.useEffect(()=>{const v=u.current,w=()=>{v.removeEventListener("animationend",w),i?PX(v,c,s):c()};d||(A?w():(y.current=1,v.className+=` ${x}`,v.addEventListener("animationend",w)))},[d]),vt.createElement(vt.Fragment,null,a)}}function u8(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Ei=new Map;let Bp=[];const oE=new Set,NX=t=>oE.forEach(e=>e(t)),mN=()=>Ei.size>0;function gN(t,e){var n;if(e)return!((n=Ei.get(e))==null||!n.isToastActive(t));let r=!1;return Ei.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function vN(t,e){sE(t)&&(mN()||Bp.push({content:t,options:e}),Ei.forEach(n=>{n.buildToast(t,e)}))}function d8(t,e){Ei.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function DX(t){const{subscribe:e,getSnapshot:n,setProps:r}=F.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(c,u,d){let m=1,g=0,x=[],y=[],v=[],w=u;const C=new Map,S=new Set,M=()=>{v=Array.from(C.values()),S.forEach(L=>L())},b=L=>{y=L==null?[]:y.filter(P=>P!==L),M()},T=L=>{const{toastId:P,onOpen:E,updateId:U,children:j}=L.props,Q=U==null;L.staleId&&C.delete(L.staleId),C.set(P,L),y=[...y,L.props.toastId].filter(G=>G!==L.staleId),M(),d(u8(L,Q?"added":"updated")),Q&&us(E)&&E(F.isValidElement(j)&&j.props)};return{id:c,props:w,observe:L=>(S.add(L),()=>S.delete(L)),toggle:(L,P)=>{C.forEach(E=>{P!=null&&P!==E.props.toastId||us(E.toggle)&&E.toggle(L)})},removeToast:b,toasts:C,clearQueue:()=>{g-=x.length,x=[]},buildToast:(L,P)=>{if((Se=>{let{containerId:Fe,toastId:ce,updateId:pe}=Se;const Be=Fe?Fe!==c:c!==1,Le=C.has(ce)&&pe==null;return Be||Le})(P))return;const{toastId:E,updateId:U,data:j,staleId:Q,delay:G}=P,J=()=>{b(E)},k=U==null;k&&g++;const V={...w,style:w.toastStyle,key:m++,...Object.fromEntries(Object.entries(P).filter(Se=>{let[Fe,ce]=Se;return ce!=null})),toastId:E,updateId:U,data:j,closeToast:J,isIn:!1,className:rv(P.className||w.toastClassName),bodyClassName:rv(P.bodyClassName||w.bodyClassName),progressClassName:rv(P.progressClassName||w.progressClassName),autoClose:!P.isLoading&&(N=P.autoClose,W=w.autoClose,N===!1||Cp(N)&&N>0?N:W),deleteToast(){const Se=C.get(E),{onClose:Fe,children:ce}=Se.props;us(Fe)&&Fe(F.isValidElement(ce)&&ce.props),d(u8(Se,"removed")),C.delete(E),g--,g<0&&(g=0),x.length>0?T(x.shift()):M()}};var N,W;V.closeButton=w.closeButton,P.closeButton===!1||sE(P.closeButton)?V.closeButton=P.closeButton:P.closeButton===!0&&(V.closeButton=!sE(w.closeButton)||w.closeButton);let Y=L;F.isValidElement(L)&&!Vc(L.type)?Y=F.cloneElement(L,{closeToast:J,toastProps:V,data:j}):us(L)&&(Y=L({closeToast:J,toastProps:V,data:j}));const re={content:Y,props:V,staleId:Q};w.limit&&w.limit>0&&g>w.limit&&k?x.push(re):Cp(G)?setTimeout(()=>{T(re)},G):T(re)},setProps(L){w=L},setToggle:(L,P)=>{C.get(L).toggle=P},isToastActive:L=>y.some(P=>P===L),getSnapshot:()=>v}}(o,s,NX);Ei.set(o,l);const A=l.observe(a);return Bp.forEach(c=>vN(c.content,c.options)),Bp=[],()=>{A(),Ei.delete(o)}},setProps(a){var l;(l=Ei.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Ei.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=F.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:gN,count:i==null?void 0:i.length}}function OX(t){const[e,n]=F.useState(!1),[r,i]=F.useState(!1),s=F.useRef(null),o=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:A,onClick:c,closeOnClick:u}=t;var d,m;function g(){n(!0)}function x(){n(!1)}function y(C){const S=s.current;o.canDrag&&S&&(o.didMove=!0,e&&x(),o.delta=t.draggableDirection==="x"?C.clientX-o.start:C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1),S.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",v);const C=s.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}(m=Ei.get((d={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||m.setToggle(d.id,d.fn),F.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||x(),window.addEventListener("focus",g),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",x)}},[t.pauseOnFocusLoss]);const w={onPointerDown:function(C){if(t.draggable===!0||t.draggable===C.pointerType){o.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",v);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(C){const{top:S,bottom:M,left:b,right:T}=s.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=b&&C.clientX<=T&&C.clientY>=S&&C.clientY<=M?x():g()}};return a&&l&&(w.onMouseEnter=x,t.stacked||(w.onMouseLeave=g)),u&&(w.onClick=C=>{c&&c(C),o.canCloseOnClick&&A()}),{playToast:g,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function kX(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:A,rtl:c,isIn:u,theme:d}=t;const m=s||l&&A===0,g={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(g.transform=`scaleX(${A})`);const x=rA("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),y=us(o)?o({rtl:c,type:i,defaultClassName:x}):rA(x,o),v={[l&&A>=1?"onTransitionEnd":"onAnimationEnd"]:l&&A<1?null:()=>{u&&r()}};return vt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},vt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),vt.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:g,...v}))}let QX=1;const yN=()=>""+QX++;function HX(t){return t&&(Vc(t.toastId)||Cp(t.toastId))?t.toastId:yN()}function N0(t,e){return vN(t,e),e.toastId}function $v(t,e){return{...e,type:e&&e.type||t,toastId:HX(e)}}function fg(t){return(e,n)=>N0(e,$v(t,n))}function bn(t,e){return N0(t,$v("default",e))}bn.loading=(t,e)=>N0(t,$v("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),bn.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Vc(i)?bn.loading(i,n):bn.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,u,d)=>{if(u==null)return void bn.dismiss(r);const m={type:c,...a,...n,data:d},g=Vc(u)?{render:u}:u;return r?bn.update(r,{...m,...g}):bn(g.render,{...m,...g}),d},A=us(t)?t():t;return A.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),A},bn.success=fg("success"),bn.info=fg("info"),bn.error=fg("error"),bn.warning=fg("warning"),bn.warn=bn.warning,bn.dark=(t,e)=>N0(t,$v("default",{theme:"dark",...e})),bn.dismiss=function(t){(function(e){var n;if(mN()){if(e==null||Vc(n=e)||Cp(n))Ei.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Ei.get(e.containerId);r?r.removeToast(e.id):Ei.forEach(i=>{i.removeToast(e.id)})}}else Bp=Bp.filter(r=>e!=null&&r.options.toastId!==e)})(t)},bn.clearWaitingQueue=function(t){t===void 0&&(t={}),Ei.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},bn.isActive=gN,bn.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Ei.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:yN()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,N0(o,s)}},bn.done=t=>{bn.update(t,{progress:1})},bn.onChange=function(t){return oE.add(t),()=>{oE.delete(t)}},bn.play=t=>d8(!0,t),bn.pause=t=>d8(!1,t);const jX=typeof window<"u"?F.useLayoutEffect:F.useEffect,hg=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return vt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},nB={info:function(t){return vt.createElement(hg,{...t},vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return vt.createElement(hg,{...t},vt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return vt.createElement(hg,{...t},vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return vt.createElement(hg,{...t},vt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return vt.createElement("div",{className:"Toastify__spinner"})}},VX=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=OX(t),{closeButton:o,children:a,autoClose:l,onClick:A,type:c,hideProgressBar:u,closeToast:d,transition:m,position:g,className:x,style:y,bodyClassName:v,bodyStyle:w,progressClassName:C,progressStyle:S,updateId:M,role:b,progress:T,rtl:L,toastId:P,deleteToast:E,isIn:U,isLoading:j,closeOnClick:Q,theme:G}=t,J=rA("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":Q}),k=us(x)?x({rtl:L,position:g,type:c,defaultClassName:J}):rA(J,x),V=function(re){let{theme:Se,type:Fe,isLoading:ce,icon:pe}=re,Be=null;const Le={theme:Se,type:Fe};return pe===!1||(us(pe)?Be=pe({...Le,isLoading:ce}):F.isValidElement(pe)?Be=F.cloneElement(pe,Le):ce?Be=nB.spinner():(oe=>oe in nB)(Fe)&&(Be=nB[Fe](Le))),Be}(t),N=!!T||!l,W={closeToast:d,type:c,theme:G};let Y=null;return o===!1||(Y=us(o)?o(W):F.isValidElement(o)?F.cloneElement(o,W):function(re){let{closeToast:Se,theme:Fe,ariaLabel:ce="close"}=re;return vt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Fe}`,type:"button",onClick:pe=>{pe.stopPropagation(),Se(pe)},"aria-label":ce},vt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},vt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(W)),vt.createElement(m,{isIn:U,done:E,position:g,preventExitTransition:n,nodeRef:r,playToast:s},vt.createElement("div",{id:P,onClick:A,"data-in":U,className:k,...i,style:y,ref:r},vt.createElement("div",{...U&&{role:b},className:us(v)?v({type:c}):rA("Toastify__toast-body",v),style:w},V!=null&&vt.createElement("div",{className:rA("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},V),vt.createElement("div",null,a)),Y,vt.createElement(kX,{...M&&!N?{key:`pb-${M}`}:{},rtl:L,theme:G,delay:l,isRunning:e,isIn:U,closeToast:d,hide:u,type:c,style:S,className:C,controlledProgress:N,progress:T||0})))},Zx=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},zX=qx(Zx("bounce",!0));qx(Zx("slide",!0));qx(Zx("zoom"));qx(Zx("flip"));const GX={position:"top-right",transition:zX,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function KX(t){let e={...GX,...t};const n=t.stacked,[r,i]=F.useState(!0),s=F.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=DX(e),{className:A,style:c,rtl:u,containerId:d}=e;function m(x){const y=rA("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":u});return us(A)?A({position:x,rtl:u,defaultClassName:y}):rA(y,rv(A))}function g(){n&&(i(!0),bn.play())}return jX(()=>{if(n){var x;const y=s.current.querySelectorAll('[data-in="true"]'),v=12,w=(x=e.position)==null?void 0:x.includes("top");let C=0,S=0;Array.from(y).reverse().forEach((M,b)=>{const T=M;T.classList.add("Toastify__toast--stacked"),b>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=w?"top":"bot");const L=C*(r?.2:1)+(r?0:v*b);T.style.setProperty("--y",`${w?L:-1*L}px`),T.style.setProperty("--g",`${v}`),T.style.setProperty("--s",""+(1-(r?S:0))),C+=T.offsetHeight,S+=.025})}},[r,l,n]),vt.createElement("div",{ref:s,className:"Toastify",id:d,onMouseEnter:()=>{n&&(i(!1),bn.pause())},onMouseLeave:g},o((x,y)=>{const v=y.length?{...c}:{...c,pointerEvents:"none"};return vt.createElement("div",{className:m(x),style:v,key:`container-${x}`},y.map(w=>{let{content:C,props:S}=w;return vt.createElement(VX,{...S,stacked:n,collapseAll:g,isIn:a(S.toastId,S.containerId),style:S.style,key:`toast-${S.key}`},C)}))}))}const WX=({icon:t,title:e,message:n,buttonLabel:r,handleClick:i})=>p.jsxs("div",{className:"flex flex-row justify-between w-[22.5625rem] h-[4.375rem] bg-[#FF9F1C] text-white py-4 px-5 rounded-[1rem]",children:[p.jsxs("div",{className:" flex flex-row",children:[p.jsx("div",{className:"flex items-center mr-2",children:p.jsx("img",{src:t})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("p",{className:"text-c1",children:e}),p.jsx("p",{className:"text-btn2 font-semibold",children:n})]})]}),p.jsx("button",{onClick:i,className:"text-btn3 bg-white bg-opacity-20 py-1 px-3 rounded-[0.375rem]",children:r})]}),XX=({icon:t,title:e,message:n,buttonLabel:r,handleClick:i,duration:s=3e3})=>{bn(p.jsx(WX,{icon:t,title:e,message:n,buttonLabel:r,handleClick:i}),{autoClose:s,draggable:!0,hideProgressBar:!0})};var aE={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(t,e){(function(n){var r=n.setTimeout,i=n.clearTimeout,s=n.XMLHttpRequest,o=n.XDomainRequest,a=n.ActiveXObject,l=n.EventSource,A=n.document,c=n.Promise,u=n.fetch,d=n.Response,m=n.TextDecoder,g=n.TextEncoder,x=n.AbortController;if(typeof window<"u"&&typeof A<"u"&&!("readyState"in A)&&A.body==null&&(A.readyState="loading",window.addEventListener("load",function(q){A.readyState="complete"},!1)),s==null&&a!=null&&(s=function(){return new a("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(q){function ae(){}return ae.prototype=q,new ae}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var y=u;u=function(q,ae){var be=ae.signal;return y(q,{headers:ae.headers,credentials:ae.credentials,cache:ae.cache}).then(function(he){var H=he.body.getReader();return be._reader=H,be._aborted&&be._reader.cancel(),{status:he.status,statusText:he.statusText,headers:he.headers,body:{getReader:function(){return H}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(q){function ae(ve,Qe,Te){if(Te===1)return ve>=128>>Qe&&ve<<Qe<=2047;if(Te===2)return ve>=2048>>Qe&&ve<<Qe<=55295||ve>=57344>>Qe&&ve<<Qe<=65535;if(Te===3)return ve>=65536>>Qe&&ve<<Qe<=1114111;throw new Error}function be(ve,Qe){if(ve===6*1)return Qe>>6>15?3:Qe>31?2:1;if(ve===6*2)return Qe>15?3:2;if(ve===6*3)return 3;throw new Error}for(var he=65533,H="",D=this.bitsNeeded,ne=this.codePoint,xe=0;xe<q.length;xe+=1){var ge=q[xe];D!==0&&(ge<128||ge>191||!ae(ne<<6|ge&63,D-6,be(D,ne)))&&(D=0,ne=he,H+=String.fromCharCode(ne)),D===0?(ge>=0&&ge<=127?(D=0,ne=ge):ge>=192&&ge<=223?(D=6*1,ne=ge&31):ge>=224&&ge<=239?(D=6*2,ne=ge&15):ge>=240&&ge<=247?(D=6*3,ne=ge&7):(D=0,ne=he),D!==0&&!ae(ne,D,be(D,ne))&&(D=0,ne=he)):(D-=6,ne=ne<<6|ge&63),D===0&&(ne<=65535?H+=String.fromCharCode(ne):(H+=String.fromCharCode(55296+(ne-65535-1>>10)),H+=String.fromCharCode(56320+(ne-65535-1&1023))))}return this.bitsNeeded=D,this.codePoint=ne,H};var w=function(){try{return new m().decode(new g().encode("test"),{stream:!0})==="test"}catch(q){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+q)}return!1};(m==null||g==null||!w())&&(m=v);var C=function(){};function S(q){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=C,this.onload=C,this.onerror=C,this.onreadystatechange=C,this._contentType="",this._xhr=q,this._sendTimeout=0,this._abort=C}S.prototype.open=function(q,ae){this._abort(!0);var be=this,he=this._xhr,H=1,D=0;this._abort=function(Te){be._sendTimeout!==0&&(i(be._sendTimeout),be._sendTimeout=0),(H===1||H===2||H===3)&&(H=4,he.onload=C,he.onerror=C,he.onabort=C,he.onprogress=C,he.onreadystatechange=C,he.abort(),D!==0&&(i(D),D=0),Te||(be.readyState=4,be.onabort(null),be.onreadystatechange())),H=0};var ne=function(){if(H===1){var Te=0,ke="",St=void 0;if("contentType"in he)Te=200,ke="OK",St=he.contentType;else try{Te=he.status,ke=he.statusText,St=he.getResponseHeader("Content-Type")}catch{Te=0,ke="",St=void 0}Te!==0&&(H=2,be.readyState=2,be.status=Te,be.statusText=ke,be._contentType=St,be.onreadystatechange())}},xe=function(){if(ne(),H===2||H===3){H=3;var Te="";try{Te=he.responseText}catch{}be.readyState=3,be.responseText=Te,be.onprogress()}},ge=function(Te,ke){if((ke==null||ke.preventDefault==null)&&(ke={preventDefault:C}),xe(),H===1||H===2||H===3){if(H=4,D!==0&&(i(D),D=0),be.readyState=4,Te==="load")be.onload(ke);else if(Te==="error")be.onerror(ke);else if(Te==="abort")be.onabort(ke);else throw new TypeError;be.onreadystatechange()}},ve=function(Te){he!=null&&(he.readyState===4?(!("onload"in he)||!("onerror"in he)||!("onabort"in he))&&ge(he.responseText===""?"error":"load",Te):he.readyState===3?"onprogress"in he||xe():he.readyState===2&&ne())},Qe=function(){D=r(function(){Qe()},500),he.readyState===3&&xe()};"onload"in he&&(he.onload=function(Te){ge("load",Te)}),"onerror"in he&&(he.onerror=function(Te){ge("error",Te)}),"onabort"in he&&(he.onabort=function(Te){ge("abort",Te)}),"onprogress"in he&&(he.onprogress=xe),"onreadystatechange"in he&&(he.onreadystatechange=function(Te){ve(Te)}),("contentType"in he||!("ontimeout"in s.prototype))&&(ae+=(ae.indexOf("?")===-1?"?":"&")+"padding=true"),he.open(q,ae,!0),"readyState"in he&&(D=r(function(){Qe()},0))},S.prototype.abort=function(){this._abort(!1)},S.prototype.getResponseHeader=function(q){return this._contentType},S.prototype.setRequestHeader=function(q,ae){var be=this._xhr;"setRequestHeader"in be&&be.setRequestHeader(q,ae)},S.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},S.prototype.send=function(){if((!("ontimeout"in s.prototype)||!("sendAsBinary"in s.prototype)&&!("mozAnon"in s.prototype))&&A!=null&&A.readyState!=null&&A.readyState!=="complete"){var q=this;q._sendTimeout=r(function(){q._sendTimeout=0,q.send()},4);return}var ae=this._xhr;"withCredentials"in ae&&(ae.withCredentials=this.withCredentials);try{ae.send(void 0)}catch(be){throw be}};function M(q){return q.replace(/[A-Z]/g,function(ae){return String.fromCharCode(ae.charCodeAt(0)+32)})}function b(q){for(var ae=Object.create(null),be=q.split(`\r
`),he=0;he<be.length;he+=1){var H=be[he],D=H.split(": "),ne=D.shift(),xe=D.join(": ");ae[M(ne)]=xe}this._map=ae}b.prototype.get=function(q){return this._map[M(q)]},s!=null&&s.HEADERS_RECEIVED==null&&(s.HEADERS_RECEIVED=2);function T(){}T.prototype.open=function(q,ae,be,he,H,D,ne){q.open("GET",H);var xe=0;q.onprogress=function(){var ve=q.responseText,Qe=ve.slice(xe);xe+=Qe.length,be(Qe)},q.onerror=function(ve){ve.preventDefault(),he(new Error("NetworkError"))},q.onload=function(){he(null)},q.onabort=function(){he(null)},q.onreadystatechange=function(){if(q.readyState===s.HEADERS_RECEIVED){var ve=q.status,Qe=q.statusText,Te=q.getResponseHeader("Content-Type"),ke=q.getAllResponseHeaders();ae(ve,Qe,Te,new b(ke))}},q.withCredentials=D;for(var ge in ne)Object.prototype.hasOwnProperty.call(ne,ge)&&q.setRequestHeader(ge,ne[ge]);return q.send(),q};function L(q){this._headers=q}L.prototype.get=function(q){return this._headers.get(q)};function P(){}P.prototype.open=function(q,ae,be,he,H,D,ne){var xe=null,ge=new x,ve=ge.signal,Qe=new m;return u(H,{headers:ne,credentials:D?"include":"same-origin",signal:ve,cache:"no-store"}).then(function(Te){return xe=Te.body.getReader(),ae(Te.status,Te.statusText,Te.headers.get("Content-Type"),new L(Te.headers)),new c(function(ke,St){var Oe=function(){xe.read().then(function(je){if(je.done)ke(void 0);else{var st=Qe.decode(je.value,{stream:!0});be(st),Oe()}}).catch(function(je){St(je)})};Oe()})}).catch(function(Te){if(Te.name!=="AbortError")return Te}).then(function(Te){he(Te)}),{abort:function(){xe!=null&&xe.cancel(),ge.abort()}}};function E(){this._listeners=Object.create(null)}function U(q){r(function(){throw q},0)}E.prototype.dispatchEvent=function(q){q.target=this;var ae=this._listeners[q.type];if(ae!=null)for(var be=ae.length,he=0;he<be;he+=1){var H=ae[he];try{typeof H.handleEvent=="function"?H.handleEvent(q):H.call(this,q)}catch(D){U(D)}}},E.prototype.addEventListener=function(q,ae){q=String(q);var be=this._listeners,he=be[q];he==null&&(he=[],be[q]=he);for(var H=!1,D=0;D<he.length;D+=1)he[D]===ae&&(H=!0);H||he.push(ae)},E.prototype.removeEventListener=function(q,ae){q=String(q);var be=this._listeners,he=be[q];if(he!=null){for(var H=[],D=0;D<he.length;D+=1)he[D]!==ae&&H.push(he[D]);H.length===0?delete be[q]:be[q]=H}};function j(q){this.type=q,this.target=void 0}function Q(q,ae){j.call(this,q),this.data=ae.data,this.lastEventId=ae.lastEventId}Q.prototype=Object.create(j.prototype);function G(q,ae){j.call(this,q),this.status=ae.status,this.statusText=ae.statusText,this.headers=ae.headers}G.prototype=Object.create(j.prototype);function J(q,ae){j.call(this,q),this.error=ae.error}J.prototype=Object.create(j.prototype);var k=-1,V=0,N=1,W=2,Y=-1,re=0,Se=1,Fe=2,ce=3,pe=/^text\/event\-stream(;.*)?$/i,Be=1e3,Le=18e6,oe=function(q,ae){var be=q==null?ae:parseInt(q,10);return be!==be&&(be=ae),ie(be)},ie=function(q){return Math.min(Math.max(q,Be),Le)},de=function(q,ae,be){try{typeof ae=="function"&&ae.call(q,be)}catch(he){U(he)}};function te(q,ae){E.call(this),ae=ae||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Ie(this,q,ae)}function fe(){return s!=null&&"withCredentials"in s.prototype||o==null?new s:new o}var O=u!=null&&d!=null&&"body"in d.prototype;function Ie(q,ae,be){ae=String(ae);var he=!!be.withCredentials,H=be.lastEventIdQueryParameterName||"lastEventId",D=ie(1e3),ne=oe(be.heartbeatTimeout,45e3),xe="",ge=D,ve=!1,Qe=0,Te=be.headers||{},ke=be.Transport,St=O&&ke==null?void 0:new S(ke!=null?new ke:fe()),Oe=ke!=null&&typeof ke!="string"?new ke:St==null?new P:new T,je=void 0,st=0,ut=k,Ye="",Tt="",Z="",Ne="",$=re,De=0,me=0,Re=function(It,ft,Xt,cn){if(ut===V)if(It===200&&Xt!=null&&pe.test(Xt)){ut=N,ve=Date.now(),ge=D,q.readyState=N;var Un=new G("open",{status:It,statusText:ft,headers:cn});q.dispatchEvent(Un),de(q,q.onopen,Un)}else{var Xn="";It!==200?(ft&&(ft=ft.replace(/\s+/g," ")),Xn="EventSource's response has a status "+It+" "+ft+" that is not 200. Aborting the connection."):Xn="EventSource's response has a Content-Type specifying an unsupported type: "+(Xt==null?"-":Xt.replace(/\s+/g," "))+". Aborting the connection.",Lt();var Un=new G("error",{status:It,statusText:ft,headers:cn});q.dispatchEvent(Un),de(q,q.onerror,Un),console.error(Xn)}},Ke=function(It){if(ut===N){for(var ft=-1,Xt=0;Xt<It.length;Xt+=1){var cn=It.charCodeAt(Xt);(cn===10||cn===13)&&(ft=Xt)}var Un=(ft!==-1?Ne:"")+It.slice(0,ft+1);Ne=(ft===-1?Ne:"")+It.slice(ft+1),It!==""&&(ve=Date.now(),Qe+=It.length);for(var Xn=0;Xn<Un.length;Xn+=1){var cn=Un.charCodeAt(Xn);if($===Y&&cn===10)$=re;else if($===Y&&($=re),cn===13||cn===10){if($!==re){$===Se&&(me=Xn+1);var gr=Un.slice(De,me-1),$r=Un.slice(me+(me<Xn&&Un.charCodeAt(me)===32?1:0),Xn);gr==="data"?(Ye+=`
`,Ye+=$r):gr==="id"?Tt=$r:gr==="event"?Z=$r:gr==="retry"?(D=oe($r,D),ge=D):gr==="heartbeatTimeout"&&(ne=oe($r,ne),st!==0&&(i(st),st=r(function(){Gt()},ne)))}if($===re){if(Ye!==""){xe=Tt,Z===""&&(Z="message");var Ji=new Q(Z,{data:Ye.slice(1),lastEventId:Tt});if(q.dispatchEvent(Ji),Z==="open"?de(q,q.onopen,Ji):Z==="message"?de(q,q.onmessage,Ji):Z==="error"&&de(q,q.onerror,Ji),ut===W)return}Ye="",Z=""}$=cn===13?Y:re}else $===re&&(De=Xn,$=Se),$===Se?cn===58&&(me=Xn+1,$=Fe):$===Fe&&($=ce)}}},Je=function(It){if(ut===N||ut===V){ut=k,st!==0&&(i(st),st=0),st=r(function(){Gt()},ge),ge=ie(Math.min(D*16,ge*2)),q.readyState=V;var ft=new J("error",{error:It});q.dispatchEvent(ft),de(q,q.onerror,ft),It!=null&&console.error(It)}},Lt=function(){ut=W,je!=null&&(je.abort(),je=void 0),st!==0&&(i(st),st=0),q.readyState=W},Gt=function(){if(st=0,ut!==k){if(!ve&&je!=null)Je(new Error("No activity within "+ne+" milliseconds. "+(ut===V?"No response received.":Qe+" chars received.")+" Reconnecting.")),je!=null&&(je.abort(),je=void 0);else{var It=Math.max((ve||Date.now())+ne-Date.now(),1);ve=!1,st=r(function(){Gt()},It)}return}ve=!1,Qe=0,st=r(function(){Gt()},ne),ut=V,Ye="",Z="",Tt=xe,Ne="",De=0,me=0,$=re;var ft=ae;if(ae.slice(0,5)!=="data:"&&ae.slice(0,5)!=="blob:"&&xe!==""){var Xt=ae.indexOf("?");ft=Xt===-1?ae:ae.slice(0,Xt+1)+ae.slice(Xt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function($r,Ji){return Ji===H?"":$r}),ft+=(ae.indexOf("?")===-1?"?":"&")+H+"="+encodeURIComponent(xe)}var cn=q.withCredentials,Un={};Un.Accept="text/event-stream";var Xn=q.headers;if(Xn!=null)for(var gr in Xn)Object.prototype.hasOwnProperty.call(Xn,gr)&&(Un[gr]=Xn[gr]);try{je=Oe.open(St,Re,Ke,Je,ft,cn,Un)}catch($r){throw Lt(),$r}};q.url=ae,q.readyState=V,q.withCredentials=he,q.headers=Te,q._close=Lt,Gt()}te.prototype=Object.create(E.prototype),te.prototype.CONNECTING=V,te.prototype.OPEN=N,te.prototype.CLOSED=W,te.prototype.close=function(){this._close()},te.CONNECTING=V,te.OPEN=N,te.CLOSED=W,te.prototype.withCredentials=void 0;var Pe=l;s!=null&&(l==null||!("withCredentials"in l.prototype))&&(Pe=te),function(q){{var ae=q(e);ae!==void 0&&(t.exports=ae)}}(function(q){q.EventSourcePolyfill=te,q.NativeEventSource=l,q.EventSource=Pe})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:wd:globalThis)})(aE,aE.exports);var $X=aE.exports;const xN=F.createContext(null),YX={isCommonAlarmChecked:null,isAnnouncementChecked:null,isItemUnlockedChecked:null,isLevelUpChecked:null,isBadgeUnlockedChecked:null,newLevel:null,newBadgeInfo:null},qX=({children:t})=>{const[e,n]=F.useState(YX),[r,i]=F.useState(null),s=()=>{const l=JSON.parse(localStorage.getItem("token")||"{}"),A=l==null?void 0:l.accessToken;if(!A)return console.error("Access key가 없어서 SSE 초기화가 중단되었습니다."),null;try{const c=new $X.EventSourcePolyfill("undefined/alarms/subscribe",{headers:{Authorization:`Bearer ${A}`},heartbeatTimeout:3e8,withCredentials:!0});return console.log("SSE 연결 성공"),c.onopen=()=>console.log("SSE 연결 열림"),c.addEventListener("sse-alarm",o),c.onerror=a,i(c),c}catch(c){return console.error("SSE 연결 중 예외 발생:",c),null}},o=l=>{try{const A=JSON.parse(l.data);console.log("SSE 메시지 수신:",A),n(A)}catch(A){console.error("SSE 메시지 파싱 오류:",A)}},a=l=>{console.error("SSE 연결 에러:",l)};return F.useEffect(()=>(r||s(),()=>{r&&(r.close(),console.log("SSE 연결 종료"))}),[r]),p.jsx(xN.Provider,{value:{sseData:e},children:t})},Jx=()=>F.useContext(xN),ZX="data:image/svg+xml,%3csvg%20width='28'%20height='32'%20viewBox='0%200%2028%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.5591%200.5C15.2028%200.5%2016.7486%200.95125%2018.0789%201.74248C18.2589%201.83909%2018.418%201.97206%2018.5467%202.13339C18.6753%202.29472%2018.7708%202.48107%2018.8274%202.68124C18.884%202.88141%2018.9006%203.09126%2018.8761%203.29816C18.8516%203.50507%2018.7865%203.70475%2018.6849%203.88519C18.5832%204.06564%2018.447%204.22312%2018.2844%204.34817C18.1218%204.47321%2017.9363%204.56324%2017.7389%204.61282C17.5416%204.66241%2017.3365%204.67053%2017.136%204.63671C16.9355%204.60288%2016.7438%204.5278%2016.5723%204.41599C15.656%203.87332%2014.6165%203.58769%2013.5584%203.58782C12.5003%203.58795%2011.461%203.87383%2010.5448%204.41672C9.62856%204.95961%208.86786%205.74036%208.33915%206.68048C7.81044%207.6206%207.53235%208.68693%207.53286%209.77226L24.1051%209.77381C24.9043%209.77381%2025.6707%2010.0994%2026.2358%2010.6791C26.8008%2011.2587%2027.1183%2012.0448%2027.1183%2012.8646V28.3183C27.1183%2029.1381%2026.8008%2029.9242%2026.2358%2030.5038C25.6707%2031.0835%2024.9043%2031.4091%2024.1051%2031.4091H3.01314C2.21401%2031.4091%201.4476%2031.0835%200.882529%2030.5038C0.317455%2029.9242%200%2029.1381%200%2028.3183V12.863C0%2012.0433%200.317455%2011.2572%200.882529%2010.6775C1.4476%2010.0979%202.21401%209.77226%203.01314%209.77226H4.51971C4.51971%207.31311%205.47208%204.95467%207.1673%203.21578C8.86252%201.4769%2011.1617%200.5%2013.5591%200.5ZM13.5591%2015.9538C12.8959%2015.9538%2012.2511%2016.1783%2011.7249%2016.5925C11.1987%2017.0067%2010.8205%2017.5874%2010.6488%2018.2446C10.4771%2018.9017%2010.5217%2019.5987%2010.7755%2020.2272C11.0293%2020.8558%2011.4782%2021.3809%2012.0526%2021.7211V23.6807C12.0526%2024.0905%2012.2113%2024.4836%2012.4938%2024.7734C12.7764%2025.0632%2013.1596%2025.226%2013.5591%2025.226C13.9587%2025.226%2014.3419%2025.0632%2014.6244%2024.7734C14.907%2024.4836%2015.0657%2024.0905%2015.0657%2023.6807V21.7211C15.6401%2021.3809%2016.089%2020.8558%2016.3428%2020.2272C16.5966%2019.5987%2016.6411%2018.9017%2016.4695%2018.2446C16.2978%2017.5874%2015.9195%2017.0067%2015.3933%2016.5925C14.8671%2016.1783%2014.2224%2015.9538%2013.5591%2015.9538ZM25.4882%205.16858L26.9435%205.57038C27.3146%205.68954%2027.6264%205.95125%2027.8137%206.30077C28.001%206.65029%2028.0493%207.06056%2027.9485%207.44578C27.8477%207.83099%2027.6056%208.16131%2027.2729%208.36766C26.9401%208.57401%2026.5425%208.64041%2026.1631%208.55296L24.7093%208.15425C24.3249%208.04679%2023.9978%207.78756%2023.7993%207.43329C23.6008%207.07901%2023.5472%206.65852%2023.6501%206.2638C23.7531%205.86908%2024.0043%205.53225%2024.3488%205.32701C24.6932%205.12176%2025.1029%205.0648%2025.4882%205.16858ZM23.5522%200.639084C23.7434%200.691624%2023.9225%200.782272%2024.0795%200.90585C24.2365%201.02943%2024.3682%201.18351%2024.4671%201.35931C24.566%201.5351%2024.6302%201.72916%2024.656%201.93041C24.6818%202.13165%2024.6686%202.33613%2024.6174%202.53217L24.423%203.27704C24.3726%203.47392%2024.2848%203.65864%2024.1646%203.82059C24.0444%203.98255%2023.8942%204.11856%2023.7226%204.2208C23.551%204.32304%2023.3614%204.38951%2023.1647%204.41638C22.968%204.44325%2022.7681%204.42999%2022.5764%204.37738C22.3847%204.32476%2022.205%204.23381%2022.0477%204.10977C21.8904%203.98572%2021.7585%203.83101%2021.6596%203.65453C21.5607%203.47805%2021.4968%203.28327%2021.4716%203.08138C21.4463%202.87949%2021.4601%202.67447%2021.5123%202.47808L21.7082%201.73167C21.8116%201.33606%2022.064%200.998765%2022.4098%200.793897C22.7555%200.58903%2023.1664%200.533347%2023.5522%200.639084Z'%20fill='url(%23paint0_linear_4402_46847)'%20fill-opacity='0.8'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4402_46847'%20x1='23.7847'%20y1='3.20904'%20x2='6.39725'%20y2='41.1739'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.286119'%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='%23FF9F1C'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",JX="/assets/teacher-duck-_Jgdh_uv.svg";var wN={exports:{}};(function(t,e){(function(n,r){t.exports=r(F)})(typeof self<"u"?self:wd,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var A in o)s.d(l,A,(function(c){return o[c]}).bind(null,A));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=2)}([function(r,i){r.exports=n},function(r,i,s){var o={linear:function(a,l,A,c){return(A-l)*a/c+l},easeInQuad:function(a,l,A,c){return(A-l)*(a/=c)*a+l},easeOutQuad:function(a,l,A,c){return-(A-l)*(a/=c)*(a-2)+l},easeInOutQuad:function(a,l,A,c){var u=A-l;return(a/=c/2)<1?u/2*a*a+l:-u/2*(--a*(a-2)-1)+l},easeInCubic:function(a,l,A,c){return(A-l)*(a/=c)*a*a+l},easeOutCubic:function(a,l,A,c){return(A-l)*((a=a/c-1)*a*a+1)+l},easeInOutCubic:function(a,l,A,c){var u=A-l;return(a/=c/2)<1?u/2*a*a*a+l:u/2*((a-=2)*a*a+2)+l},easeInQuart:function(a,l,A,c){return(A-l)*(a/=c)*a*a*a+l},easeOutQuart:function(a,l,A,c){return-(A-l)*((a=a/c-1)*a*a*a-1)+l},easeInOutQuart:function(a,l,A,c){var u=A-l;return(a/=c/2)<1?u/2*a*a*a*a+l:-u/2*((a-=2)*a*a*a-2)+l},easeInQuint:function(a,l,A,c){return(A-l)*(a/=c)*a*a*a*a+l},easeOutQuint:function(a,l,A,c){return(A-l)*((a=a/c-1)*a*a*a*a+1)+l},easeInOutQuint:function(a,l,A,c){var u=A-l;return(a/=c/2)<1?u/2*a*a*a*a*a+l:u/2*((a-=2)*a*a*a*a+2)+l},easeInSine:function(a,l,A,c){var u=A-l;return-u*Math.cos(a/c*(Math.PI/2))+u+l},easeOutSine:function(a,l,A,c){return(A-l)*Math.sin(a/c*(Math.PI/2))+l},easeInOutSine:function(a,l,A,c){return-(A-l)/2*(Math.cos(Math.PI*a/c)-1)+l},easeInExpo:function(a,l,A,c){return a==0?l:(A-l)*Math.pow(2,10*(a/c-1))+l},easeOutExpo:function(a,l,A,c){var u=A-l;return a==c?l+u:u*(1-Math.pow(2,-10*a/c))+l},easeInOutExpo:function(a,l,A,c){var u=A-l;return a===0?l:a===c?l+u:(a/=c/2)<1?u/2*Math.pow(2,10*(a-1))+l:u/2*(2-Math.pow(2,-10*--a))+l},easeInCirc:function(a,l,A,c){return-(A-l)*(Math.sqrt(1-(a/=c)*a)-1)+l},easeOutCirc:function(a,l,A,c){return(A-l)*Math.sqrt(1-(a=a/c-1)*a)+l},easeInOutCirc:function(a,l,A,c){var u=A-l;return(a/=c/2)<1?-u/2*(Math.sqrt(1-a*a)-1)+l:u/2*(Math.sqrt(1-(a-=2)*a)+1)+l},easeInElastic:function(a,l,A,c){var u,d,m,g=A-l;return m=1.70158,a===0?l:(a/=c)==1?l+g:((d=0)||(d=.3*c),(u=g)<Math.abs(g)?(u=g,m=d/4):m=d/(2*Math.PI)*Math.asin(g/u),-u*Math.pow(2,10*(a-=1))*Math.sin((a*c-m)*(2*Math.PI)/d)+l)},easeOutElastic:function(a,l,A,c){var u,d,m,g=A-l;return m=1.70158,a===0?l:(a/=c)==1?l+g:((d=0)||(d=.3*c),(u=g)<Math.abs(g)?(u=g,m=d/4):m=d/(2*Math.PI)*Math.asin(g/u),u*Math.pow(2,-10*a)*Math.sin((a*c-m)*(2*Math.PI)/d)+g+l)},easeInOutElastic:function(a,l,A,c){var u,d,m,g=A-l;return m=1.70158,a===0?l:(a/=c/2)==2?l+g:((d=0)||(d=c*.44999999999999996),(u=g)<Math.abs(g)?(u=g,m=d/4):m=d/(2*Math.PI)*Math.asin(g/u),a<1?u*Math.pow(2,10*(a-=1))*Math.sin((a*c-m)*(2*Math.PI)/d)*-.5+l:u*Math.pow(2,-10*(a-=1))*Math.sin((a*c-m)*(2*Math.PI)/d)*.5+g+l)},easeInBack:function(a,l,A,c,u){return u===void 0&&(u=1.70158),(A-l)*(a/=c)*a*((u+1)*a-u)+l},easeOutBack:function(a,l,A,c,u){return u===void 0&&(u=1.70158),(A-l)*((a=a/c-1)*a*((u+1)*a+u)+1)+l},easeInOutBack:function(a,l,A,c,u){var d=A-l;return u===void 0&&(u=1.70158),(a/=c/2)<1?d/2*(a*a*((1+(u*=1.525))*a-u))+l:d/2*((a-=2)*a*((1+(u*=1.525))*a+u)+2)+l},easeInBounce:function(a,l,A,c){var u=A-l;return u-o.easeOutBounce(c-a,0,u,c)+l},easeOutBounce:function(a,l,A,c){var u=A-l;return(a/=c)<.36363636363636365?u*(7.5625*a*a)+l:a<.7272727272727273?u*(7.5625*(a-=.5454545454545454)*a+.75)+l:a<.9090909090909091?u*(7.5625*(a-=.8181818181818182)*a+.9375)+l:u*(7.5625*(a-=.9545454545454546)*a+.984375)+l},easeInOutBounce:function(a,l,A,c){var u=A-l;return a<c/2?.5*o.easeInBounce(2*a,0,u,c)+l:.5*o.easeOutBounce(2*a-c,0,u,c)+.5*u+l}};r.exports=o},function(r,i,s){r.exports=s(3)},function(r,i,s){s.r(i),s.d(i,"ReactConfetti",function(){return Le});var o,a,l=s(0),A=s.n(l),c=s(1),u=s.n(c);function d(oe,ie){return oe+Math.random()*(ie-oe)}function m(oe,ie){for(var de=0;de<ie.length;de++){var te=ie[de];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(oe,te.key,te)}}function g(oe,ie,de){return ie in oe?Object.defineProperty(oe,ie,{value:de,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=de,oe}(function(oe){oe[oe.Circle=0]="Circle",oe[oe.Square=1]="Square",oe[oe.Strip=2]="Strip"})(o||(o={})),function(oe){oe[oe.Positive=1]="Positive",oe[oe.Negative=-1]="Negative"}(a||(a={}));var x=function(){function oe(te,fe,O,Ie){(function(D,ne){if(!(D instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,oe),g(this,"context",void 0),g(this,"radius",void 0),g(this,"x",void 0),g(this,"y",void 0),g(this,"w",void 0),g(this,"h",void 0),g(this,"vx",void 0),g(this,"vy",void 0),g(this,"shape",void 0),g(this,"angle",void 0),g(this,"angularSpin",void 0),g(this,"color",void 0),g(this,"rotateY",void 0),g(this,"rotationDirection",void 0),g(this,"getOptions",void 0),this.getOptions=fe;var Pe,q,ae=this.getOptions(),be=ae.colors,he=ae.initialVelocityX,H=ae.initialVelocityY;this.context=te,this.x=O,this.y=Ie,this.w=d(5,20),this.h=d(5,20),this.radius=d(5,10),this.vx=typeof he=="number"?d(-he,he):d(he.min,he.max),this.vy=typeof H=="number"?d(-H,0):d(H.min,H.max),this.shape=(Pe=0,q=2,Math.floor(Pe+Math.random()*(q-Pe+1))),this.angle=d(0,360)*Math.PI/180,this.angularSpin=d(-.2,.2),this.color=be[Math.floor(Math.random()*be.length)],this.rotateY=d(0,1),this.rotationDirection=d(0,1)?a.Positive:a.Negative}var ie,de;return ie=oe,(de=[{key:"update",value:function(){var te=this.getOptions(),fe=te.gravity,O=te.wind,Ie=te.friction,Pe=te.opacity,q=te.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=fe,this.vx+=O,this.vx*=Ie,this.vy*=Ie,this.rotateY>=1&&this.rotationDirection===a.Positive?this.rotationDirection=a.Negative:this.rotateY<=-1&&this.rotationDirection===a.Negative&&(this.rotationDirection=a.Positive);var ae=.1*this.rotationDirection;if(this.rotateY+=ae,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=Pe,this.context.lineCap="round",this.context.lineWidth=2,q&&typeof q=="function")q.call(this,this.context);else switch(this.shape){case o.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case o.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case o.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&m(ie.prototype,de),oe}();function y(oe,ie,de){return ie in oe?Object.defineProperty(oe,ie,{value:de,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=de,oe}var v=function oe(ie,de){var te=this;(function(O,Ie){if(!(O instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,oe),y(this,"canvas",void 0),y(this,"context",void 0),y(this,"getOptions",void 0),y(this,"x",0),y(this,"y",0),y(this,"w",0),y(this,"h",0),y(this,"lastNumberOfPieces",0),y(this,"tweenInitTime",Date.now()),y(this,"particles",[]),y(this,"particlesGenerated",0),y(this,"removeParticleAt",function(O){te.particles.splice(O,1)}),y(this,"getParticle",function(){var O=d(te.x,te.w+te.x),Ie=d(te.y,te.h+te.y);return new x(te.context,te.getOptions,O,Ie)}),y(this,"animate",function(){var O=te.canvas,Ie=te.context,Pe=te.particlesGenerated,q=te.lastNumberOfPieces,ae=te.getOptions(),be=ae.run,he=ae.recycle,H=ae.numberOfPieces,D=ae.debug,ne=ae.tweenFunction,xe=ae.tweenDuration;if(!be)return!1;var ge=te.particles.length,ve=he?ge:Pe,Qe=Date.now();if(ve<H){q!==H&&(te.tweenInitTime=Qe,te.lastNumberOfPieces=H);for(var Te=te.tweenInitTime,ke=ne(Qe-Te>xe?xe:Math.max(0,Qe-Te),ve,H,xe),St=Math.round(ke-ve),Oe=0;Oe<St;Oe++)te.particles.push(te.getParticle());te.particlesGenerated+=St}return D&&(Ie.font="12px sans-serif",Ie.fillStyle="#333",Ie.textAlign="right",Ie.fillText("Particles: ".concat(ge),O.width-10,O.height-20)),te.particles.forEach(function(je,st){je.update(),(je.y>O.height||je.y<-100||je.x>O.width+100||je.x<-100)&&(he&&ve<=H?te.particles[st]=te.getParticle():te.removeParticleAt(st))}),ge>0||ve<H}),this.canvas=ie;var fe=this.canvas.getContext("2d");if(!fe)throw new Error("Could not get canvas context");this.context=fe,this.getOptions=de};function w(oe,ie){var de=Object.keys(oe);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(oe);ie&&(te=te.filter(function(fe){return Object.getOwnPropertyDescriptor(oe,fe).enumerable})),de.push.apply(de,te)}return de}function C(oe){for(var ie=1;ie<arguments.length;ie++){var de=arguments[ie]!=null?arguments[ie]:{};ie%2?w(Object(de),!0).forEach(function(te){M(oe,te,de[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(de)):w(Object(de)).forEach(function(te){Object.defineProperty(oe,te,Object.getOwnPropertyDescriptor(de,te))})}return oe}function S(oe,ie){for(var de=0;de<ie.length;de++){var te=ie[de];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(oe,te.key,te)}}function M(oe,ie,de){return ie in oe?Object.defineProperty(oe,ie,{value:de,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=de,oe}var b={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},T=function(){function oe(te,fe){var O=this;(function(Pe,q){if(!(Pe instanceof q))throw new TypeError("Cannot call a class as a function")})(this,oe),M(this,"canvas",void 0),M(this,"context",void 0),M(this,"_options",void 0),M(this,"generator",void 0),M(this,"rafId",void 0),M(this,"setOptionsWithDefaults",function(Pe){var q={confettiSource:{x:0,y:0,w:O.canvas.width,h:0}};O._options=C(C(C({},q),b),Pe),Object.assign(O,Pe.confettiSource)}),M(this,"update",function(){var Pe=O.options,q=Pe.run,ae=Pe.onConfettiComplete,be=O.canvas,he=O.context;q&&(he.fillStyle="white",he.clearRect(0,0,be.width,be.height)),O.generator.animate()?O.rafId=requestAnimationFrame(O.update):(ae&&typeof ae=="function"&&O.generator.particlesGenerated>0&&ae.call(O,O),O._options.run=!1)}),M(this,"reset",function(){O.generator&&O.generator.particlesGenerated>0&&(O.generator.particlesGenerated=0,O.generator.particles=[],O.generator.lastNumberOfPieces=0)}),M(this,"stop",function(){O.options={run:!1},O.rafId&&(cancelAnimationFrame(O.rafId),O.rafId=void 0)}),this.canvas=te;var Ie=this.canvas.getContext("2d");if(!Ie)throw new Error("Could not get canvas context");this.context=Ie,this.generator=new v(this.canvas,function(){return O.options}),this.options=fe,this.update()}var ie,de;return ie=oe,(de=[{key:"options",get:function(){return this._options},set:function(te){var fe=this._options&&this._options.run,O=this._options&&this._options.recycle;this.setOptionsWithDefaults(te),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof te.recycle=="boolean"&&te.recycle&&O===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof te.run=="boolean"&&te.run&&fe===!1&&this.update()}}])&&S(ie.prototype,de),oe}();function L(oe){return function(ie){if(Array.isArray(ie))return J(ie)}(oe)||function(ie){if(typeof Symbol<"u"&&Symbol.iterator in Object(ie))return Array.from(ie)}(oe)||G(oe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(oe){return(P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(oe)}function E(){return(E=Object.assign||function(oe){for(var ie=1;ie<arguments.length;ie++){var de=arguments[ie];for(var te in de)Object.prototype.hasOwnProperty.call(de,te)&&(oe[te]=de[te])}return oe}).apply(this,arguments)}function U(oe,ie){var de=Object.keys(oe);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(oe);ie&&(te=te.filter(function(fe){return Object.getOwnPropertyDescriptor(oe,fe).enumerable})),de.push.apply(de,te)}return de}function j(oe){for(var ie=1;ie<arguments.length;ie++){var de=arguments[ie]!=null?arguments[ie]:{};ie%2?U(Object(de),!0).forEach(function(te){Fe(oe,te,de[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(de)):U(Object(de)).forEach(function(te){Object.defineProperty(oe,te,Object.getOwnPropertyDescriptor(de,te))})}return oe}function Q(oe,ie){return function(de){if(Array.isArray(de))return de}(oe)||function(de,te){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(de)))){var fe=[],O=!0,Ie=!1,Pe=void 0;try{for(var q,ae=de[Symbol.iterator]();!(O=(q=ae.next()).done)&&(fe.push(q.value),!te||fe.length!==te);O=!0);}catch(be){Ie=!0,Pe=be}finally{try{O||ae.return==null||ae.return()}finally{if(Ie)throw Pe}}return fe}}(oe,ie)||G(oe,ie)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(oe,ie){if(oe){if(typeof oe=="string")return J(oe,ie);var de=Object.prototype.toString.call(oe).slice(8,-1);return de==="Object"&&oe.constructor&&(de=oe.constructor.name),de==="Map"||de==="Set"?Array.from(oe):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?J(oe,ie):void 0}}function J(oe,ie){(ie==null||ie>oe.length)&&(ie=oe.length);for(var de=0,te=new Array(ie);de<ie;de++)te[de]=oe[de];return te}function k(oe,ie){if(!(oe instanceof ie))throw new TypeError("Cannot call a class as a function")}function V(oe,ie){for(var de=0;de<ie.length;de++){var te=ie[de];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(oe,te.key,te)}}function N(oe,ie){return(N=Object.setPrototypeOf||function(de,te){return de.__proto__=te,de})(oe,ie)}function W(oe){var ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var de,te=Se(oe);if(ie){var fe=Se(this).constructor;de=Reflect.construct(te,arguments,fe)}else de=te.apply(this,arguments);return Y(this,de)}}function Y(oe,ie){return!ie||P(ie)!=="object"&&typeof ie!="function"?re(oe):ie}function re(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function Se(oe){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)})(oe)}function Fe(oe,ie,de){return ie in oe?Object.defineProperty(oe,ie,{value:de,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=de,oe}var ce=A.a.createRef(),pe=function(oe){(function(O,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Ie&&N(O,Ie)})(fe,oe);var ie,de,te=W(fe);function fe(O){var Ie;k(this,fe);for(var Pe=arguments.length,q=new Array(Pe>1?Pe-1:0),ae=1;ae<Pe;ae++)q[ae-1]=arguments[ae];return Fe(re(Ie=te.call.apply(te,[this,O].concat(q))),"canvas",A.a.createRef()),Fe(re(Ie),"confetti",void 0),Ie.canvas=O.canvasRef||ce,Ie}return ie=fe,(de=[{key:"componentDidMount",value:function(){if(this.canvas.current){var O=Be(this.props)[0];this.confetti=new T(this.canvas.current,O)}}},{key:"componentDidUpdate",value:function(){var O=Be(this.props)[0];this.confetti&&(this.confetti.options=O)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var O=Q(Be(this.props),2),Ie=O[0],Pe=O[1],q=j({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},Pe.style);return A.a.createElement("canvas",E({width:Ie.width,height:Ie.height,ref:this.canvas},Pe,{style:q}))}}])&&V(ie.prototype,de),fe}(l.Component);function Be(oe){var ie={},de={},te=[].concat(L(Object.keys(b)),["confettiSource","drawShape","onConfettiComplete"]),fe=["canvasRef"];for(var O in oe){var Ie=oe[O];te.includes(O)?ie[O]=Ie:fe.includes(O)?fe[O]=Ie:de[O]=Ie}return[ie,de,{}]}Fe(pe,"defaultProps",j({},b)),Fe(pe,"displayName","ReactConfetti");var Le=A.a.forwardRef(function(oe,ie){return A.a.createElement(pe,E({canvasRef:ie},oe))});i.default=Le}]).default})})(wN);var e$=wN.exports;const t$=vu(e$),n$=({type:t,badgeType:e,badgeName:n,text:r,onClick:i})=>{const[s,o]=F.useState(!0),[a,l]=F.useState(!0);return F.useEffect(()=>{const A=setTimeout(()=>{l(!1)},3e3);return()=>clearTimeout(A)},[]),p.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[210]",children:[p.jsx(t$,{run:s,recycle:a,numberOfPieces:200,width:window.innerWidth,height:window.innerHeight}),p.jsxs("div",{className:`relative ${t==="LEVEL"?"h-[19.875rem]":"h-[31.625rem]"} w-[20.625rem] `,children:[p.jsx("img",{className:"absolute left-[30%] z-[230] w-[7.375rem] h-[10.4375rem]",src:JX,alt:"teacher duck"}),p.jsx("div",{className:"absolute bottom-0 flex flex-col items-center bg-white w-[330px] rounded-[20px] z-[240]",children:p.jsxs("div",{className:"flex flex-col py-4 gap-3 w-full",children:[p.jsxs("div",{className:"flex flex-col gap-3.5 pb-5",children:[p.jsx("div",{className:"flex justify-center items-center text-t2 text-center font-semibold h-[3rem]",children:"축하해요!"}),p.jsxs("div",{className:"flex flex-col items-center px-7 gap-3",children:[t==="BADGE"&&p.jsx("img",{className:"w-[9.375rem] h-[9.375rem] ",src:`assets/characterPage/badges/${e}/${n}.png`,alt:`${n} badge`}),p.jsx("div",{className:"text-b1",children:t==="LEVEL"?p.jsxs("span",{children:["북덕이 레벨 ",p.jsx("span",{className:"font-bold",children:r}),"로 레벨업했어요"]}):p.jsx("p",{className:"w-[14rem] text-center",children:r})})]})]}),p.jsx("div",{className:"px-4 h-12 w-full",children:p.jsx("button",{className:"text-b1 font-semibold text-white bg-gray-700 p-[10px] w-[100%] h-12 rounded-[8px]",onClick:i,children:"확인"})})]})})]})]})},r$=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(null),i=Bt(),{sseData:s}=Jx(),o=()=>{e(!1),r(null)};return F.useEffect(()=>{s.isItemUnlockedChecked===!1?XX({icon:ZX,title:"아이템 알림",message:"새로운 아이템이 열렸어요! ✨",buttonLabel:"보러가기",handleClick:()=>i("/character/custom")}):s.isLevelUpChecked===!1?(r({type:"LEVEL",text:s.newLevel}),e(!0)):s.isBadgeUnlockedChecked===!1&&(r({type:"BADGE",badgeType:s.newBadgeInfo.badgeType,badgeName:s.newBadgeInfo.badgeName,text:s.newBadgeInfo.description}),e(!0))},[s]),p.jsxs("div",{className:"relative w-full",children:[p.jsx(KX,{position:"top-center",autoClose:3e3,closeButton:!1,hideProgressBar:!0,toastClassName:()=>"w-full absolute",bodyClassName:()=>"m-auto w-fit",className:"w-[24.5625rem] p-0"}),t&&n&&p.jsx(n$,{type:n.type,badgeType:n.badgeType,badgeName:n.badgeName,text:n.text,onClick:o})]})},i$=({isAuthenticated:t})=>t?p.jsx(vX,{}):p.jsx(nv,{to:"/login",replace:!0});function CN(t,e){return function(){return t.apply(e,arguments)}}const{toString:s$}=Object.prototype,{getPrototypeOf:Jb}=Object,ew=(t=>e=>{const n=s$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Po=t=>(t=t.toLowerCase(),e=>ew(e)===t),tw=t=>e=>typeof e===t,{isArray:Xf}=Array,Sp=tw("undefined");function o$(t){return t!==null&&!Sp(t)&&t.constructor!==null&&!Sp(t.constructor)&&gs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const BN=Po("ArrayBuffer");function a$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&BN(t.buffer),e}const l$=tw("string"),gs=tw("function"),SN=tw("number"),nw=t=>t!==null&&typeof t=="object",A$=t=>t===!0||t===!1,iv=t=>{if(ew(t)!=="object")return!1;const e=Jb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},c$=Po("Date"),u$=Po("File"),d$=Po("Blob"),f$=Po("FileList"),h$=t=>nw(t)&&gs(t.pipe),p$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gs(t.append)&&((e=ew(t))==="formdata"||e==="object"&&gs(t.toString)&&t.toString()==="[object FormData]"))},m$=Po("URLSearchParams"),[g$,v$,y$,x$]=["ReadableStream","Request","Response","Headers"].map(Po),w$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function v2(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Xf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function _N(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const _c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EN=t=>!Sp(t)&&t!==_c;function lE(){const{caseless:t}=EN(this)&&this||{},e={},n=(r,i)=>{const s=t&&_N(e,i)||i;iv(e[s])&&iv(r)?e[s]=lE(e[s],r):iv(r)?e[s]=lE({},r):Xf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&v2(arguments[r],n);return e}const C$=(t,e,n,{allOwnKeys:r}={})=>(v2(e,(i,s)=>{n&&gs(i)?t[s]=CN(i,n):t[s]=i},{allOwnKeys:r}),t),B$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),S$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},_$=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Jb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},E$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},b$=t=>{if(!t)return null;if(Xf(t))return t;let e=t.length;if(!SN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},M$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jb(Uint8Array)),T$=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},I$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},F$=Po("HTMLFormElement"),U$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),f8=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),L$=Po("RegExp"),bN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};v2(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},R$=t=>{bN(t,(e,n)=>{if(gs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(gs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},P$=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Xf(t)?r(t):r(String(t).split(e)),n},N$=()=>{},D$=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,rB="abcdefghijklmnopqrstuvwxyz",h8="0123456789",MN={DIGIT:h8,ALPHA:rB,ALPHA_DIGIT:rB+rB.toUpperCase()+h8},O$=(t=16,e=MN.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function k$(t){return!!(t&&gs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Q$=t=>{const e=new Array(10),n=(r,i)=>{if(nw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Xf(r)?[]:{};return v2(r,(o,a)=>{const l=n(o,i+1);!Sp(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},H$=Po("AsyncFunction"),j$=t=>t&&(nw(t)||gs(t))&&gs(t.then)&&gs(t.catch),TN=((t,e)=>t?setImmediate:e?((n,r)=>(_c.addEventListener("message",({source:i,data:s})=>{i===_c&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),_c.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gs(_c.postMessage)),V$=typeof queueMicrotask<"u"?queueMicrotask.bind(_c):typeof process<"u"&&process.nextTick||TN,Ee={isArray:Xf,isArrayBuffer:BN,isBuffer:o$,isFormData:p$,isArrayBufferView:a$,isString:l$,isNumber:SN,isBoolean:A$,isObject:nw,isPlainObject:iv,isReadableStream:g$,isRequest:v$,isResponse:y$,isHeaders:x$,isUndefined:Sp,isDate:c$,isFile:u$,isBlob:d$,isRegExp:L$,isFunction:gs,isStream:h$,isURLSearchParams:m$,isTypedArray:M$,isFileList:f$,forEach:v2,merge:lE,extend:C$,trim:w$,stripBOM:B$,inherits:S$,toFlatObject:_$,kindOf:ew,kindOfTest:Po,endsWith:E$,toArray:b$,forEachEntry:T$,matchAll:I$,isHTMLForm:F$,hasOwnProperty:f8,hasOwnProp:f8,reduceDescriptors:bN,freezeMethods:R$,toObjectSet:P$,toCamelCase:U$,noop:N$,toFiniteNumber:D$,findKey:_N,global:_c,isContextDefined:EN,ALPHABET:MN,generateString:O$,isSpecCompliantForm:k$,toJSONObject:Q$,isAsyncFn:H$,isThenable:j$,setImmediate:TN,asap:V$};function Ot(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const IN=Ot.prototype,FN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FN[t]={value:t}});Object.defineProperties(Ot,FN);Object.defineProperty(IN,"isAxiosError",{value:!0});Ot.from=(t,e,n,r,i,s)=>{const o=Object.create(IN);return Ee.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ot.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const z$=null;function AE(t){return Ee.isPlainObject(t)||Ee.isArray(t)}function UN(t){return Ee.endsWith(t,"[]")?t.slice(0,-2):t}function p8(t,e,n){return t?t.concat(e).map(function(i,s){return i=UN(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function G$(t){return Ee.isArray(t)&&!t.some(AE)}const K$=Ee.toFlatObject(Ee,{},null,function(e){return/^is[A-Z]/.test(e)});function rw(t,e,n){if(!Ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!Ee.isUndefined(y[x])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(e);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function A(g){if(g===null)return"";if(Ee.isDate(g))return g.toISOString();if(!l&&Ee.isBlob(g))throw new Ot("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(g)||Ee.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,x,y){let v=g;if(g&&!y&&typeof g=="object"){if(Ee.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(Ee.isArray(g)&&G$(g)||(Ee.isFileList(g)||Ee.endsWith(x,"[]"))&&(v=Ee.toArray(g)))return x=UN(x),v.forEach(function(C,S){!(Ee.isUndefined(C)||C===null)&&e.append(o===!0?p8([x],S,s):o===null?x:x+"[]",A(C))}),!1}return AE(g)?!0:(e.append(p8(y,x,s),A(g)),!1)}const u=[],d=Object.assign(K$,{defaultVisitor:c,convertValue:A,isVisitable:AE});function m(g,x){if(!Ee.isUndefined(g)){if(u.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));u.push(g),Ee.forEach(g,function(v,w){(!(Ee.isUndefined(v)||v===null)&&i.call(e,v,Ee.isString(w)?w.trim():w,x,d))===!0&&m(v,x?x.concat(w):[w])}),u.pop()}}if(!Ee.isObject(t))throw new TypeError("data must be an object");return m(t),e}function m8(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function e5(t,e){this._pairs=[],t&&rw(t,this,e)}const LN=e5.prototype;LN.append=function(e,n){this._pairs.push([e,n])};LN.toString=function(e){const n=e?function(r){return e.call(this,r,m8)}:m8;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function W$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RN(t,e,n){if(!e)return t;const r=n&&n.encode||W$,i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ee.isURLSearchParams(e)?e.toString():new e5(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class g8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const PN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X$=typeof URLSearchParams<"u"?URLSearchParams:e5,$$=typeof FormData<"u"?FormData:null,Y$=typeof Blob<"u"?Blob:null,q$={isBrowser:!0,classes:{URLSearchParams:X$,FormData:$$,Blob:Y$},protocols:["http","https","file","blob","url","data"]},t5=typeof window<"u"&&typeof document<"u",cE=typeof navigator=="object"&&navigator||void 0,Z$=t5&&(!cE||["ReactNative","NativeScript","NS"].indexOf(cE.product)<0),J$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eY=t5&&window.location.href||"http://localhost",tY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:t5,hasStandardBrowserEnv:Z$,hasStandardBrowserWebWorkerEnv:J$,navigator:cE,origin:eY},Symbol.toStringTag,{value:"Module"})),qi={...tY,...q$};function nY(t,e){return rw(t,new qi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return qi.isNode&&Ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function rY(t){return Ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iY(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function NN(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ee.isArray(i)?i.length:o,l?(Ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ee.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ee.isArray(i[o])&&(i[o]=iY(i[o])),!a)}if(Ee.isFormData(t)&&Ee.isFunction(t.entries)){const n={};return Ee.forEachEntry(t,(r,i)=>{e(rY(r),i,n,0)}),n}return null}function sY(t,e,n){if(Ee.isString(t))try{return(e||JSON.parse)(t),Ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const y2={transitional:PN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ee.isObject(e);if(s&&Ee.isHTMLForm(e)&&(e=new FormData(e)),Ee.isFormData(e))return i?JSON.stringify(NN(e)):e;if(Ee.isArrayBuffer(e)||Ee.isBuffer(e)||Ee.isStream(e)||Ee.isFile(e)||Ee.isBlob(e)||Ee.isReadableStream(e))return e;if(Ee.isArrayBufferView(e))return e.buffer;if(Ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nY(e,this.formSerializer).toString();if((a=Ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return rw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),sY(e)):e}],transformResponse:[function(e){const n=this.transitional||y2.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(e)||Ee.isReadableStream(e))return e;if(e&&Ee.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ot.from(a,Ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qi.classes.FormData,Blob:qi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],t=>{y2.headers[t]={}});const oY=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aY=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&oY[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},v8=Symbol("internals");function Oh(t){return t&&String(t).trim().toLowerCase()}function sv(t){return t===!1||t==null?t:Ee.isArray(t)?t.map(sv):String(t)}function lY(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const AY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function iB(t,e,n,r,i){if(Ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ee.isString(e)){if(Ee.isString(r))return e.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(e)}}function cY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function uY(t,e){const n=Ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Zi{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,A){const c=Oh(l);if(!c)throw new Error("header name must be a non-empty string");const u=Ee.findKey(i,c);(!u||i[u]===void 0||A===!0||A===void 0&&i[u]!==!1)&&(i[u||l]=sv(a))}const o=(a,l)=>Ee.forEach(a,(A,c)=>s(A,c,l));if(Ee.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ee.isString(e)&&(e=e.trim())&&!AY(e))o(aY(e),n);else if(Ee.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Oh(e),e){const r=Ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return lY(i);if(Ee.isFunction(n))return n.call(this,i,r);if(Ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Oh(e),e){const r=Ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||iB(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Oh(o),o){const a=Ee.findKey(r,o);a&&(!n||iB(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||iB(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ee.forEach(this,(i,s)=>{const o=Ee.findKey(r,s);if(o){n[o]=sv(i),delete n[s];return}const a=e?cY(s):String(s).trim();a!==s&&delete n[s],n[a]=sv(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[v8]=this[v8]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Oh(o);r[a]||(uY(i,o),r[a]=!0)}return Ee.isArray(e)?e.forEach(s):s(e),this}}Zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(Zi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ee.freezeMethods(Zi);function sB(t,e){const n=this||y2,r=e||n,i=Zi.from(r.headers);let s=r.data;return Ee.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function DN(t){return!!(t&&t.__CANCEL__)}function $f(t,e,n){Ot.call(this,t??"canceled",Ot.ERR_CANCELED,e,n),this.name="CanceledError"}Ee.inherits($f,Ot,{__CANCEL__:!0});function ON(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ot("Request failed with status code "+n.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const A=Date.now(),c=r[s];o||(o=A),n[i]=l,r[i]=A;let u=s,d=0;for(;u!==i;)d+=n[u++],u=u%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),A-o<e)return;const m=c&&A-c;return m?Math.round(d*1e3/m):void 0}}function hY(t,e){let n=0,r=1e3/e,i,s;const o=(A,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,A)};return[(...A)=>{const c=Date.now(),u=c-n;u>=r?o(A,c):(i=A,s||(s=setTimeout(()=>{s=null,o(i)},r-u)))},()=>i&&o(i)]}const Yv=(t,e,n=3)=>{let r=0;const i=fY(50,250);return hY(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,A=i(l),c=o<=a;r=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:A||void 0,estimated:A&&a&&c?(a-o)/A:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},n)},y8=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},x8=t=>(...e)=>Ee.asap(()=>t(...e)),pY=qi.hasStandardBrowserEnv?function(){const e=qi.navigator&&/(msie|trident)/i.test(qi.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=Ee.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),mY=qi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ee.isString(r)&&o.push("path="+r),Ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vY(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kN(t,e){return t&&!gY(e)?vY(t,e):e}const w8=t=>t instanceof Zi?{...t}:t;function iu(t,e){e=e||{};const n={};function r(A,c,u){return Ee.isPlainObject(A)&&Ee.isPlainObject(c)?Ee.merge.call({caseless:u},A,c):Ee.isPlainObject(c)?Ee.merge({},c):Ee.isArray(c)?c.slice():c}function i(A,c,u){if(Ee.isUndefined(c)){if(!Ee.isUndefined(A))return r(void 0,A,u)}else return r(A,c,u)}function s(A,c){if(!Ee.isUndefined(c))return r(void 0,c)}function o(A,c){if(Ee.isUndefined(c)){if(!Ee.isUndefined(A))return r(void 0,A)}else return r(void 0,c)}function a(A,c,u){if(u in e)return r(A,c);if(u in t)return r(void 0,A)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(A,c)=>i(w8(A),w8(c),!0)};return Ee.forEach(Object.keys(Object.assign({},t,e)),function(c){const u=l[c]||i,d=u(t[c],e[c],c);Ee.isUndefined(d)&&u!==a||(n[c]=d)}),n}const QN=t=>{const e=iu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Zi.from(o),e.url=RN(kN(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ee.isFormData(n)){if(qi.hasStandardBrowserEnv||qi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[A,...c]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];o.setContentType([A||"multipart/form-data",...c].join("; "))}}if(qi.hasStandardBrowserEnv&&(r&&Ee.isFunction(r)&&(r=r(e)),r||r!==!1&&pY(e.url))){const A=i&&s&&mY.read(s);A&&o.set(i,A)}return e},yY=typeof XMLHttpRequest<"u",xY=yY&&function(t){return new Promise(function(n,r){const i=QN(t);let s=i.data;const o=Zi.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:A}=i,c,u,d,m,g;function x(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const C=Zi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:t,request:y};ON(function(T){n(T),x()},function(T){r(T),x()},M),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new Ot("Request aborted",Ot.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Ot("Network Error",Ot.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||PN;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new Ot(S,M.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ee.forEach(o.toJSON(),function(S,M){y.setRequestHeader(M,S)}),Ee.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),A&&([d,g]=Yv(A,!0),y.addEventListener("progress",d)),l&&y.upload&&([u,m]=Yv(l),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=C=>{y&&(r(!C||C.type?new $f(null,t,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const w=dY(i.url);if(w&&qi.protocols.indexOf(w)===-1){r(new Ot("Unsupported protocol "+w+":",Ot.ERR_BAD_REQUEST,t));return}y.send(s||null)})},wY=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(A){if(!i){i=!0,a();const c=A instanceof Error?A:this.reason;r.abort(c instanceof Ot?c:new $f(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Ot(`timeout ${e} of ms exceeded`,Ot.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(A=>{A.unsubscribe?A.unsubscribe(s):A.removeEventListener("abort",s)}),t=null)};t.forEach(A=>A.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Ee.asap(a),l}},CY=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},BY=async function*(t,e){for await(const n of SY(t))yield*CY(n,e)},SY=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},C8=(t,e,n,r)=>{const i=BY(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:A,value:c}=await i.next();if(A){a(),l.close();return}let u=c.byteLength;if(n){let d=s+=u;n(d)}l.enqueue(new Uint8Array(c))}catch(A){throw a(A),A}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},iw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HN=iw&&typeof ReadableStream=="function",_Y=iw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},EY=HN&&jN(()=>{let t=!1;const e=new Request(qi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),B8=64*1024,uE=HN&&jN(()=>Ee.isReadableStream(new Response("").body)),qv={stream:uE&&(t=>t.body)};iw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qv[e]&&(qv[e]=Ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ot(`Response type '${e}' is not supported`,Ot.ERR_NOT_SUPPORT,r)})})})(new Response);const bY=async t=>{if(t==null)return 0;if(Ee.isBlob(t))return t.size;if(Ee.isSpecCompliantForm(t))return(await new Request(qi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(t)||Ee.isArrayBuffer(t))return t.byteLength;if(Ee.isURLSearchParams(t)&&(t=t+""),Ee.isString(t))return(await _Y(t)).byteLength},MY=async(t,e)=>{const n=Ee.toFiniteNumber(t.getContentLength());return n??bY(e)},TY=iw&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:A,headers:c,withCredentials:u="same-origin",fetchOptions:d}=QN(t);A=A?(A+"").toLowerCase():"text";let m=wY([i,s&&s.toAbortSignal()],o),g;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(l&&EY&&n!=="get"&&n!=="head"&&(y=await MY(c,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),b;if(Ee.isFormData(r)&&(b=M.headers.get("content-type"))&&c.setContentType(b),M.body){const[T,L]=y8(y,Yv(x8(l)));r=C8(M.body,B8,T,L)}}Ee.isString(u)||(u=u?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:v?u:void 0});let w=await fetch(g);const C=uE&&(A==="stream"||A==="response");if(uE&&(a||C&&x)){const M={};["status","statusText","headers"].forEach(P=>{M[P]=w[P]});const b=Ee.toFiniteNumber(w.headers.get("content-length")),[T,L]=a&&y8(b,Yv(x8(a),!0))||[];w=new Response(C8(w.body,B8,T,()=>{L&&L(),x&&x()}),M)}A=A||"text";let S=await qv[Ee.findKey(qv,A)||"text"](w,t);return!C&&x&&x(),await new Promise((M,b)=>{ON(M,b,{data:S,headers:Zi.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:g})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,t,g),{cause:v.cause||v}):Ot.from(v,v&&v.code,t,g)}}),dE={http:z$,xhr:xY,fetch:TY};Ee.forEach(dE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const S8=t=>`- ${t}`,IY=t=>Ee.isFunction(t)||t===null||t===!1,VN={getAdapter:t=>{t=Ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!IY(n)&&(r=dE[(o=String(n)).toLowerCase()],r===void 0))throw new Ot(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(S8).join(`
`):" "+S8(s[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:dE};function oB(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $f(null,t)}function _8(t){return oB(t),t.headers=Zi.from(t.headers),t.data=sB.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),VN.getAdapter(t.adapter||y2.adapter)(t).then(function(r){return oB(t),r.data=sB.call(t,t.transformResponse,r),r.headers=Zi.from(r.headers),r},function(r){return DN(r)||(oB(t),r&&r.response&&(r.response.data=sB.call(t,t.transformResponse,r.response),r.response.headers=Zi.from(r.response.headers))),Promise.reject(r)})}const zN="1.7.7",n5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{n5[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const E8={};n5.transitional=function(e,n,r){function i(s,o){return"[Axios v"+zN+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ot(i(o," has been removed"+(n?" in "+n:"")),Ot.ERR_DEPRECATED);return n&&!E8[o]&&(E8[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function FY(t,e,n){if(typeof t!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ot("option "+s+" must be "+l,Ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ot("Unknown option "+s,Ot.ERR_BAD_OPTION)}}const fE={assertOptions:FY,validators:n5},Cl=fE.validators;class zc{constructor(e){this.defaults=e,this.interceptors={request:new g8,response:new g8}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=iu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&fE.assertOptions(r,{silentJSONParsing:Cl.transitional(Cl.boolean),forcedJSONParsing:Cl.transitional(Cl.boolean),clarifyTimeoutError:Cl.transitional(Cl.boolean)},!1),i!=null&&(Ee.isFunction(i)?n.paramsSerializer={serialize:i}:fE.assertOptions(i,{encode:Cl.function,serialize:Cl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ee.merge(s.common,s[n.method]);s&&Ee.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Zi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const A=[];this.interceptors.response.forEach(function(x){A.push(x.fulfilled,x.rejected)});let c,u=0,d;if(!l){const g=[_8.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,A),d=g.length,c=Promise.resolve(n);u<d;)c=c.then(g[u++],g[u++]);return c}d=a.length;let m=n;for(u=0;u<d;){const g=a[u++],x=a[u++];try{m=g(m)}catch(y){x.call(this,y);break}}try{c=_8.call(this,m)}catch(g){return Promise.reject(g)}for(u=0,d=A.length;u<d;)c=c.then(A[u++],A[u++]);return c}getUri(e){e=iu(this.defaults,e);const n=kN(e.baseURL,e.url);return RN(n,e.params,e.paramsSerializer)}}Ee.forEach(["delete","get","head","options"],function(e){zc.prototype[e]=function(n,r){return this.request(iu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(iu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}zc.prototype[e]=n(),zc.prototype[e+"Form"]=n(!0)});class r5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new $f(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new r5(function(i){e=i}),cancel:e}}}function UY(t){return function(n){return t.apply(null,n)}}function LY(t){return Ee.isObject(t)&&t.isAxiosError===!0}const hE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hE).forEach(([t,e])=>{hE[e]=t});function GN(t){const e=new zc(t),n=CN(zc.prototype.request,e);return Ee.extend(n,zc.prototype,e,{allOwnKeys:!0}),Ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return GN(iu(t,i))},n}const Ar=GN(y2);Ar.Axios=zc;Ar.CanceledError=$f;Ar.CancelToken=r5;Ar.isCancel=DN;Ar.VERSION=zN;Ar.toFormData=rw;Ar.AxiosError=Ot;Ar.Cancel=Ar.CanceledError;Ar.all=function(e){return Promise.all(e)};Ar.spread=UY;Ar.isAxiosError=LY;Ar.mergeConfig=iu;Ar.AxiosHeaders=Zi;Ar.formToJSON=t=>NN(Ee.isHTMLForm(t)?new FormData(t):t);Ar.getAdapter=VN.getAdapter;Ar.HttpStatusCode=hE;Ar.default=Ar;const aB=JSON.parse(localStorage.getItem("token")),b8=(aB==null?void 0:aB.accessToken)||null,RY=b8?`Bearer ${b8}`:null,PY=Ar.create({baseURL:"undefined"}),ca=Ar.create({baseURL:"undefined",headers:{Authorization:RY,"Content-Type":"application/json"},withCredentials:!0});ca.interceptors.response.use(t=>t,async t=>{const{config:e,response:n}=t;if(!n)return Promise.reject(t);const{status:r,data:i}=n;if(e.sent)return Promise.reject(t);if(e.sent=!0,r===401)switch(console.log("에러코드",i.errorCode),i.errorCode){case"ACCESS_TOKEN_NOT_EXPIRED":return console.error("액세스 토큰이 아직 만료되지 않았습니다."),Promise.reject(t);case"EXPIRED_REFRESH_TOKEN":return console.error("리프레시 토큰이 만료되었습니다. 로그아웃합니다."),localStorage.removeItem("token"),Promise.reject(t);case"INVALID_REFRESH_TOKEN":return console.error("유효하지 않은 리프레시 토큰입니다. 로그아웃합니다."),localStorage.removeItem("token"),Promise.reject(t);case"NO_COOKIE":return console.error("쿠키에 리프레시 토큰이 없습니다. 로그아웃합니다."),localStorage.removeItem("token"),Promise.reject(t);case"INVALID_TOKEN":return console.error("유효하지 않은 토큰입니다. 로그아웃합니다."),localStorage.removeItem("token"),Promise.reject(t);case"EXPIRED_ACCESS_TOKEN":try{const s=await OY();console.log(s);const o=JSON.parse(localStorage.getItem("token"));return ca.defaults.headers.Authorization=`Bearer ${o.accessToken}`,e.headers.Authorization=`Bearer ${o.accessToken}`,ca(e)}catch(s){return console.error("토큰 재발급 실패:",s),Promise.reject(s)}default:return Promise.reject(t)}return Promise.reject(t)});const NY="undefined/oauth2/authorization/kakao",DY="undefined/oauth2/authorization/google",Bs=()=>{const t=JSON.parse(localStorage.getItem("token"));return(t==null?void 0:t.userId)||null},OY=async()=>{try{const t=JSON.parse(localStorage.getItem("token")),e=t==null?void 0:t.accessToken,n=t==null?void 0:t.userId;console.log("post할 accessToken",e);const r=await PY.post(`/auth/refresh?accessToken=${e}`,null,{withCredentials:!0});console.log(r);const i={accessToken:r.data.accessToken,expiresAt:new Date().getTime()+r.data.accessTokenMaxAge*1e3,isNewUser:!1,userId:n};return console.log(i),localStorage.setItem("token",JSON.stringify(i)),console.log("새로운 토큰 저장 완료"),r}catch(t){console.error("토큰 재발행 오류: ",t)}},kY="/assets/main-duck-UjMpfqFL.svg",QY="data:image/svg+xml,%3csvg%20width='21'%20height='20'%20viewBox='0%200%2021%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2190_45330)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.5001%200.666504C4.97688%200.666504%200.5%204.12535%200.5%208.39126C0.5%2011.0443%202.23157%2013.3831%204.86838%2014.7742L3.75893%2018.8271C3.66091%2019.1852%204.07047%2019.4706%204.38498%2019.2631L9.24819%2016.0534C9.6586%2016.093%2010.0757%2016.1161%2010.5001%2016.1161C16.0228%2016.1161%2020.5%2012.6574%2020.5%208.39126C20.5%204.12535%2016.0228%200.666504%2010.5001%200.666504Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2190_45330'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(0.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",KN="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.56%2012.25C22.56%2011.47%2022.49%2010.72%2022.36%2010H12V14.255H17.92C17.665%2015.63%2016.89%2016.795%2015.725%2017.575V20.335H19.28C21.36%2018.42%2022.56%2015.6%2022.56%2012.25Z'%20fill='%234285F4'/%3e%3cpath%20d='M11.9999%2023.0001C14.9699%2023.0001%2017.4599%2022.0151%2019.2799%2020.3351L15.7249%2017.5751C14.7399%2018.2351%2013.4799%2018.6251%2011.9999%2018.6251C9.13492%2018.6251%206.70992%2016.6901%205.84492%2014.0901H2.16992V16.9401C3.97992%2020.5351%207.69992%2023.0001%2011.9999%2023.0001Z'%20fill='%2334A853'/%3e%3cpath%20d='M5.845%2014.0901C5.625%2013.4301%205.5%2012.7251%205.5%2012.0001C5.5%2011.2751%205.625%2010.5701%205.845%209.91006V7.06006H2.17C1.4%208.59292%200.999321%2010.2847%201%2012.0001C1%2013.7751%201.425%2015.4551%202.17%2016.9401L5.845%2014.0901Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M11.9999%205.375C13.6149%205.375%2015.0649%205.93%2016.2049%207.02L19.3599%203.865C17.4549%202.09%2014.9649%201%2011.9999%201C7.69992%201%203.97992%203.465%202.16992%207.06L5.84492%209.91C6.70992%207.31%209.13492%205.375%2011.9999%205.375Z'%20fill='%23EA4335'/%3e%3c/svg%3e",HY=()=>p.jsxs("div",{className:"h-screen overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex flex-col flex-grow justify-end bg-gray-10 px-5 py-6 ",children:[p.jsx("div",{className:"self-center pb-[4rem]",children:p.jsx("img",{src:kY,className:"w-[12.75rem] h-[12.375rem] "})}),p.jsxs("div",{className:"flex flex-col ",children:[p.jsx("p",{className:"text-t1 font-semibold mb-2",children:"환영해요!"}),p.jsx("p",{className:"text-b1 ",children:"북덕과 함께 책을 읽고 기록을 쌓아보세요"})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 items-center bg-white py-5",children:[p.jsxs("a",{href:DY,className:"flex justify-center items-center gap-[0.62rem] w-[22.0625rem] h-[3rem] rounded-[0.5rem] border-solid border-[0.0938rem] border-[#ADADAD] bg-white mt-[1.69rem]",children:[p.jsx("img",{src:KN,alt:"google logo"}),"Google로 시작하기"]}),p.jsxs("a",{href:NY,className:"flex justify-center items-center gap-[0.62rem] w-[22.0625rem] h-[3rem] rounded-[0.5rem] bg-[#FEE500]",children:[p.jsx("img",{src:QY,alt:"kakao logo"}),"카카오로 시작하기"]}),p.jsx("p",{className:"mt-[1.75rem] text-btn4 text-gray-500",children:"소셜로그인으로 시작하세요"})]})]});var WN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(WN);var x2=WN.exports;const XN=vu(x2),mr=({text:t,type:e="primary",color:n="gray",size:r="medium",onClick:i,disabled:s=!1,className:o,...a})=>{const l="text-center",A=n?"bg-gray-700 text-white":"bg-orange-400 text-white",c="bg-gray-100 text-white cursor-not-allowed",u={orange:"bg-orange-300 text-white",white:"bg-white text-gray-600",gray:"bg-gray-600 text-white",gray700:"bg-gray-700 text-white"},m=XN(e==="primary"?`${l} w-full  h-[3rem] font-semibold rounded-[0.5rem] ${s?c:A}`:`${l} ${{small:"px-[0.75rem] py-[0.25rem] font-regular text-b3",medium:"px-[1rem] py-[0.5rem] font-regular text-base"}[r]} rounded-[0.375rem] ${u[n]}`,o);return p.jsx("button",{className:m,onClick:s?void 0:i,disabled:s,...a,children:t})},jY=({Button:t})=>p.jsx("div",{className:"flex fixed bottom-0 z-50 w-[24.5624rem] px-[1rem] pb-[2rem] pt-[1rem] bg-white",children:t}),Rd=({type:t,type2:e="text",name:n="",title:r,placeholder:i,check:s=!0,error:o=null,inputError:a,nickname:l=!1,handleEdit:A,isSubmitted:c,defaultType:u,handleValue:d,inputValue:m})=>p.jsxs("div",{className:"w-full max-w-[64rem]",children:[t==="내용"&&p.jsxs("div",{className:"w-full flex gap-[8px]",children:[p.jsx("div",{className:"h-[16px] text-c1 text-gray-400",children:r}),u&&o&&p.jsx("div",{className:"text-c1 text-orange-600",children:"필수입력란입니다!"})]}),p.jsxs("div",{className:"w-full flex relative",children:[p.jsx("input",{type:e,name:n,value:m,onChange:d,placeholder:i,className:`w-full h-[48px] px-[4px] py-[12px] text-b1 text-gray-800 border-b-[1px] ${!c||o===null?"border-gray-200":o===!0?"border-red":"border-blue-200"}`}),s&&p.jsx("div",{onClick:a?null:A,className:"absolute top-[16px] right-0 text-b2 text-gray-600 cursor-pointer ",children:"확인"})]}),l&&!u&&!c&&p.jsx("p",{className:`text-c1 ${a?"text-orange-600":"text-gray-400"} mt-2`,children:"8자 이내로 작성해야하며, 띄어쓰기와 특수문자는 사용할 수 없어요."}),!u&&c&&!a&&p.jsx("div",{className:`text-c1 ${!c||o===null?"":o===!0?"text-red":"text-blue-200"}`,children:!c||o===null?"":o===!0?"이미 사용 중인 이름입니다!":"사용 가능한 이름입니다!"})]}),Ut=async(t,e={})=>{const n=await ca.get(t,e);return n==null?void 0:n.data},Fi=async(t,e,n={})=>{const r=await ca.post(t,e,n);return r==null?void 0:r.data},i5=async(t,e,n={})=>{const r=await ca.put(t,e,n);return r==null?void 0:r.data},eo=async(t,e,n={})=>{const r=await ca.patch(t,e,n);return r==null?void 0:r.data},io=async(t,e={})=>{const n=await ca.delete(t,e);return n==null?void 0:n.data},VY=()=>{const t=Bt(),[e,n]=F.useState(""),[r,i]=F.useState(null),[s,o]=F.useState(null),[a,l]=F.useState(null),A=async()=>{try{const y=await Ut("/settings/nickname");n(y.nickname)}catch(y){console.error(y)}},c=async y=>{try{const v=await Fi("/settings/nickname/check",{nickname:y});i(!v.isAvailable)}catch(v){console.error("닉네임 오류",v)}},u=async y=>{try{await eo("/settings/nickname",{nickname:y}),window.location.reload()}catch(v){console.error("닉네임 변경 오류",v)}};F.useEffect(()=>{A()},[]),F.useEffect(()=>{r!==null&&console.log("현재 error 상태:",r)},[r]);const d=y=>{const v=y.target.value;n(v),o(v.length>8||/[^a-zA-Z0-9ㄱ-ㅎㅏ-ㅣ가-힣]/.test(v)),l(!1)},m=()=>{l(!0),i(null),c(e)},g=y=>{try{u(y),t("/home")}catch(v){console.error(v)}},x=p.jsx(mr,{text:"완료",type:"primary",disabled:!a||r,onClick:()=>g(e)});return p.jsxs("div",{className:"w-[24.5625rem]",children:[p.jsxs("div",{className:"px-4",children:[p.jsxs("div",{className:"text-t2 font-semibold mt-6",children:["BookDuck과 독서를 시작하기 전에,",p.jsx("br",{})," 이름을 설정해주세요."]}),p.jsxs("div",{className:"text-b2  mt-7 mb-[2.75rem] text-gray-500",children:["이름 짓기가 어렵다면 바로 확인을 눌러 랜덤이름으로 시작하세요.",p.jsx("br",{}),"이름은 언제든 변경할 수 있어요."]}),p.jsx(Rd,{type:"제목",title:"닉네임",placeholder:"닉네임을 입력해주세요",check:!0,error:r,inputError:s,handleEdit:m,isSubmitted:a,defaultType:!1,handleValue:d,inputValue:e})]}),p.jsx(jY,{Button:x})]})};var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},su=typeof window>"u"||"Deno"in globalThis;function Hs(){}function zY(t,e){return typeof t=="function"?t(e):t}function pE(t){return typeof t=="number"&&t>=0&&t!==1/0}function $N(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kd(t,e){return typeof t=="function"?t(e):t}function xo(t,e){return typeof t=="function"?t(e):t}function M8(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==s5(o,e.options))return!1}else if(!_p(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function T8(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ou(e.options.mutationKey)!==ou(s))return!1}else if(!_p(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function s5(t,e){return((e==null?void 0:e.queryKeyHashFn)||ou)(t)}function ou(t){return JSON.stringify(t,(e,n)=>mE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _p(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!_p(t[n],e[n])):!1}function YN(t,e){if(t===e)return t;const n=I8(t)&&I8(e);if(n||mE(t)&&mE(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let A=0;A<o;A++){const c=n?A:s[A];(!n&&r.includes(c)||n)&&t[c]===void 0&&e[c]===void 0?(a[c]=void 0,l++):(a[c]=YN(t[c],e[c]),a[c]===t[c]&&t[c]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Zv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function I8(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mE(t){if(!F8(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F8(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F8(t){return Object.prototype.toString.call(t)==="[object Object]"}function GY(t){return new Promise(e=>{setTimeout(e,t)})}function gE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YN(t,e):e}function KY(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function WY(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var o5=Symbol();function qN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===o5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Rc,Gl,nf,NL,XY=(NL=class extends Yf{constructor(){super();Et(this,Rc);Et(this,Gl);Et(this,nf);rt(this,nf,e=>{if(!su&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ee(this,Gl)||this.setEventListener(ee(this,nf))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,Gl))==null||e.call(this),rt(this,Gl,void 0))}setEventListener(e){var n;rt(this,nf,e),(n=ee(this,Gl))==null||n.call(this),rt(this,Gl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ee(this,Rc)!==e&&(rt(this,Rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ee(this,Rc)=="boolean"?ee(this,Rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Rc=new WeakMap,Gl=new WeakMap,nf=new WeakMap,NL),a5=new XY,rf,Kl,sf,DL,$Y=(DL=class extends Yf{constructor(){super();Et(this,rf,!0);Et(this,Kl);Et(this,sf);rt(this,sf,e=>{if(!su&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ee(this,Kl)||this.setEventListener(ee(this,sf))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,Kl))==null||e.call(this),rt(this,Kl,void 0))}setEventListener(e){var n;rt(this,sf,e),(n=ee(this,Kl))==null||n.call(this),rt(this,Kl,e(this.setOnline.bind(this)))}setOnline(e){ee(this,rf)!==e&&(rt(this,rf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ee(this,rf)}},rf=new WeakMap,Kl=new WeakMap,sf=new WeakMap,DL),Jv=new $Y;function vE(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function YY(t){return Math.min(1e3*2**t,3e4)}function ZN(t){return(t??"online")==="online"?Jv.isOnline():!0}var JN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function lB(t){return t instanceof JN}function eD(t){let e=!1,n=0,r=!1,i;const s=vE(),o=x=>{var y;r||(d(new JN(x)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},A=()=>a5.isFocused()&&(t.networkMode==="always"||Jv.isOnline())&&t.canRun(),c=()=>ZN(t.networkMode)&&t.canRun(),u=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),i==null||i(),s.resolve(x))},d=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),i==null||i(),s.reject(x))},m=()=>new Promise(x=>{var y;i=v=>{(r||A())&&x(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),g=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(u).catch(v=>{var b;if(r)return;const w=t.retry??(su?0:3),C=t.retryDelay??YY,S=typeof C=="function"?C(n,v):C,M=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!M){d(v);return}n++,(b=t.onFail)==null||b.call(t,n,v),GY(S).then(()=>A()?void 0:m()).then(()=>{e?d(v):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?g():m().then(g),s)}}function qY(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var wr=qY(),Pc,OL,tD=(OL=class{constructor(){Et(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pE(this.gcTime)&&rt(this,Pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(su?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Pc)&&(clearTimeout(ee(this,Pc)),rt(this,Pc,void 0))}},Pc=new WeakMap,OL),of,af,Qs,si,A2,Nc,go,Ra,kL,ZY=(kL=class extends tD{constructor(e){super();Et(this,go);Et(this,of);Et(this,af);Et(this,Qs);Et(this,si);Et(this,A2);Et(this,Nc);rt(this,Nc,!1),rt(this,A2,e.defaultOptions),this.setOptions(e.options),this.observers=[],rt(this,Qs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,rt(this,of,JY(this.options)),this.state=e.state??ee(this,of),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ee(this,si))==null?void 0:e.promise}setOptions(e){this.options={...ee(this,A2),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,Qs).remove(this)}setData(e,n){const r=gE(this.state.data,e,this.options);return Vt(this,go,Ra).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Vt(this,go,Ra).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ee(this,si))==null?void 0:r.promise;return(i=ee(this,si))==null||i.cancel(e),n?n.then(Hs).catch(Hs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,of))}isActive(){return this.observers.some(e=>xo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o5||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!$N(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ee(this,si))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ee(this,si))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ee(this,Qs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ee(this,si)&&(ee(this,Nc)?ee(this,si).cancel({revert:!0}):ee(this,si).cancelRetry()),this.scheduleGc()),ee(this,Qs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,go,Ra).call(this,{type:"invalidate"})}fetch(e,n){var l,A,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ee(this,si))return ee(this,si).continueRetry(),ee(this,si).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(rt(this,Nc,!0),r.signal)})},s=()=>{const u=qN(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),rt(this,Nc,!1),this.options.persister?this.options.persister(u,d,this):u(d)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),rt(this,af,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=o.fetchOptions)==null?void 0:A.meta))&&Vt(this,go,Ra).call(this,{type:"fetch",meta:(c=o.fetchOptions)==null?void 0:c.meta});const a=u=>{var d,m,g,x;lB(u)&&u.silent||Vt(this,go,Ra).call(this,{type:"error",error:u}),lB(u)||((m=(d=ee(this,Qs).config).onError)==null||m.call(d,u,this),(x=(g=ee(this,Qs).config).onSettled)==null||x.call(g,this.state.data,u,this)),this.scheduleGc()};return rt(this,si,eD({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var d,m,g,x;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(y){a(y);return}(m=(d=ee(this,Qs).config).onSuccess)==null||m.call(d,u,this),(x=(g=ee(this,Qs).config).onSettled)==null||x.call(g,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,d)=>{Vt(this,go,Ra).call(this,{type:"failed",failureCount:u,error:d})},onPause:()=>{Vt(this,go,Ra).call(this,{type:"pause"})},onContinue:()=>{Vt(this,go,Ra).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ee(this,si).start()}},of=new WeakMap,af=new WeakMap,Qs=new WeakMap,si=new WeakMap,A2=new WeakMap,Nc=new WeakMap,go=new WeakSet,Ra=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nD(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return lB(i)&&i.revert&&ee(this,af)?{...ee(this,af),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),wr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ee(this,Qs).notify({query:this,type:"updated",action:e})})},kL);function nD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JY(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ea,QL,eq=(QL=class extends Yf{constructor(e={}){super();Et(this,ea);this.config=e,rt(this,ea,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??s5(i,n);let o=this.get(s);return o||(o=new ZY({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ee(this,ea).has(e.queryHash)||(ee(this,ea).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ee(this,ea).get(e.queryHash);n&&(e.destroy(),n===e&&ee(this,ea).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ee(this,ea).get(e)}getAll(){return[...ee(this,ea).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>M8(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>M8(e,r)):n}notify(e){wr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ea=new WeakMap,QL),ta,Ci,Dc,na,Rl,HL,tq=(HL=class extends tD{constructor(e){super();Et(this,na);Et(this,ta);Et(this,Ci);Et(this,Dc);this.mutationId=e.mutationId,rt(this,Ci,e.mutationCache),rt(this,ta,[]),this.state=e.state||rD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ee(this,ta).includes(e)||(ee(this,ta).push(e),this.clearGcTimeout(),ee(this,Ci).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){rt(this,ta,ee(this,ta).filter(n=>n!==e)),this.scheduleGc(),ee(this,Ci).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ee(this,ta).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Ci).remove(this))}continue(){var e;return((e=ee(this,Dc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,A,c,u,d,m,g,x,y,v,w,C,S,M,b,T;rt(this,Dc,eD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,P)=>{Vt(this,na,Rl).call(this,{type:"failed",failureCount:L,error:P})},onPause:()=>{Vt(this,na,Rl).call(this,{type:"pause"})},onContinue:()=>{Vt(this,na,Rl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Ci).canRun(this)}));const n=this.state.status==="pending",r=!ee(this,Dc).canStart();try{if(!n){Vt(this,na,Rl).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ee(this,Ci).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Vt(this,na,Rl).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const L=await ee(this,Dc).start();return await((A=(l=ee(this,Ci).config).onSuccess)==null?void 0:A.call(l,L,e,this.state.context,this)),await((u=(c=this.options).onSuccess)==null?void 0:u.call(c,L,e,this.state.context)),await((m=(d=ee(this,Ci).config).onSettled)==null?void 0:m.call(d,L,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,L,null,e,this.state.context)),Vt(this,na,Rl).call(this,{type:"success",data:L}),L}catch(L){try{throw await((v=(y=ee(this,Ci).config).onError)==null?void 0:v.call(y,L,e,this.state.context,this)),await((C=(w=this.options).onError)==null?void 0:C.call(w,L,e,this.state.context)),await((M=(S=ee(this,Ci).config).onSettled)==null?void 0:M.call(S,void 0,L,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,L,e,this.state.context)),L}finally{Vt(this,na,Rl).call(this,{type:"error",error:L})}}finally{ee(this,Ci).runNext(this)}}},ta=new WeakMap,Ci=new WeakMap,Dc=new WeakMap,na=new WeakSet,Rl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wr.batch(()=>{ee(this,ta).forEach(r=>{r.onMutationUpdate(e)}),ee(this,Ci).notify({mutation:this,type:"updated",action:e})})},HL);function rD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,c2,jL,nq=(jL=class extends Yf{constructor(e={}){super();Et(this,ls);Et(this,c2);this.config=e,rt(this,ls,new Map),rt(this,c2,Date.now())}build(e,n,r){const i=new tq({mutationCache:this,mutationId:++$m(this,c2)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=pg(e),r=ee(this,ls).get(n)??[];r.push(e),ee(this,ls).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=pg(e);if(ee(this,ls).has(n)){const i=(r=ee(this,ls).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ee(this,ls).delete(n):ee(this,ls).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ee(this,ls).get(pg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ee(this,ls).get(pg(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ee(this,ls).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>T8(n,r))}findAll(e={}){return this.getAll().filter(n=>T8(e,n))}notify(e){wr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hs))))}},ls=new WeakMap,c2=new WeakMap,jL);function pg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ey(t){return{onFetch:(e,n)=>{var c,u,d,m,g;const r=e.options,i=(d=(u=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:u.fetchMore)==null?void 0:d.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const A=async()=>{let x=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},v=qN(e.options,e.fetchOptions),w=async(C,S,M)=>{if(x)return Promise.reject();if(S==null&&C.pages.length)return Promise.resolve(C);const b={queryKey:e.queryKey,pageParam:S,direction:M?"backward":"forward",meta:e.options.meta};y(b);const T=await v(b),{maxPages:L}=e.options,P=M?WY:KY;return{pages:P(C.pages,T,L),pageParams:P(C.pageParams,S,L)}};if(i&&s.length){const C=i==="backward",S=C?iD:yE,M={pages:s,pageParams:o},b=S(r,M);a=await w(M,b,C)}else{const C=t??s.length;do{const S=l===0?o[0]??r.initialPageParam:yE(r,a);if(l>0&&S==null)break;a=await w(a,S),l++}while(l<C)}return a};e.options.persister?e.fetchFn=()=>{var x,y;return(y=(x=e.options).persister)==null?void 0:y.call(x,A,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=A}}}function yE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function iD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}function rq(t,e){return e?yE(t,e)!=null:!1}function iq(t,e){return!e||!t.getPreviousPageParam?!1:iD(t,e)!=null}var qn,Wl,Xl,lf,Af,$l,cf,uf,VL,sq=(VL=class{constructor(t={}){Et(this,qn);Et(this,Wl);Et(this,Xl);Et(this,lf);Et(this,Af);Et(this,$l);Et(this,cf);Et(this,uf);rt(this,qn,t.queryCache||new eq),rt(this,Wl,t.mutationCache||new nq),rt(this,Xl,t.defaultOptions||{}),rt(this,lf,new Map),rt(this,Af,new Map),rt(this,$l,0)}mount(){$m(this,$l)._++,ee(this,$l)===1&&(rt(this,cf,a5.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,qn).onFocus())})),rt(this,uf,Jv.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,qn).onOnline())})))}unmount(){var t,e;$m(this,$l)._--,ee(this,$l)===0&&((t=ee(this,cf))==null||t.call(this),rt(this,cf,void 0),(e=ee(this,uf))==null||e.call(this),rt(this,uf,void 0))}isFetching(t){return ee(this,qn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ee(this,Wl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ee(this,qn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ee(this,qn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Kd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ee(this,qn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ee(this,qn).get(r.queryHash),s=i==null?void 0:i.state.data,o=zY(e,s);if(o!==void 0)return ee(this,qn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wr.batch(()=>ee(this,qn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ee(this,qn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ee(this,qn);wr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ee(this,qn),r={type:"active",...t};return wr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=wr.batch(()=>ee(this,qn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Hs).catch(Hs)}invalidateQueries(t={},e={}){return wr.batch(()=>{if(ee(this,qn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=wr.batch(()=>ee(this,qn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Hs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Hs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ee(this,qn).build(this,e);return n.isStaleByTime(Kd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hs).catch(Hs)}fetchInfiniteQuery(t){return t.behavior=ey(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hs).catch(Hs)}ensureInfiniteQueryData(t){return t.behavior=ey(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jv.isOnline()?ee(this,Wl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,qn)}getMutationCache(){return ee(this,Wl)}getDefaultOptions(){return ee(this,Xl)}setDefaultOptions(t){rt(this,Xl,t)}setQueryDefaults(t,e){ee(this,lf).set(ou(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ee(this,lf).values()];let n={};return e.forEach(r=>{_p(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ee(this,Af).set(ou(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ee(this,Af).values()];let n={};return e.forEach(r=>{_p(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ee(this,Xl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=s5(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===o5&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ee(this,Xl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ee(this,qn).clear(),ee(this,Wl).clear()}},qn=new WeakMap,Wl=new WeakMap,Xl=new WeakMap,lf=new WeakMap,Af=new WeakMap,$l=new WeakMap,cf=new WeakMap,uf=new WeakMap,VL),Hi,en,u2,Bi,Oc,df,Yl,ra,d2,ff,hf,kc,Qc,ql,pf,xn,m0,xE,wE,CE,BE,SE,_E,EE,oD,zL,sD=(zL=class extends Yf{constructor(e,n){super();Et(this,xn);Et(this,Hi);Et(this,en);Et(this,u2);Et(this,Bi);Et(this,Oc);Et(this,df);Et(this,Yl);Et(this,ra);Et(this,d2);Et(this,ff);Et(this,hf);Et(this,kc);Et(this,Qc);Et(this,ql);Et(this,pf,new Set);this.options=n,rt(this,Hi,e),rt(this,ra,null),rt(this,Yl,vE()),this.options.experimental_prefetchInRender||ee(this,Yl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,en).addObserver(this),U8(ee(this,en),this.options)?Vt(this,xn,m0).call(this):this.updateResult(),Vt(this,xn,BE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bE(ee(this,en),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bE(ee(this,en),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vt(this,xn,SE).call(this),Vt(this,xn,_E).call(this),ee(this,en).removeObserver(this)}setOptions(e,n){const r=this.options,i=ee(this,en);if(this.options=ee(this,Hi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xo(this.options.enabled,ee(this,en))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vt(this,xn,EE).call(this),ee(this,en).setOptions(this.options),r._defaulted&&!Zv(this.options,r)&&ee(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,en),observer:this});const s=this.hasListeners();s&&L8(ee(this,en),i,this.options,r)&&Vt(this,xn,m0).call(this),this.updateResult(n),s&&(ee(this,en)!==i||xo(this.options.enabled,ee(this,en))!==xo(r.enabled,ee(this,en))||Kd(this.options.staleTime,ee(this,en))!==Kd(r.staleTime,ee(this,en)))&&Vt(this,xn,xE).call(this);const o=Vt(this,xn,wE).call(this);s&&(ee(this,en)!==i||xo(this.options.enabled,ee(this,en))!==xo(r.enabled,ee(this,en))||o!==ee(this,ql))&&Vt(this,xn,CE).call(this,o)}getOptimisticResult(e){const n=ee(this,Hi).getQueryCache().build(ee(this,Hi),e),r=this.createResult(n,e);return aq(this,r)&&(rt(this,Bi,r),rt(this,df,this.options),rt(this,Oc,ee(this,en).state)),r}getCurrentResult(){return ee(this,Bi)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){ee(this,pf).add(e)}getCurrentQuery(){return ee(this,en)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ee(this,Hi).defaultQueryOptions(e),r=ee(this,Hi).getQueryCache().build(ee(this,Hi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Vt(this,xn,m0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,Bi)))}createResult(e,n){var L;const r=ee(this,en),i=this.options,s=ee(this,Bi),o=ee(this,Oc),a=ee(this,df),A=e!==r?e.state:ee(this,u2),{state:c}=e;let u={...c},d=!1,m;if(n._optimisticResults){const P=this.hasListeners(),E=!P&&U8(e,n),U=P&&L8(e,r,n,i);(E||U)&&(u={...u,...nD(c.data,e.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:y}=u;if(n.select&&u.data!==void 0)if(s&&u.data===(o==null?void 0:o.data)&&n.select===ee(this,d2))m=ee(this,ff);else try{rt(this,d2,n.select),m=n.select(u.data),m=gE(s==null?void 0:s.data,m,n),rt(this,ff,m),rt(this,ra,null)}catch(P){rt(this,ra,P)}else m=u.data;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let P;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=s.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((L=ee(this,hf))==null?void 0:L.state.data,ee(this,hf)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),rt(this,ra,null)}catch(E){rt(this,ra,E)}P!==void 0&&(y="success",m=gE(s==null?void 0:s.data,P,n),d=!0)}ee(this,ra)&&(g=ee(this,ra),m=ee(this,ff),x=Date.now(),y="error");const v=u.fetchStatus==="fetching",w=y==="pending",C=y==="error",S=w&&v,M=m!==void 0,T={status:y,fetchStatus:u.fetchStatus,isPending:w,isSuccess:y==="success",isError:C,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:u.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>A.dataUpdateCount||u.errorUpdateCount>A.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:C&&!M,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:C&&M,isStale:l5(e,n),refetch:this.refetch,promise:ee(this,Yl)};if(this.options.experimental_prefetchInRender){const P=j=>{T.status==="error"?j.reject(T.error):T.data!==void 0&&j.resolve(T.data)},E=()=>{const j=rt(this,Yl,T.promise=vE());P(j)},U=ee(this,Yl);switch(U.status){case"pending":e.queryHash===r.queryHash&&P(U);break;case"fulfilled":(T.status==="error"||T.data!==U.value)&&E();break;case"rejected":(T.status!=="error"||T.error!==U.reason)&&E();break}}return T}updateResult(e){const n=ee(this,Bi),r=this.createResult(ee(this,en),this.options);if(rt(this,Oc,ee(this,en).state),rt(this,df,this.options),ee(this,Oc).data!==void 0&&rt(this,hf,ee(this,en)),Zv(r,n))return;rt(this,Bi,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ee(this,pf).size)return!0;const l=new Set(a??ee(this,pf));return this.options.throwOnError&&l.add("error"),Object.keys(ee(this,Bi)).some(A=>{const c=A;return ee(this,Bi)[c]!==n[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Vt(this,xn,oD).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vt(this,xn,BE).call(this)}},Hi=new WeakMap,en=new WeakMap,u2=new WeakMap,Bi=new WeakMap,Oc=new WeakMap,df=new WeakMap,Yl=new WeakMap,ra=new WeakMap,d2=new WeakMap,ff=new WeakMap,hf=new WeakMap,kc=new WeakMap,Qc=new WeakMap,ql=new WeakMap,pf=new WeakMap,xn=new WeakSet,m0=function(e){Vt(this,xn,EE).call(this);let n=ee(this,en).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Hs)),n},xE=function(){Vt(this,xn,SE).call(this);const e=Kd(this.options.staleTime,ee(this,en));if(su||ee(this,Bi).isStale||!pE(e))return;const r=$N(ee(this,Bi).dataUpdatedAt,e)+1;rt(this,kc,setTimeout(()=>{ee(this,Bi).isStale||this.updateResult()},r))},wE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,en)):this.options.refetchInterval)??!1},CE=function(e){Vt(this,xn,_E).call(this),rt(this,ql,e),!(su||xo(this.options.enabled,ee(this,en))===!1||!pE(ee(this,ql))||ee(this,ql)===0)&&rt(this,Qc,setInterval(()=>{(this.options.refetchIntervalInBackground||a5.isFocused())&&Vt(this,xn,m0).call(this)},ee(this,ql)))},BE=function(){Vt(this,xn,xE).call(this),Vt(this,xn,CE).call(this,Vt(this,xn,wE).call(this))},SE=function(){ee(this,kc)&&(clearTimeout(ee(this,kc)),rt(this,kc,void 0))},_E=function(){ee(this,Qc)&&(clearInterval(ee(this,Qc)),rt(this,Qc,void 0))},EE=function(){const e=ee(this,Hi).getQueryCache().build(ee(this,Hi),this.options);if(e===ee(this,en))return;const n=ee(this,en);rt(this,en,e),rt(this,u2,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},oD=function(e){wr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ee(this,Bi))}),ee(this,Hi).getQueryCache().notify({query:ee(this,en),type:"observerResultsUpdated"})})},zL);function oq(t,e){return xo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function U8(t,e){return oq(t,e)||t.state.data!==void 0&&bE(t,e,e.refetchOnMount)}function bE(t,e,n){if(xo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&l5(t,e)}return!1}function L8(t,e,n,r){return(t!==e||xo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&l5(t,n)}function l5(t,e){return xo(e.enabled,t)!==!1&&t.isStaleByTime(Kd(e.staleTime,t))}function aq(t,e){return!Zv(t.getCurrentResult(),e)}var lq=class extends sD{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:ey()},e)}getOptimisticResult(t){return t.behavior=ey(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var g,x;const{state:n}=t,r=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:o,isRefetchError:a}=r,l=(x=(g=n.fetchMeta)==null?void 0:g.fetchMore)==null?void 0:x.direction,A=o&&l==="forward",c=i&&l==="forward",u=o&&l==="backward",d=i&&l==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:rq(e,n.data),hasPreviousPage:iq(e,n.data),isFetchNextPageError:A,isFetchingNextPage:c,isFetchPreviousPageError:u,isFetchingPreviousPage:d,isRefetchError:a&&!A&&!u,isRefetching:s&&!c&&!d}}},Zl,Jl,ji,Ha,Za,ov,ME,GL,Aq=(GL=class extends Yf{constructor(n,r){super();Et(this,Za);Et(this,Zl);Et(this,Jl);Et(this,ji);Et(this,Ha);rt(this,Zl,n),this.setOptions(r),this.bindMethods(),Vt(this,Za,ov).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ee(this,Zl).defaultMutationOptions(n),Zv(this.options,r)||ee(this,Zl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,ji),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ou(r.mutationKey)!==ou(this.options.mutationKey)?this.reset():((i=ee(this,ji))==null?void 0:i.state.status)==="pending"&&ee(this,ji).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ee(this,ji))==null||n.removeObserver(this)}onMutationUpdate(n){Vt(this,Za,ov).call(this),Vt(this,Za,ME).call(this,n)}getCurrentResult(){return ee(this,Jl)}reset(){var n;(n=ee(this,ji))==null||n.removeObserver(this),rt(this,ji,void 0),Vt(this,Za,ov).call(this),Vt(this,Za,ME).call(this)}mutate(n,r){var i;return rt(this,Ha,r),(i=ee(this,ji))==null||i.removeObserver(this),rt(this,ji,ee(this,Zl).getMutationCache().build(ee(this,Zl),this.options)),ee(this,ji).addObserver(this),ee(this,ji).execute(n)}},Zl=new WeakMap,Jl=new WeakMap,ji=new WeakMap,Ha=new WeakMap,Za=new WeakSet,ov=function(){var r;const n=((r=ee(this,ji))==null?void 0:r.state)??rD();rt(this,Jl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ME=function(n){wr.batch(()=>{var r,i,s,o,a,l,A,c;if(ee(this,Ha)&&this.hasListeners()){const u=ee(this,Jl).variables,d=ee(this,Jl).context;(n==null?void 0:n.type)==="success"?((i=(r=ee(this,Ha)).onSuccess)==null||i.call(r,n.data,u,d),(o=(s=ee(this,Ha)).onSettled)==null||o.call(s,n.data,null,u,d)):(n==null?void 0:n.type)==="error"&&((l=(a=ee(this,Ha)).onError)==null||l.call(a,n.error,u,d),(c=(A=ee(this,Ha)).onSettled)==null||c.call(A,void 0,n.error,u,d))}this.listeners.forEach(u=>{u(ee(this,Jl))})})},GL),aD=F.createContext(void 0),w2=t=>{const e=F.useContext(aD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cq=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(aD.Provider,{value:t,children:e})),lD=F.createContext(!1),uq=()=>F.useContext(lD);lD.Provider;function dq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var fq=F.createContext(dq()),hq=()=>F.useContext(fq);function AD(t,e){return typeof t=="function"?t(...e):!!t}function TE(){}var pq=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},mq=t=>{F.useEffect(()=>{t.clearReset()},[t])},gq=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&AD(n,[t.error,r]),vq=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},yq=(t,e)=>t.isLoading&&t.isFetching&&!e,xq=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,R8=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function cD(t,e,n){var c,u,d,m,g;const r=w2(),i=uq(),s=hq(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=i?"isRestoring":"optimistic",vq(o),pq(o,s),mq(s);const a=!r.getQueryCache().get(o.queryHash),[l]=F.useState(()=>new e(r,o)),A=l.getOptimisticResult(o);if(F.useSyncExternalStore(F.useCallback(x=>{const y=i?TE:l.subscribe(wr.batchCalls(x));return l.updateResult(),y},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),F.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),xq(o,A))throw R8(o,l,s);if(gq({result:A,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw A.error;if((m=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||m.call(d,o,A),o.experimental_prefetchInRender&&!su&&yq(A,i)){const x=a?R8(o,l,s):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;x==null||x.catch(TE).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?A:l.trackResult(A)}function _r(t,e){return cD(t,sD)}function Ec(t,e){const n=w2(),[r]=F.useState(()=>new Aq(n,t));F.useEffect(()=>{r.setOptions(t)},[r,t]);const i=F.useSyncExternalStore(F.useCallback(o=>r.subscribe(wr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=F.useCallback((o,a)=>{r.mutate(o,a).catch(TE)},[r]);if(i.error&&AD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function uD(t,e){return cD(t,lq)}const wq=t=>F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:15,height:15,viewBox:"0 0 15 15",fill:"none",...t},F.createElement("circle",{cx:6.12524,cy:6.125,r:5.125,stroke:"#ABABAB",strokeWidth:2}),F.createElement("path",{d:"M13.2817 14.6959C13.6708 15.0879 14.3077 15.0941 14.7043 14.7097C15.1009 14.3254 15.107 13.696 14.7179 13.304L13.2817 14.6959ZM8.99797 10.38L13.2817 14.6959L14.7179 13.304L10.4342 8.98808L8.99797 10.38Z",fill:"#ABABAB"})),Cq=t=>F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...t},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM4.43431 4.43431C4.74673 4.1219 5.25327 4.1219 5.56569 4.43431L8.12132 6.98995L10.677 4.43432C10.9894 4.1219 11.4959 4.1219 11.8083 4.43432C12.1207 4.74674 12.1207 5.25327 11.8083 5.56569L9.25269 8.12132L11.8083 10.677C12.1207 10.9894 12.1207 11.4959 11.8083 11.8083C11.4959 12.1207 10.9894 12.1207 10.677 11.8083L8.12132 9.25269L5.56569 11.8083C5.25327 12.1208 4.74673 12.1208 4.43431 11.8083C4.1219 11.4959 4.1219 10.9894 4.43431 10.677L6.98995 8.12132L4.43431 5.56569C4.1219 5.25327 4.1219 4.74673 4.43431 4.43431Z",fill:"#ABABAB"})),C2=({placeholder:t="검색어를 입력하세요",search:e,setSearch:n,onEnter:r,className:i,custom:s=!1})=>{const o=Bt(),a=u=>{n(u.target.value)},l=()=>{o(-1)},A=()=>{n("")},c=u=>{u.key==="Enter"&&r()};return p.jsxs("div",{className:XN("flex items-center w-full  py-1 px-4 gap-2",i),children:[p.jsxs("div",{className:`flex  ${s?"w-[27rem]":"w-full"} h-[2.5rem] bg-gray-50 items-center rounded-[0.5rem] p-2`,children:[p.jsx(wq,{className:" text-gray-50 mr-2 "}),p.jsx("input",{type:"text",value:e,placeholder:t,onChange:a,onKeyDown:c,className:" bg-gray-50 text-b1 text-black placeholder-gray-300 w-full  "}),e.length>0&&p.jsx("button",{onClick:A,children:p.jsx(Cq,{className:"w-[1rem] h-[1rem]"})})]}),!s&&p.jsx("button",{onClick:l,className:"text-btn2 text-gray800 w-auto px-[0.62rem] whitespace-nowrap",children:"취소"})]})},ds="/assets/bookImg-ex-DCCPGOIG.svg",Ep=({img:t,title:e,author:n,handleClick:r})=>p.jsxs("div",{className:"flex flex-col gap-2 w-[6.5rem] h-fit",onClick:r,children:[p.jsx("img",{src:t||ds,className:"w-full h-[9.25rem]"}),p.jsxs("div",{children:[p.jsx("div",{className:"line-clamp-2",children:e}),n&&p.jsx("div",{children:n})]})]});var dD={},fD={},sw={},hD={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(hD);var Bq="Expected a function",P8=NaN,Sq="[object Symbol]",_q=/^\s+|\s+$/g,Eq=/^[-+]0x[0-9a-f]+$/i,bq=/^0b[01]+$/i,Mq=/^0o[0-7]+$/i,Tq=parseInt,Iq=typeof wd=="object"&&wd&&wd.Object===Object&&wd,Fq=typeof self=="object"&&self&&self.Object===Object&&self,Uq=Iq||Fq||Function("return this")(),Lq=Object.prototype,Rq=Lq.toString,Pq=Math.max,Nq=Math.min,AB=function(){return Uq.Date.now()};function Dq(t,e,n){var r,i,s,o,a,l,A=0,c=!1,u=!1,d=!0;if(typeof t!="function")throw new TypeError(Bq);e=N8(e)||0,IE(n)&&(c=!!n.leading,u="maxWait"in n,s=u?Pq(N8(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function m(b){var T=r,L=i;return r=i=void 0,A=b,o=t.apply(L,T),o}function g(b){return A=b,a=setTimeout(v,e),c?m(b):o}function x(b){var T=b-l,L=b-A,P=e-T;return u?Nq(P,s-L):P}function y(b){var T=b-l,L=b-A;return l===void 0||T>=e||T<0||u&&L>=s}function v(){var b=AB();if(y(b))return w(b);a=setTimeout(v,x(b))}function w(b){return a=void 0,d&&r?m(b):(r=i=void 0,o)}function C(){a!==void 0&&clearTimeout(a),A=0,r=l=i=a=void 0}function S(){return a===void 0?o:w(AB())}function M(){var b=AB(),T=y(b);if(r=arguments,i=this,l=b,T){if(a===void 0)return g(l);if(u)return a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),o}return M.cancel=C,M.flush=S,M}function IE(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Oq(t){return!!t&&typeof t=="object"}function kq(t){return typeof t=="symbol"||Oq(t)&&Rq.call(t)==Sq}function N8(t){if(typeof t=="number")return t;if(kq(t))return P8;if(IE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=IE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(_q,"");var n=bq.test(t);return n||Mq.test(t)?Tq(t.slice(2),n?2:8):Eq.test(t)?P8:+t}var Qq=Dq,$e={},A5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(F);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(A5);Object.defineProperty($e,"__esModule",{value:!0});$e.checkSpecKeys=$e.checkNavigable=$e.changeSlide=$e.canUseDOM=$e.canGoNext=void 0;$e.clamp=mD;$e.extractObject=void 0;$e.filterSettings=tZ;$e.validSettings=$e.swipeStart=$e.swipeMove=$e.swipeEnd=$e.slidesOnRight=$e.slidesOnLeft=$e.slideHandler=$e.siblingDirection=$e.safePreventDefault=$e.lazyStartIndex=$e.lazySlidesOnRight=$e.lazySlidesOnLeft=$e.lazyEndIndex=$e.keyHandler=$e.initializedState=$e.getWidth=$e.getTrackLeft=$e.getTrackCSS=$e.getTrackAnimateCSS=$e.getTotalSlides=$e.getSwipeDirection=$e.getSlideCount=$e.getRequiredLazySlides=$e.getPreClones=$e.getPostClones=$e.getOnDemandLazySlides=$e.getNavigableIndexes=$e.getHeight=void 0;var Hq=pD(F),jq=pD(A5);function pD(t){return t&&t.__esModule?t:{default:t}}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function D8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(n),!0).forEach(function(r){Vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vq(t,e,n){return e=zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zq(t){var e=Gq(t,"string");return bp(e)=="symbol"?e:String(e)}function Gq(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mD(t,e,n){return Math.max(e,Math.min(t,n))}var Wd=$e.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},gD=$e.getOnDemandLazySlides=function(e){for(var n=[],r=vD(e),i=yD(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};$e.getRequiredLazySlides=function(e){for(var n=[],r=vD(e),i=yD(e),s=r;s<i;s++)n.push(s);return n};var vD=$e.lazyStartIndex=function(e){return e.currentSlide-Kq(e)},yD=$e.lazyEndIndex=function(e){return e.currentSlide+Wq(e)},Kq=$e.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},Wq=$e.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},FE=$e.getWidth=function(e){return e&&e.offsetWidth||0},xD=$e.getHeight=function(e){return e&&e.offsetHeight||0},wD=$e.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},CD=$e.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};$e.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};$e.initializedState=function(e){var n=Hq.default.Children.count(e.children),r=e.listRef,i=Math.ceil(FE(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(FE(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var A=r&&xD(r.querySelector('[data-index="0"]')),c=A*e.slidesToShow,u=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(u=n-1-e.initialSlide);var d=e.lazyLoadedList||[],m=gD(kn(kn({},e),{},{currentSlide:u,lazyLoadedList:d}));d=d.concat(m);var g={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:u,slideHeight:A,listHeight:c,lazyLoadedList:d};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};$e.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,A=e.currentSlide,c=e.centerMode,u=e.slidesToScroll,d=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(n&&r)return{};var x=o,y,v,w,C={},S={},M=s?o:mD(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?x=o+a:o>=a&&(x=o-a),l&&g.indexOf(x)<0&&(g=g.concat(x)),C={animating:!0,currentSlide:x,lazyLoadedList:g,targetSlide:x},S={animating:!1,targetSlide:x}}else y=x,x<0?(y=x+a,s?a%u!==0&&(y=a-a%u):y=0):!CD(e)&&x>A?x=y=A:c&&x>=a?(x=s?a:a-1,y=s?0:a-1):x>=a&&(y=x-a,s?a%u!==0&&(y=0):y=a-d),!s&&x+d>=a&&(y=a-d),v=ny(kn(kn({},e),{},{slideIndex:x})),w=ny(kn(kn({},e),{},{slideIndex:y})),s||(v===w&&(x=y),v=w),l&&(g=g.concat(gD(kn(kn({},e),{},{currentSlide:x})))),m?(C={animating:!0,currentSlide:y,trackStyle:BD(kn(kn({},e),{},{left:v})),lazyLoadedList:g,targetSlide:M},S={animating:!1,currentSlide:y,trackStyle:ty(kn(kn({},e),{},{left:w})),swipeLeft:null,targetSlide:M}):C={currentSlide:y,trackStyle:ty(kn(kn({},e),{},{left:w})),lazyLoadedList:g,targetSlide:M};return{state:C,nextState:S}};$e.changeSlide=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,A=e.slidesToShow,c=e.slideCount,u=e.currentSlide,d=e.targetSlide,m=e.lazyLoad,g=e.infinite;if(o=c%l!==0,r=o?0:(c-u)%l,n.message==="previous")s=r===0?l:A-r,a=u-s,m&&!g&&(i=u-s,a=i===-1?c-1:i),g||(a=d-l);else if(n.message==="next")s=r===0?l:r,a=u+s,m&&!g&&(a=(u+l)%c+r),g||(a=d+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,g){var x=qq(kn(kn({},e),{},{targetSlide:a}));a>n.currentSlide&&x==="left"?a=a-c:a<n.currentSlide&&x==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};$e.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};$e.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Wd(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};$e.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,A=n.currentSlide,c=n.edgeFriction,u=n.edgeDragged,d=n.onEdge,m=n.swiped,g=n.swiping,x=n.slideCount,y=n.slidesToScroll,v=n.infinite,w=n.touchObject,C=n.swipeEvent,S=n.listHeight,M=n.listWidth;if(!r){if(i)return Wd(e);s&&o&&a&&Wd(e);var b,T={},L=ny(n);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var P=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!a&&!g&&P>10)return{scrolling:!0};a&&(w.swipeLength=P);var E=(l?-1:1)*(w.curX>w.startX?1:-1);a&&(E=w.curY>w.startY?1:-1);var U=Math.ceil(x/y),j=wD(n.touchObject,a),Q=w.swipeLength;return v||(A===0&&(j==="right"||j==="down")||A+1>=U&&(j==="left"||j==="up")||!CD(n)&&(j==="left"||j==="up"))&&(Q=w.swipeLength*c,u===!1&&d&&(d(j),T.edgeDragged=!0)),!m&&C&&(C(j),T.swiped=!0),s?b=L+Q*(S/M)*E:l?b=L-Q*E:b=L+Q*E,a&&(b=L+Q*E),T=kn(kn({},T),{},{touchObject:w,swipeLeft:b,trackStyle:ty(kn(kn({},n),{},{left:b}))}),Math.abs(w.curX-w.startX)<Math.abs(w.curY-w.startY)*.8||w.swipeLength>10&&(T.swiping=!0,Wd(e)),T}};$e.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,A=n.listHeight,c=n.swipeToSlide,u=n.scrolling,d=n.onSwipe,m=n.targetSlide,g=n.currentSlide,x=n.infinite;if(!r)return i&&Wd(e),{};var y=l?A/a:o/a,v=wD(s,l),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(u||!s.swipeLength)return w;if(s.swipeLength>y){Wd(e),d&&d(v);var C,S,M=x?g:m;switch(v){case"left":case"up":S=M+k8(n),C=c?O8(n,S):S,w.currentDirection=0;break;case"right":case"down":S=M-k8(n),C=c?O8(n,S):S,w.currentDirection=1;break;default:C=M}w.triggerSlideHandler=C}else{var b=ny(n);w.trackStyle=BD(kn(kn({},n),{},{left:b}))}return w};var Xq=$e.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},O8=$e.checkNavigable=function(e,n){var r=Xq(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},k8=$e.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+xD(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+FE(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},c5=$e.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},ty=$e.getTrackCSS=function(e){c5(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=Yq(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=kn(kn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},BD=$e.getTrackAnimateCSS=function(e){c5(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=ty(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},ny=$e.getTrackLeft=function(e){if(e.unslick)return 0;c5(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,A=e.slideWidth,c=e.listWidth,u=e.variableWidth,d=e.slideHeight,m=e.fade,g=e.vertical,x=0,y,v,w=0;if(m||e.slideCount===1)return 0;var C=0;if(i?(C=-av(e),o%l!==0&&n+l>o&&(C=-(n>o?a-(n-o):o%l)),s&&(C+=parseInt(a/2))):(o%l!==0&&n+l>o&&(C=a-o%l),s&&(C=parseInt(a/2))),x=C*A,w=C*d,g?y=n*d*-1+w:y=n*A*-1+x,u===!0){var S,M=r&&r.node;if(S=n+av(e),v=M&&M.childNodes[S],y=v?v.offsetLeft*-1:0,s===!0){S=i?n+av(e):n,v=M&&M.children[S],y=0;for(var b=0;b<S;b++)y-=M&&M.children[b]&&M.children[b].offsetWidth;y-=parseInt(e.centerPadding),y+=v&&(c-v.offsetWidth)/2}}return y},av=$e.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},$q=$e.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},Yq=$e.getTotalSlides=function(e){return e.slideCount===1?1:av(e)+e.slideCount+$q(e)},qq=$e.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+Zq(e)?"left":"right":e.targetSlide<e.currentSlide-Jq(e)?"right":"left"},Zq=$e.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},Jq=$e.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};$e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var eZ=$e.validSettings=Object.keys(jq.default);function tZ(t){return eZ.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.Track=void 0;var kl=SD(F),cB=SD(x2),uB=$e;function SD(t){return t&&t.__esModule?t:{default:t}}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function iZ(t,e,n){return e&&rZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LE(t,e)}function oZ(t){var e=_D();return function(){var r=ry(t),i;if(e){var s=ry(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aZ(this,i)}}function aZ(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RE(t)}function RE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){PE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PE(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=lZ(t,"string");return Sf(e)=="symbol"?e:String(e)}function lZ(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dB=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},AZ=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},fB=function(e,n){return e.key||n},cZ=function(e){var n,r=[],i=[],s=[],o=kl.default.Children.count(e.children),a=(0,uB.lazyStartIndex)(e),l=(0,uB.lazyEndIndex)(e);return kl.default.Children.forEach(e.children,function(A,c){var u,d={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?u=A:u=kl.default.createElement("div",null);var m=AZ(ki(ki({},e),{},{index:c})),g=u.props.className||"",x=dB(ki(ki({},e),{},{index:c}));if(r.push(kl.default.cloneElement(u,{key:"original"+fB(u,c),"data-index":c,className:(0,cB.default)(x,g),tabIndex:"-1","aria-hidden":!x["slick-active"],style:ki(ki({outline:"none"},u.props.style||{}),m),onClick:function(w){u.props&&u.props.onClick&&u.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(d)}})),e.infinite&&e.fade===!1){var y=o-c;y<=(0,uB.getPreClones)(e)&&(n=-y,n>=a&&(u=A),x=dB(ki(ki({},e),{},{index:n})),i.push(kl.default.cloneElement(u,{key:"precloned"+fB(u,n),"data-index":n,tabIndex:"-1",className:(0,cB.default)(x,g),"aria-hidden":!x["slick-active"],style:ki(ki({},u.props.style||{}),m),onClick:function(w){u.props&&u.props.onClick&&u.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(d)}}))),n=o+c,n<l&&(u=A),x=dB(ki(ki({},e),{},{index:n})),s.push(kl.default.cloneElement(u,{key:"postcloned"+fB(u,n),"data-index":n,tabIndex:"-1",className:(0,cB.default)(x,g),"aria-hidden":!x["slick-active"],style:ki(ki({},u.props.style||{}),m),onClick:function(w){u.props&&u.props.onClick&&u.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(d)}}))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};ow.Track=function(t){sZ(n,t);var e=oZ(n);function n(){var r;nZ(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),PE(RE(r),"node",null),PE(RE(r),"handleRef",function(a){r.node=a}),r}return iZ(n,[{key:"render",value:function(){var i=cZ(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,A={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return kl.default.createElement("div",UE({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},A),i)}}]),n}(kl.default.PureComponent);var aw={};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}Object.defineProperty(aw,"__esModule",{value:!0});aw.Dots=void 0;var mg=bD(F),uZ=bD(x2),H8=$e;function bD(t){return t&&t.__esModule?t:{default:t}}function j8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(r){fZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fZ(t,e,n){return e=MD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MD(r.key),r)}}function mZ(t,e,n){return e&&pZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MD(t){var e=gZ(t,"string");return _f(e)=="symbol"?e:String(e)}function gZ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NE(t,e)}function yZ(t){var e=TD();return function(){var r=iy(t),i;if(e){var s=iy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return xZ(this,i)}}function xZ(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(t)}function wZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}var CZ=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};aw.Dots=function(t){vZ(n,t);var e=yZ(n);function n(){return hZ(this,n),e.apply(this,arguments)}return mZ(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,A=i.slidesToScroll,c=i.slidesToShow,u=i.slideCount,d=i.currentSlide,m=CZ({slideCount:u,slidesToScroll:A,slidesToShow:c,infinite:l}),g={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},x=[],y=0;y<m;y++){var v=(y+1)*A-1,w=l?v:(0,H8.clamp)(v,0,u-1),C=w-(A-1),S=l?C:(0,H8.clamp)(C,0,u-1),M=(0,uZ.default)({"slick-active":l?d>=S&&d<=w:d===S}),b={message:"dots",index:y,slidesToScroll:A,currentSlide:d},T=this.clickHandler.bind(this,b);x=x.concat(mg.default.createElement("li",{key:y,className:M},mg.default.cloneElement(this.props.customPaging(y),{onClick:T})))}return mg.default.cloneElement(this.props.appendDots(x),dZ({className:this.props.dotsClass},g))}}]),n}(mg.default.PureComponent);var Ef={};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}Object.defineProperty(Ef,"__esModule",{value:!0});Ef.PrevArrow=Ef.NextArrow=void 0;var Xd=FD(F),ID=FD(x2),BZ=$e;function FD(t){return t&&t.__esModule?t:{default:t}}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){SZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SZ(t,e,n){return e=RD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RD(r.key),r)}}function LD(t,e,n){return e&&_Z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RD(t){var e=EZ(t,"string");return bf(e)=="symbol"?e:String(e)}function EZ(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(t,e)}function ND(t){var e=DD();return function(){var r=ay(t),i;if(e){var s=ay(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return bZ(this,i)}}function bZ(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MZ(t)}function MZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}Ef.PrevArrow=function(t){PD(n,t);var e=ND(n);function n(){return UD(this,n),e.apply(this,arguments)}return LD(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,ID.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Xd.default.cloneElement(this.props.prevArrow,oy(oy({},o),a)):l=Xd.default.createElement("button",sy({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(Xd.default.PureComponent);Ef.NextArrow=function(t){PD(n,t);var e=ND(n);function n(){return UD(this,n),e.apply(this,arguments)}return LD(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,BZ.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,ID.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Xd.default.cloneElement(this.props.nextArrow,oy(oy({},o),a)):l=Xd.default.createElement("button",sy({key:"1",type:"button"},o)," ","Next"),l}}]),n}(Xd.default.PureComponent);var OD=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),OE=typeof window<"u"&&typeof document<"u"&&window.document===document,ly=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),TZ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ly):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),IZ=2;function FZ(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){TZ(s)}function a(){var l=Date.now();if(n){if(l-i<IZ)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var UZ=20,LZ=["top","right","bottom","left","width","height","size","weight"],RZ=typeof MutationObserver<"u",PZ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=FZ(this.refresh.bind(this),UZ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!OE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),RZ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!OE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=LZ.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),kD=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Mf=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ly},QD=lw(0,0,0,0);function Ay(t){return parseFloat(t)||0}function z8(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Ay(s)},0)}function NZ(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Ay(o)}return n}function DZ(t){var e=t.getBBox();return lw(0,0,e.width,e.height)}function OZ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return QD;var r=Mf(t).getComputedStyle(t),i=NZ(r),s=i.left+i.right,o=i.top+i.bottom,a=Ay(r.width),l=Ay(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=z8(r,"left","right")+s),Math.round(l+o)!==n&&(l-=z8(r,"top","bottom")+o)),!QZ(t)){var A=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(A)!==1&&(a-=A),Math.abs(c)!==1&&(l-=c)}return lw(i.left,i.top,a,l)}var kZ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Mf(t).SVGGraphicsElement}:function(t){return t instanceof Mf(t).SVGElement&&typeof t.getBBox=="function"}}();function QZ(t){return t===Mf(t).document.documentElement}function HZ(t){return OE?kZ(t)?DZ(t):OZ(t):QD}function jZ(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return kD(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function lw(t,e,n,r){return{x:t,y:e,width:n,height:r}}var VZ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=lw(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=HZ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),zZ=function(){function t(e,n){var r=jZ(n);kD(this,{target:e,contentRect:r})}return t}(),GZ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new OD,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Mf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new VZ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Mf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new zZ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),HD=typeof WeakMap<"u"?new WeakMap:new OD,jD=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=PZ.getInstance(),r=new GZ(e,n,this);HD.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){jD.prototype[t]=function(){var e;return(e=HD.get(this))[t].apply(e,arguments)}});var KZ=function(){return typeof ly.ResizeObserver<"u"?ly.ResizeObserver:jD}();const WZ=Object.freeze(Object.defineProperty({__proto__:null,default:KZ},Symbol.toStringTag,{value:"Module"})),XZ=iG(WZ);Object.defineProperty(sw,"__esModule",{value:!0});sw.InnerSlider=void 0;var gi=B2(F),$Z=B2(hD),YZ=B2(Qq),qZ=B2(x2),jn=$e,ZZ=ow,JZ=aw,G8=Ef,eJ=B2(XZ);function B2(t){return t&&t.__esModule?t:{default:t}}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function tJ(t,e){if(t==null)return{};var n=nJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function K8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(r){Yt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function sJ(t,e,n){return e&&iJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function aJ(t){var e=VD();return function(){var r=uy(t),i;if(e){var s=uy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lJ(this,i)}}function lJ(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(t)}function $t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function Yt(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=AJ(t,"string");return au(e)=="symbol"?e:String(e)}function AJ(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}sw.InnerSlider=function(t){oJ(n,t);var e=aJ(n);function n(r){var i;rJ(this,n),i=e.call(this,r),Yt($t(i),"listRefHandler",function(o){return i.list=o}),Yt($t(i),"trackRefHandler",function(o){return i.track=o}),Yt($t(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,jn.getHeight)(o)+"px"}}),Yt($t(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,jn.getOnDemandLazySlides)(Mt(Mt({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=Mt({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new eJ.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Yt($t(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Yt($t(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,jn.getOnDemandLazySlides)(Mt(Mt({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=Mt(Mt({listRef:i.list,trackRef:i.track},i.props),i.state),A=i.didPropsChange(o);A&&i.updateState(l,A,function(){i.state.currentSlide>=gi.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:gi.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Yt($t(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,YZ.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Yt($t(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=Mt(Mt({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Yt($t(i),"updateState",function(o,a,l){var A=(0,jn.initializedState)(o);o=Mt(Mt(Mt({},o),A),{},{slideIndex:A.currentSlide});var c=(0,jn.getTrackLeft)(o);o=Mt(Mt({},o),{},{left:c});var u=(0,jn.getTrackCSS)(o);(a||gi.default.Children.count(i.props.children)!==gi.default.Children.count(o.children))&&(A.trackStyle=u),i.setState(A,l)}),Yt($t(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],A=(0,jn.getPreClones)(Mt(Mt(Mt({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,jn.getPostClones)(Mt(Mt(Mt({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(T){l.push(T.props.style.width),o+=T.props.style.width});for(var u=0;u<A;u++)a+=l[l.length-1-u],o+=l[l.length-1-u];for(var d=0;d<c;d++)o+=l[d];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var g={width:o+"px",left:-a+"px"};if(i.props.centerMode){var x="".concat(l[i.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(x,") / 2 ) ")}return{trackStyle:g}}var y=gi.default.Children.count(i.props.children),v=Mt(Mt(Mt({},i.props),i.state),{},{slideCount:y}),w=(0,jn.getPreClones)(v)+(0,jn.getPostClones)(v)+y,C=100/i.props.slidesToShow*w,S=100/w,M=-S*((0,jn.getPreClones)(v)+i.state.currentSlide)*C/100;i.props.centerMode&&(M+=(100-S*C/100)/2);var b={width:C+"%",left:M+"%"};return{slideWidth:S+"%",trackStyle:b}}),Yt($t(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(A){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!A.onclick)A.onclick=function(){return A.parentNode.focus()};else{var u=A.onclick;A.onclick=function(d){u(d),A.parentNode.focus()}}A.onload||(i.props.lazyLoad?A.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(A.onload=c,A.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Yt($t(i),"progressiveLazyLoad",function(){for(var o=[],a=Mt(Mt({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,jn.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var A=i.state.currentSlide-1;A>=-(0,jn.getPreClones)(a);A--)if(i.state.lazyLoadedList.indexOf(A)<0){o.push(A);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Yt($t(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,A=l.asNavFor,c=l.beforeChange,u=l.onLazyLoad,d=l.speed,m=l.afterChange,g=i.state.currentSlide,x=(0,jn.slideHandler)(Mt(Mt(Mt({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),y=x.state,v=x.nextState;if(y){c&&c(g,y.currentSlide);var w=y.lazyLoadedList.filter(function(C){return i.state.lazyLoadedList.indexOf(C)<0});u&&w.length>0&&u(w),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(g),delete i.animationEndCallback),i.setState(y,function(){A&&i.asNavForIndex!==o&&(i.asNavForIndex=o,A.innerSlider.slideHandler(o)),v&&(i.animationEndCallback=setTimeout(function(){var C=v.animating,S=tJ(v,["animating"]);i.setState(S,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:C})},10)),m&&m(y.currentSlide),delete i.animationEndCallback})},d))})}}),Yt($t(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Mt(Mt({},i.props),i.state),A=(0,jn.changeSlide)(l,o);if(!(A!==0&&!A)&&(a===!0?i.slideHandler(A,a):i.slideHandler(A),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),Yt($t(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Yt($t(i),"keyHandler",function(o){var a=(0,jn.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Yt($t(i),"selectHandler",function(o){i.changeSlide(o)}),Yt($t(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Yt($t(i),"enableBodyScroll",function(){window.ontouchmove=null}),Yt($t(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,jn.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Yt($t(i),"swipeMove",function(o){var a=(0,jn.swipeMove)(o,Mt(Mt(Mt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Yt($t(i),"swipeEnd",function(o){var a=(0,jn.swipeEnd)(o,Mt(Mt(Mt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Yt($t(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Yt($t(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Yt($t(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Yt($t(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Yt($t(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,jn.canGoNext)(Mt(Mt({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Yt($t(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Yt($t(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Yt($t(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Yt($t(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Yt($t(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Yt($t(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Yt($t(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Yt($t(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Yt($t(i),"render",function(){var o=(0,qZ.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Mt(Mt({},i.props),i.state),l=(0,jn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),A=i.props.pauseOnHover;l=Mt(Mt({},l),{},{onMouseEnter:A?i.onTrackOver:null,onMouseLeave:A?i.onTrackLeave:null,onMouseOver:A?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var u=(0,jn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=i.props.pauseOnDotsHover;u=Mt(Mt({},u),{},{clickHandler:i.changeSlide,onMouseEnter:d?i.onDotsLeave:null,onMouseOver:d?i.onDotsOver:null,onMouseLeave:d?i.onDotsLeave:null}),c=gi.default.createElement(JZ.Dots,u)}var m,g,x=(0,jn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);x.clickHandler=i.changeSlide,i.props.arrows&&(m=gi.default.createElement(G8.PrevArrow,x),g=gi.default.createElement(G8.NextArrow,x));var y=null;i.props.vertical&&(y={height:i.state.listHeight});var v=null;i.props.vertical===!1?i.props.centerMode===!0&&(v={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(v={padding:i.props.centerPadding+" 0px"});var w=Mt(Mt({},y),v),C=i.props.touchMove,S={className:"slick-list",style:w,onClick:i.clickHandler,onMouseDown:C?i.swipeStart:null,onMouseMove:i.state.dragging&&C?i.swipeMove:null,onMouseUp:C?i.swipeEnd:null,onMouseLeave:i.state.dragging&&C?i.swipeEnd:null,onTouchStart:C?i.swipeStart:null,onTouchMove:i.state.dragging&&C?i.swipeMove:null,onTouchEnd:C?i.touchEnd:null,onTouchCancel:i.state.dragging&&C?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(S={className:"slick-list"},M={className:o}),gi.default.createElement("div",M,i.props.unslick?"":m,gi.default.createElement("div",cy({ref:i.listRefHandler},S),gi.default.createElement(ZZ.Track,cy({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":g,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=Mt(Mt({},$Z.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:gi.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=Mt(Mt({},i.state),s),i}return sJ(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(au(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){s=!0;break}}return s||gi.default.Children.count(this.props.children)!==gi.default.Children.count(i.children)}}]),n}(gi.default.Component);var cJ=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},uJ=cJ,dJ=uJ,fJ=function(t){var e=/[height|width]$/;return e.test(t)},W8=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=dJ(r),fJ(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},hJ=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=W8(n),r<t.length-1&&(e+=", ")}),e):W8(t)},pJ=hJ,hB,X8;function mJ(){if(X8)return hB;X8=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},hB=t,hB}var pB,$8;function GD(){if($8)return pB;$8=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return pB={isFunction:n,isArray:e,each:t},pB}var mB,Y8;function gJ(){if(Y8)return mB;Y8=1;var t=mJ(),e=GD().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},mB=n,mB}var gB,q8;function vJ(){if(q8)return gB;q8=1;var t=gJ(),e=GD(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var A=this.queries,c=l&&this.browserIsIncapable;return A[o]||(A[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(u){r(u)&&(u={match:u}),A[o].addHandler(u)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},gB=s,gB}var vB,Z8;function yJ(){if(Z8)return vB;Z8=1;var t=vJ();return vB=new t,vB}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(F),n=sw,r=o(pJ),i=o(A5),s=$e;function o(P){return P&&P.__esModule?P:{default:P}}function a(P){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},a(P)}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var E=1;E<arguments.length;E++){var U=arguments[E];for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&(P[j]=U[j])}return P},l.apply(this,arguments)}function A(P,E){var U=Object.keys(P);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(P);E&&(j=j.filter(function(Q){return Object.getOwnPropertyDescriptor(P,Q).enumerable})),U.push.apply(U,j)}return U}function c(P){for(var E=1;E<arguments.length;E++){var U=arguments[E]!=null?arguments[E]:{};E%2?A(Object(U),!0).forEach(function(j){M(P,j,U[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(U)):A(Object(U)).forEach(function(j){Object.defineProperty(P,j,Object.getOwnPropertyDescriptor(U,j))})}return P}function u(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")}function d(P,E){for(var U=0;U<E.length;U++){var j=E[U];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,b(j.key),j)}}function m(P,E,U){return E&&d(P.prototype,E),Object.defineProperty(P,"prototype",{writable:!1}),P}function g(P,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(E&&E.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),E&&x(P,E)}function x(P,E){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,Q){return j.__proto__=Q,j},x(P,E)}function y(P){var E=C();return function(){var j=S(P),Q;if(E){var G=S(this).constructor;Q=Reflect.construct(j,arguments,G)}else Q=j.apply(this,arguments);return v(this,Q)}}function v(P,E){if(E&&(a(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(P)}function w(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function C(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!P})()}function S(P){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},S(P)}function M(P,E,U){return E=b(E),E in P?Object.defineProperty(P,E,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[E]=U,P}function b(P){var E=T(P,"string");return a(E)=="symbol"?E:String(E)}function T(P,E){if(a(P)!="object"||!P)return P;var U=P[Symbol.toPrimitive];if(U!==void 0){var j=U.call(P,E||"default");if(a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(P)}var L=(0,s.canUseDOM)()&&yJ();t.default=function(P){g(U,P);var E=y(U);function U(j){var Q;return u(this,U),Q=E.call(this,j),M(w(Q),"innerSliderRefHandler",function(G){return Q.innerSlider=G}),M(w(Q),"slickPrev",function(){return Q.innerSlider.slickPrev()}),M(w(Q),"slickNext",function(){return Q.innerSlider.slickNext()}),M(w(Q),"slickGoTo",function(G){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Q.innerSlider.slickGoTo(G,J)}),M(w(Q),"slickPause",function(){return Q.innerSlider.pause("paused")}),M(w(Q),"slickPlay",function(){return Q.innerSlider.autoPlay("play")}),Q.state={breakpoint:null},Q._responsiveMediaHandlers=[],Q}return m(U,[{key:"media",value:function(Q,G){L.register(Q,G),this._responsiveMediaHandlers.push({query:Q,handler:G})}},{key:"componentDidMount",value:function(){var Q=this;if(this.props.responsive){var G=this.props.responsive.map(function(k){return k.breakpoint});G.sort(function(k,V){return k-V}),G.forEach(function(k,V){var N;V===0?N=(0,r.default)({minWidth:0,maxWidth:k}):N=(0,r.default)({minWidth:G[V-1]+1,maxWidth:k}),(0,s.canUseDOM)()&&Q.media(N,function(){Q.setState({breakpoint:k})})});var J=(0,r.default)({minWidth:G.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(J,function(){Q.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(Q){L.unregister(Q.query,Q.handler)})}},{key:"render",value:function(){var Q=this,G,J;this.state.breakpoint?(J=this.props.responsive.filter(function(pe){return pe.breakpoint===Q.state.breakpoint}),G=J[0].settings==="unslick"?"unslick":c(c(c({},i.default),this.props),J[0].settings)):G=c(c({},i.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var k=e.default.Children.toArray(this.props.children);k=k.filter(function(pe){return typeof pe=="string"?!!pe.trim():!!pe}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var V=[],N=null,W=0;W<k.length;W+=G.rows*G.slidesPerRow){for(var Y=[],re=W;re<W+G.rows*G.slidesPerRow;re+=G.slidesPerRow){for(var Se=[],Fe=re;Fe<re+G.slidesPerRow&&(G.variableWidth&&k[Fe].props.style&&(N=k[Fe].props.style.width),!(Fe>=k.length));Fe+=1)Se.push(e.default.cloneElement(k[Fe],{key:100*W+10*re+Fe,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));Y.push(e.default.createElement("div",{key:10*W+re},Se))}G.variableWidth?V.push(e.default.createElement("div",{key:W,style:{width:N}},Y)):V.push(e.default.createElement("div",{key:W},Y))}if(G==="unslick"){var ce="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ce},k)}else V.length<=G.slidesToShow&&!G.infinite&&(G.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(G)),V)}}]),U}(e.default.Component)})(fD);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(fD);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(dD);const xJ=vu(dD),wJ=({popularBooks:t})=>{const e={dots:!0,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:3,focusOnSelect:!1,dotsClass:"slick-dots pointer-events-none"},n=Bt();return p.jsx(xJ,{...e,children:t.map((r,i)=>p.jsx("div",{className:"flex flex-row gap-3",children:p.jsx(Ep,{img:r.imgPath,title:r.title,writer:r.writer,handleClick:()=>n(`/info/book/${r.bookInfoId}`)})},i))})},u5="data:image/svg+xml,%3csvg%20width='76'%20height='108'%20viewBox='0%200%2076%20108'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='76'%20height='108'%20rx='4'%20fill='url(%23pattern0_433_4673)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_433_4673'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_433_4673'%20transform='matrix(0.00555099%200%200%200.00390625%20-0.210526%200)'/%3e%3c/pattern%3e%3cimage%20id='image0_433_4673'%20width='256'%20height='256'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAACixJREFUeF7t3TFSJEAMQ9HhBNz/jESkJLuH+EGXym9zirKxvmUx9H79/f39+4R/v7+/4as/n+/v7/T1vr/+lwG6Pn9fAABARUAAvA1gAOBAiv4/AAAAaYCuWzD1c2BFQBXAHAAHUOaPAxjPwAAAAAAgdKBu4NcOEAAAIIz/hwPgALZDkNcE9v1lAIXA1YFwABxAmT8OgAPgAIqCOAAOoMwPBzBOYAAAAAAIHagEJEACDOM3fwLJAGQAZf7nBXB9AQAAAABA6MC6AwUAAAjj73MAACCESwK6bkHV/zaD+fr5+UnvAfgBvv0B6r/+lw0EABxMmR8PuoyfkAAAAAAQOrDuwAAAAML4e9INAMYt0HqKuz6A+v/2o/QcAAfAAYQOrAMYAAAgjL8TAACcAElALPBbC3y9/xwAB5AAtr4BAcAHgQggdAAAtj+IxAFwAEH+MoB1AAIAAABA6AAACAHD+Phruus3+Ov6OQAOIAFsfQO+FuDr7w8AAAAAoQPrAAQAAAjjLwScB4D/Hnz71zivLaTvv/1BJk+CCTGTAwAAAEgDtG6hCGBbANfnjwPgABLAAXAbgAAAAAAQOrAOQAAAgDD+PsgEAH6NlgR0/QZV/9vfQnEAHEAC2PoGvA4gAAAAAAgdWAcgAABAGH8ZAADIAJKArltQ9csAkoDWCUwAbwVwvf9OACcAAIcOrC8gAACAMP4yAACQASQBXbeg6n97AnEAHEAC2PoGvA4gD4JwMAkA1wW0Xj8AAAAAhA4AAAsdxkeI5oR4++fEHAAHkAC2vgGvAwgAAAAAQgfWAQgAABDG36vAACADSAK6bkHVLwNIAlonMAG8FcD1/jsBnAAAHDqwvoAAAADC+MsAAEAGkAR03YKq/+0JxAFwAAlg6xvwOoAAAAAAIHRgHYAAAABh/GUAACADSAK6bkHVLwNIAlonMAG8FcD1/nsQhINJAL4uoPX6AQAAACB0AACEaGF8hGhOOG8CJgGtE5gA3grgev+dAE4AAA4dWF9AAAAAYfw9aQYAMoAkoOsWVP1vTyAOgANIAFvfgNcBBAAAAAChA+sABAAACOMvAwAAGUAS0HULqn4ZQBLQOoEJ4K0ArvffCeAEAODQgfUFBAAAEMZfBgAAMoAkoOsWVP1vTyAOgANIAFvfgNcB5EkwDiYB4LqA1usHAAAAgNABAGChw/gI0ZwQb59E4wA4gASw9Q14HUAAAAAAEDqwDkAAAIAw/p40AwAZQBLQdQuqfhlAEtA6gQngrQCu998J4AQA4NCB9QUEAAAQxl8GAAAygCSg6xZU/W9PIA6AA0gAW9+A1wEEAAAAAKED6wAEAAAI4y8DAAAZQBLQdQuqfhlAEtA6gQngrQCu99+DIBxMAvB1Aa3XDwAAAAChAwAgRAvjI0RzwnkTMAloncAE8FYA1/vvBHACAHDowPoCAgAACOPvSTMAkAEkAV23oOp/ewJxABxAAtj6BrwOIAAAAAAIHVgHIAAAQBh/GQAAyACSgK5bUPXLAJKA1glMAG8FcL3/TgAnAACHDqwvIAAAgDD+MgAAkAEkAV23oOp/ewJxABxAAtj6BrwOIE+CcTAJANcFtF4/AAAAAIQOAAALHcZHiOaEePskGgfAASSArW/A6wACAAAAgNCBdQACAACE8fekGQDIAJKArltQ9csAkoDWCUwAbwVwvf9OACcAAIcOrC8gAACAMP4yAACQASQBXbeg6n97AnEAHEAC2PoGvA4gAAAAAAgdWAcgAABAGH8ZAADIAJKArltQ9csAkoDWCUwAbwVwvf8eBOFgEoCvC2i9fgAAAAAIHQAAIVoYHyGaE86bgElA6wQmgLcCuN5/J4ATAIBDB9YXEAAAQBh/T5oBgAwgCei6BVX/2xOIA+AAEsDWN+B1AAEAAABA6MA6AAEAAML4ywAAQAaQBHTdgqpfBpAEtE5gAngrgOv9dwI4AQA4dGB9AQEAAITxlwEAgAwgCei6BVX/2xOIA+AAEsDWN+B1AHkSjINJALguoPX6AQAAACB0AABY6DA+QjQnxNsn0TgADiABbH0DXgcQAAAAAIQOrAMQAAAgjL8nzQBABpAEdN2Cql8GkAS0TmACeCuA6/13AjgBADh0YH0BAQAAhPGXAQCADCAJ6LoFVf/bE4gD4AASwNY34HUAAQAAAEDowDoAAQAAwvjLAABABpAEdN2Cql8GkAS0TmACeCuA6/33IAgHkwB8XUDr9QMAAABA6AAACNHC+AjRnHDeBEwCWicwAbwVwPX+OwGcAAAcOrC+gAAAAML4e9IMAGQASUDXLaj6355AHAAHkAC2vgGvAwgAAAAAQgfWAQgAABDGXwYAADKAJKDrFlT9MoAkoHUCE8BbAVzvvxPACQDAoQPrCwgAACCMvwwAAGQASUDXLaj6355AHAAHkAC2vgGvA8iTYBxMAsB1Aa3XDwAAAAChAwDAQofxEaI5Id4+icYBcAAJYOsb8DqAAAAAACB0YB2AAAAAYfw9aQYAMoAkoOsWVP0ygCSgdQITwFsBXO+/E8AJAMChA+sLCAAAIIy/DAAAZABJQNctqPrfnkAcAAeQALa+Aa8DCAAAAABCB9YBCAAAEMZfBgAAMoAkoOsWVP0ygCSgdQITwFsBXO+/B0E4mATg6wJarx8AAAAAQgcAQIgWxkeI5oTzJmAS0DqBCeCtAK733wngBADg0IH1BQQAABDG35NmACADSAK6bkHV//YE4gA4gASw9Q14HUAAAAAAEDqwDkAAAIAw/jIAAJABJAFdt6DqlwEkAa0TmADeCuB6/50ATgAADh1YX0AAAABh/GUAACADSAK6bkHV//YE4gA4gASw9Q14HUCeBONgEgCuC2i9fgAAAAAIHQAAFjqMjxDNCfH2STQOgANIAFvfgNcBBAAAAAChA+sABAAACOPvSTMAkAEkAV23oOqXASQBrROYAN4K4Hr/nQBOAAAOHVhfQAAAAGH8ZQAAIANIArpuQdX/9gTiADiABLD1DXgdQAAAAAAQOrAOQAAAgDD+MgAAkAEkAV23oOqXASQBrROYAN4K4Hr/PQjCwSQAXxfQev0AAAAAEDoAAEK0MD5CNCecNwGTgNYJTABvBXC9/04AJwAAhw6sLyAAAIAw/p40AwAZQBLQdQuq/rcnEAfAASSArW/A6wACAAAAgNCBdQACAACE8ZcBAIAMIAnougVVvwwgCWidwATwVgDX++8EcAIAcOjA+gICAAAI4y8DAAAZQBLQdQuq/rcnEAfAASSArW/A6wDyJBgHkwBwXUDr9QMAAABA6AAAsNBhfIRoToi3T6JxABxAAtj6BrwOIAAAAAAIHVgHIAAAQBh/T5oBgAwgCei6BVW/DCAJaJ3ABPBWANf77wRwAgBw6MD6AgIAAAjjLwMAABlAEtB1C6r+tycQB8ABJICtb8DrAAIAAACA0IF1AAIAAITxlwEAgAwgCei6BVW/DCAJaJ3ABPBWANf7/x/aVlkHhH7qqQAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",KD="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%204H22'%20stroke='%238A8A8A'%20stroke-linecap='round'/%3e%3cpath%20d='M2%2012H22'%20stroke='%238A8A8A'%20stroke-linecap='round'/%3e%3cpath%20d='M2%2020H22'%20stroke='%238A8A8A'%20stroke-linecap='round'/%3e%3c/svg%3e",d5="data:image/svg+xml,%3csvg%20width='17'%20height='18'%20viewBox='0%200%2017%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.39651%204.37984L6.75108%204.57668C8.04668%205.29591%209.67918%204.7078%2010.2184%203.32755C10.4381%202.76523%2011.2531%202.82718%2011.3853%203.41625L13.2068%2011.5346C13.4999%2012.8408%2012.9101%2014.1858%2011.7508%2014.8551C10.5916%2015.5243%209.13189%2015.3626%208.14729%2014.4558L2.02731%208.81908C1.58325%208.41009%201.9371%207.6733%202.53393%207.7642C3.99889%207.98732%205.32446%206.86759%205.34938%205.38595L5.3562%204.98046C5.3651%204.45176%205.93419%204.12319%206.39651%204.37984Z'%20fill='%23EEEEEE'%20stroke='%23EEEEEE'/%3e%3c/svg%3e",f5="data:image/svg+xml,%3csvg%20width='17'%20height='18'%20viewBox='0%200%2017%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.39651%204.42159L6.75108%204.61843C8.04668%205.33766%209.67918%204.74955%2010.2184%203.3693C10.4381%202.80697%2011.2531%202.86893%2011.3853%203.458L13.2068%2011.5764C13.4999%2012.8825%2012.9101%2014.2275%2011.7508%2014.8968C10.5916%2015.5661%209.13189%2015.4044%208.14729%2014.4975L2.02731%208.86083C1.58325%208.45183%201.9371%207.71505%202.53393%207.80595C3.99889%208.02906%205.32446%206.90934%205.34938%205.42769L5.3562%205.02221C5.3651%204.49351%205.93419%204.16494%206.39651%204.42159Z'%20fill='%23FF9F1C'%20stroke='%23FF9F1C'/%3e%3c/svg%3e",Aw="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.6667%206.22225L7.99999%208.88892L5.33333%206.22225'%20stroke='%238A8A8A'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",MA=({register:t=!1,bookTitle:e="책제목",author:n="지은이",edit:r=!0,handleOnClick:i,bookImg:s,handleStatusClick:o,status:a="NOT_STARTED",bottomSheet:l=!1,rating:A=0,isSearch:c=!1})=>{const u=d=>{switch(d){case"NOT_STARTED":return"읽고 싶어요";case"READING":return"읽고 있어요";case"STOPPED":return"중단했어요";case"FINISHED":return"다 읽었어요";case"ADD_TO_LIBRARY":return"서재 담기";default:return"읽고 싶어요"}};return p.jsxs("div",{onClick:i,className:"flex items-center justify-between w-full h-[7.75rem] pb-[0.5rem] pt-[0.5rem] cursor-pointer",children:[p.jsxs("div",{className:"flex gap-3 items-center  h-[6.75rem] ",children:[p.jsx("img",{className:"w-[4.75rem] h-[6.75rem]",src:s||u5,alt:"coverEx"}),p.jsxs("div",{className:"flex flex-col gap-1 w-[11rem]",children:[t&&p.jsx("div",{className:" text-c1 text-orange-400",children:"직접 등록한 책"}),p.jsx("div",{className:"text-b1 text-gray-800 line-clamp-2 break-words",children:e}),p.jsx("div",{className:" text-b1 text-gray-500 truncate",children:n}),!c&&p.jsx("div",{className:"flex mt-[0.5rem]",children:[...Array(5)].map((d,m)=>p.jsx("div",{children:p.jsx("img",{src:m<A?f5:d5,alt:"rating",className:""},m)},m))})]})]}),r?l?p.jsxs("button",{onClick:d=>{d.stopPropagation(),o()},className:"flex flex-row ml-3",children:[p.jsx("div",{className:"text-btn4 text-gray-500",children:u(a)}),p.jsx("img",{src:Aw})]}):p.jsx("div",{className:"w-[1.5rem] h-[1.5rem] cursor-pointer",children:p.jsx("img",{src:KD,alt:"menuBar"})}):p.jsx(p.Fragment,{})]})},Ui=({bottomSheetShow:t,setBottomSheetShow:e,height:n,visible:r,setVisible:i,children:s,custom:o=!1})=>{F.useEffect(()=>{t&&i(!0)},[t]);const a=()=>{i(!1),setTimeout(()=>{e(!1)},300)};if(!t&&!r)return null;const l=p.jsxs("div",{className:"flex justify-center",children:[!o&&p.jsx("div",{onClick:a,className:`${r?"bg-black bg-opacity-50":"bg-transparent"} w-full h-screen  fixed top-0 transition-colors duration-300`}),p.jsx("section",{onClick:A=>A.stopPropagation(),className:`bg-white ${r?"animate-slideUp":"animate-slideDown"} bg-opacity-100 fixed bottom-0 w-full  rounded-t-xl pt-4 pb-4 transition-transform shadow-custom duration-300`,style:{height:n?`${n}`:"auto",overflowY:"auto"},children:s})]});return wu.createPortal(l,document.getElementById("modal"))},QE=()=>p.jsx("div",{className:"w-[393px] h-[8px] bg-gray-10"}),vs=()=>p.jsx("div",{className:" h-[1px] bg-gray-100"}),CJ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%3e%3cpath%20d='M7.50045%2013.4749L4.60878%2010.5833C4.45297%2010.4275%204.24164%2010.3399%204.02128%2010.3399C3.80092%2010.3399%203.58959%2010.4275%203.43378%2010.5833C3.27797%2010.7391%203.19043%2010.9504%203.19043%2011.1708C3.19043%2011.2799%203.21192%2011.3879%203.25367%2011.4887C3.29543%2011.5895%203.35663%2011.6811%203.43378%2011.7583L6.91711%2015.2416C7.24211%2015.5666%207.76711%2015.5666%208.09211%2015.2416L16.9088%206.42494C17.0646%206.26913%2017.1521%206.0578%2017.1521%205.83744C17.1521%205.61709%2017.0646%205.40576%2016.9088%205.24994C16.753%205.09413%2016.5416%205.00659%2016.3213%205.00659C16.1009%205.00659%2015.8896%205.09413%2015.7338%205.24994L7.50045%2013.4749Z'%20fill='%23FF9F1C'/%3e%3c/svg%3e",BJ="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='trash'%3e%3cpath%20id='Icon'%20d='M4%206.82353H19M8.6875%204H14.3125M9.625%2016.2353V10.5882M13.375%2016.2353V10.5882M14.7812%2020H8.21875C7.18322%2020%206.34375%2019.1572%206.34375%2018.1176L5.91569%207.80389C5.8935%207.26918%206.3193%206.82353%206.85238%206.82353H16.1476C16.6807%206.82353%2017.1065%207.26918%2017.0843%207.80389L16.6562%2018.1176C16.6562%2019.1572%2015.8168%2020%2014.7812%2020Z'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",cw=({title:t,options:e,currentOption:n,handleOption:r,isCancel:i=!1,cancelText:s="서재담기 취소",handlePutCancel:o})=>p.jsxs("div",{className:"flex flex-col gap-3 mb-[1.75rem]",children:[t&&p.jsx("div",{className:"text-st text-gray-800 font-semibold",children:t}),e.map((a,l)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-row justify-between items-center w-[22.5625rem]  py-3 px-1 cursor-pointer",onClick:()=>r(a),children:[p.jsx("div",{className:`text-b2 text-gray-500 ${n===a&&"text-special"}`,children:a}),n===a&&p.jsx("img",{src:CJ,alt:"check-icon"})]}),l<e.length-1&&p.jsx(vs,{})]},l)),i&&p.jsxs("div",{onClick:o,className:"flex items-center gap-1 w-[22.2625rem] h-[3rem] px-3 py-3 bg-gray-10 rounded-2 mt-4 cursor-pointer",children:[p.jsx("img",{src:BJ,className:"w-6 h-6"}),p.jsx("span",{className:"text-btn3 text-gray-500",children:s})]})]}),SJ="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M32%205.3335V16.0002'%20stroke='%23D9DBE1'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M32%2048V58.6667'%20stroke='%23D9D9D9'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.1465%2013.1465L20.6932%2020.6932'%20stroke='%23D9DBE1'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M43.3066%2043.3066L50.8533%2050.8533'%20stroke='%23D9DBE1'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33301%2032H15.9997'%20stroke='%23666666'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M48%2032H58.6667'%20stroke='%23D9DBE1'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.1465%2050.8533L20.6932%2043.3066'%20stroke='%23A6A6A6'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M43.3066%2020.6932L50.8533%2013.1465'%20stroke='%23D9DBE1'%20stroke-width='6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",S2=()=>p.jsx("div",{className:"flex flex-col items-center justify-center fixed inset-0",children:p.jsx("img",{src:SJ,alt:"spinner",className:"animate-spin w-28"})}),_J=["읽고 싶어요","읽고 있어요","다 읽었어요","중단했어요"],EJ=10,J8=t=>{switch(t){case"읽고 싶어요":return"NOT_STARTED";case"읽고 있어요":return"READING";case"다 읽었어요":return"FINISHED";case"중단했어요":return"STOPPED";default:return null}},bJ=t=>{switch(t){case"NOT_STARTED":return"읽고 싶어요";case"READING":return"읽고 있어요";case"FINISHED":return"다 읽었어요";case"STOPPED":return"중단했어요";default:return null}},WD=({search:t,selectBook:e=!1,onClick:n})=>{const r=Bt(),[i,s]=F.useState(!1),[o,a]=F.useState(!1),[l,A]=F.useState(!1),[c,u]=F.useState(null),[d,m]=F.useState([]),[g,x]=F.useState([]),[y,v]=F.useState(null),[w,C]=F.useState(0),[S,M]=F.useState(1),b=F.useRef(null),T=async k=>{if(k)try{A(!0);const V=await Ut(`/bookinfo/search/custom?keyword=${encodeURIComponent(k)}`);m(V.bookList||[])}catch(V){console.error("등록 책 읽어오기 오류:",V)}finally{A(!1)}},L=async(k,V=0)=>{if(!k)return x([]);try{A(!0);const N=await Ut(`/bookinfo/search?keyword=${encodeURIComponent(k)}&page=${V}&size=${EJ}`);x(W=>V===0?N.bookList:[...W,...N.bookList]),M(N.totalPages||1)}catch(N){console.error("책 데이터 불러오기 오류:",N)}finally{A(!1)}},P=async k=>{try{const V=J8(k);await eo(`/books/${c.userbookId}?status=${V}`),console.log(`책 상태 업데이트 성공: ${V}`),u(null),T(t),L(t,0),a(!1),setTimeout(()=>{s(!1)},200)}catch(V){console.error("책 상태 변경 업데이트 오류:",V)}},E=async k=>{const V=J8(k);try{const N={title:c.title,author:c.author,imgPath:c.imgPath,readStatus:V};await Fi(`/bookinfo/${c.providerId}/add`,N),console.log(`서재에 도서 추가 완료: ${c.providerId}`),a(!1),setTimeout(()=>{s(!1)},200),u(null),L(t,0)}catch(N){console.error("책 등록 업데이트 오류:",N)}},U=async k=>{try{await io(`/books/${k}`),u(null),T(t),L(t,0)}catch(V){console.error(V)}},j=(k,V)=>{console.log(k,V),r(k===null?`/info/book/external/${V}`:`/info/book/${k}`)},Q=k=>{r(`/info/book/custom/${k}`)},G=k=>{c&&(c.providerId&&c.readStatus===null?E(k):P(k),v(k))},J=(k,V)=>{var Y;console.log("북덕",k);const N=!V&&((Y=k.bookUnitDto)==null?void 0:Y.userbookId);u({bookInfoId:V?k.bookInfoId:N?k.bookUnitDto.bookInfoId:null,userbookId:V?k.userbookId:N?k.bookUnitDto.userbookId:null,providerId:V?null:k.providerId,title:V?k.title:k.bookUnitDto.title,author:V?k.author:k.bookUnitDto.author,imgPath:V?k.imgPath:k.bookUnitDto.imgPath,readStatus:V?k.readStatus:k.bookUnitDto.readStatus});const W=V?k.readStatus:k.bookUnitDto.readStatus;v(bJ(W)),s(!0)};return F.useEffect(()=>{t&&(async()=>{console.log("검색어 변경:",t),x([]),C(0),M(1);try{await T(t),await L(t,0)}catch(V){console.error("검색어 변경 처리 중 오류:",V)}})()},[t]),F.useEffect(()=>{const k=N=>{const[W]=N;W.isIntersecting&&w<S-1&&!l&&(console.log("다음 페이지 로드!"),C(Y=>Y+1))},V=new IntersectionObserver(k,{root:null,rootMargin:"0px",threshold:1});return b.current&&V.observe(b.current),()=>V.disconnect()},[w,S]),F.useEffect(()=>{t&&w>=0&&(console.log(`페이지 ${w} 데이터 로드`),L(t,w))},[w,t]),p.jsxs(p.Fragment,{children:[l?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx(S2,{})}):d.length>0||g.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{children:d.map((k,V)=>p.jsx(MA,{bookTitle:k.title,author:k.author,bookImg:k.imgPath,status:k.readStatus,rating:k.myRating,register:!0,edit:!0,bottomSheet:!0,handleStatusClick:()=>J(k,!0),handleOnClick:()=>{e?n(k):Q(k.bookUnitDto.bookInfoId)},isSearch:!0},V))}),d.length>0&&g.length>0&&p.jsx(QE,{}),p.jsxs("div",{children:[g.map((k,V)=>p.jsx(MA,{bookTitle:k.bookUnitDto.title,author:k.bookUnitDto.author,bookImg:k.bookUnitDto.imgPath,rating:k.bookUnitDto.myRating,status:k.bookUnitDto.readStatus||"ADD_TO_LIBRARY",edit:!0,bottomSheet:!0,handleStatusClick:()=>J(k,!1),isSearch:!0,handleOnClick:()=>{e?n(k):j(k.bookUnitDto.bookInfoId,k.providerId)}},V)),p.jsx("div",{ref:b,style:{height:"1px"}})]})]}):p.jsxs("div",{className:"flex flex-col gap-2 items-center mt-[8.06rem]",children:[p.jsx("span",{className:"text-st text-gray-800 font-semibold",children:t?p.jsxs("span",{children:["'",t,"'"]}):""}),p.jsx("span",{className:"text-b1 text-gray-800",children:"일치하는 검색 결과가 없어요."}),p.jsx("span",{className:"text-b1 text-gray-500 mb-3",children:"책을 직접 등록해보세요!"}),p.jsx(mr,{text:"책 등록하기",type:"secondary",color:"orange",size:"small",onClick:()=>r("/search/register")})]}),p.jsx(Ui,{bottomSheetShow:i,setBottomSheetShow:s,visible:o,setVisible:a,children:p.jsx("div",{className:"p-4",children:p.jsx(cw,{title:"책 상태",options:_J,currentOption:y,handleOption:G,handlePutCancel:U})})})]})},MJ=({createdTime:t,title:e,content:n,bookTitle:r,bookAuthor:i})=>{const s=o=>{const a=new Date(o),l=a.getFullYear(),A=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`${l}.${A}.${c}`};return p.jsxs("div",{className:"flex flex-col py-5 gap-2 border-b-[0.0625rem] border-b-gray-100 ",children:[p.jsx("div",{className:"text-c1 text-gray-400",children:p.jsx("span",{children:s(t)})}),p.jsx("div",{className:"text-st text-gray-800 font-semibold",children:e}),p.jsx("div",{className:"text-b2 text-gray-800",style:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"break-word"},children:n}),p.jsxs("div",{className:"text-c1 text-gray-500",children:[r,"/",i]})]})},TJ=({createdTime:t,visibility:e,content:n,bookTitle:r,bookAuthor:i})=>{const s=o=>{const a=new Date(o),l=a.getFullYear(),A=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`${l}.${A}.${c}`};return p.jsxs("div",{className:"flex flex-col py-5 gap-2 border-b-[0.0625rem] border-b-gray-100 ",children:[p.jsxs("div",{className:"text-c1 text-gray-400",children:[p.jsx("span",{children:s(t)}),e==="PRIVATE"&&p.jsx("span",{children:" / 나만보기"})]}),p.jsx("div",{className:"text-b2 text-gray-800",style:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"break-word"},children:n}),p.jsxs("div",{className:"text-c1 text-gray-500",children:[r,"/",i]})]})},IJ=["정확도순","최신순"],FJ=10,UJ=t=>{switch(t){case"정확도순":return"accuracy";case"최신순":return"latest";default:return"Error"}},LJ=({search:t})=>{const[e,n]=F.useState(0),[r,i]=F.useState(1),[s,o]=F.useState([]),[a,l]=F.useState("정확도순"),[A,c]=F.useState(!1),[u,d]=F.useState(!1),[m,g]=F.useState(!1),x=F.useRef(null),y=async(C,S)=>{if(!C)return o([]);try{g(!0);const M=await Ut(`/archives/search?page=${S}&size=${FJ}&keyword=${encodeURIComponent(C)}&orderBy=${UJ(a)}`);console.log("response",M),o(b=>S===0?M.archiveList:[...b,...M.archiveList]),i(M.totalPages||1)}catch(M){console.error("기록 읽어오기 오류",M)}finally{g(!1)}};F.useEffect(()=>{o([]),console.log("기록 검색어 변경",t),y(t,0),n(0)},[t]),F.useEffect(()=>{n(0),y(t,0)},[a]),F.useEffect(()=>{t&&e>=0&&(console.log(`페이지 ${e} 데이터 로드`),y(t,e))},[e]),F.useEffect(()=>{const C=M=>{const[b]=M;b.isIntersecting&&e<r-1&&!m&&(console.log("다음 페이지 로드!"),n(T=>T+1))},S=new IntersectionObserver(C,{root:null,rootMargin:"0px",threshold:1});return x.current&&S.observe(x.current),()=>S.disconnect()},[e,r,m]);const v=()=>{c(!0)},w=C=>{l(C),d(!1),setTimeout(()=>{c(!1)},200)};return p.jsxs(p.Fragment,{children:[m?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx(S2,{})}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between px-4 pt-3",children:[p.jsxs("div",{className:"text-b2",children:[s.length,p.jsx("span",{className:" text-gray-500",children:"개"})]}),p.jsx("button",{className:"flex flex-row text-b2 text-gray-500",onClick:v,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{children:a}),p.jsx("img",{src:Aw,alt:"downArrow"})]})})]}),p.jsxs("div",{className:"px-4",children:[s.length>0?s.map((C,S)=>C.type==="REVIEW"?p.jsx(MJ,{createdTime:C.data.createdTime,title:C.data.reviewTitle,content:C.data.reviewContent,bookTitle:C.title,bookAuthor:C.author},S):p.jsx(TJ,{createdTime:C.data.createdTime,visibility:C.data.visibility,content:C.data.excerptContent,bookTitle:C.title,bookAuthor:C.author},S)):p.jsxs("div",{className:"flex flex-col items-center mt-[8.06rem]",children:[p.jsx("span",{className:"text-st text-gray-800 font-semibold",children:t?p.jsxs("span",{children:["'",t,"'"]}):""}),p.jsx("span",{className:"text-b1 text-gray-800",children:"일치하는 검색 결과가 없어요."})]}),p.jsx("div",{ref:x,style:{height:"1px"}})]})]}),p.jsx(Ui,{bottomSheetShow:A,setBottomSheetShow:c,visible:u,setVisible:d,children:p.jsx("div",{className:"p-4",children:p.jsx(cw,{options:IJ,currentOption:a,handleOption:w})})})]})},RJ="modulepreload",PJ=function(t){return"/"+t},eF={},NJ=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=PJ(l),l in eF)return;eF[l]=!0;const A=l.endsWith(".css"),c=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const u=document.createElement("link");if(u.rel=A?"stylesheet":RJ,A||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),A)return new Promise((d,m)=>{u.addEventListener("load",d),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},DJ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%2022C20.8169%2022%2023%2018.1385%2023%2013.375C23%208.61154%2021.1961%201%2011.9999%201C2.80376%201%201%208.61154%201%2013.375C1%2018.1385%203.18307%2022%2012%2022ZM13.2042%2015.3744C12.4188%2015.1307%2011.5774%2015.1351%2010.7945%2015.3868L8.74956%2016.0443C7.9895%2016.2887%208.16545%2017.4107%208.96383%2017.4107H15.1492C15.9517%2017.4107%2016.1231%2016.28%2015.3566%2016.0422L13.2042%2015.3744ZM9%2013C9%2013.5523%208.55228%2014%208%2014C7.44772%2014%207%2013.5523%207%2013C7%2012.4477%207.44772%2012%208%2012C8.55228%2012%209%2012.4477%209%2013ZM16%2014C16.5523%2014%2017%2013.5523%2017%2013C17%2012.4477%2016.5523%2012%2016%2012C15.4477%2012%2015%2012.4477%2015%2013C15%2013.5523%2015.4477%2014%2016%2014Z'%20fill='%23323232'/%3e%3c/svg%3e",OJ="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.98204%201.16365C7.38732%200.302219%208.6127%200.302219%209.01798%201.16365L9.37125%201.91455C9.63448%202.47405%2010.2999%202.71624%2010.8612%202.45684L11.6145%202.1087C12.4787%201.70931%2013.4174%202.49697%2013.1741%203.41738L12.9621%204.21968C12.8041%204.81748%2013.1581%205.43074%2013.7548%205.59281L14.5557%205.81033C15.4744%206.05986%2015.6872%207.26662%2014.9092%207.81533L14.2311%208.29363C13.7258%208.65001%2013.6028%209.34738%2013.9557%209.85509L14.4294%2010.5365C14.9728%2011.3182%2014.3601%2012.3794%2013.4114%2012.2997L12.5845%2012.2302C11.9683%2012.1784%2011.4259%2012.6335%2011.3699%2013.2493L11.2947%2014.0758C11.2085%2015.0239%2010.057%2015.443%209.38158%2014.7721L8.79279%2014.1873C8.35408%2013.7516%207.64595%2013.7516%207.20724%2014.1873L6.61844%2014.7721C5.94298%2015.443%204.7915%2015.0239%204.70529%2014.0758L4.63014%2013.2493C4.57415%2012.6335%204.03169%2012.1784%203.41554%2012.2302L2.5886%2012.2997C1.63994%2012.3794%201.02725%2011.3182%201.57063%2010.5365L2.0443%209.85509C2.39722%209.34738%202.27425%208.65001%201.76897%208.29363L1.09082%207.81533C0.31285%207.26662%200.525634%206.05986%201.44436%205.81033L2.2452%205.59281C2.8419%205.43074%203.19596%204.81748%203.03797%204.21968L2.82593%203.41738C2.58267%202.49697%203.52136%201.70931%204.38554%202.1087L5.13884%202.45684C5.70012%202.71624%206.36554%202.47405%206.62877%201.91455L6.98204%201.16365Z'%20fill='%23FF9F1C'/%3e%3cpath%20d='M7.26834%2010.7692C7.13065%2010.7693%206.99854%2010.7052%206.90106%2010.5909L4.69735%208.00029C4.6477%207.94401%204.60808%207.87667%204.58081%207.80221C4.55354%207.72774%204.53916%207.64763%204.53852%207.56657C4.53787%207.4855%204.55097%207.40509%204.57704%207.33003C4.60312%207.25498%204.64165%207.18678%204.69039%207.12941C4.73913%207.07204%204.79711%207.02666%204.86093%206.99591C4.92476%206.96516%204.99316%206.94965%205.06213%206.9503C5.13111%206.95094%205.19929%206.96773%205.26269%206.99967C5.32609%207.03162%205.38344%207.07808%205.4314%207.13636L7.26782%209.29467L10.5744%205.40971C10.6718%205.29514%2010.804%205.23075%2010.9418%205.23069C11.0796%205.23064%2011.2118%205.29492%2011.3093%205.4094C11.4067%205.52389%2011.4615%205.67919%2011.4616%205.84116C11.4616%206.00312%2011.4069%206.15847%2011.3095%206.27303L7.63563%2010.5909C7.53814%2010.7052%207.40604%2010.7693%207.26834%2010.7692Z'%20fill='white'/%3e%3c/svg%3e";F.lazy(()=>NJ(()=>Promise.resolve().then(()=>nce),void 0));const dy=({image:t,userName:e,userId:n,text:r,isOfficial:i,handleClick:s,handleDelete:o,handleCancel:a,handleDecline:l,handleAccept:A})=>{const c=()=>{switch(r){case"삭제":return p.jsx("button",{onClick:o,className:"text-btn3 text-[#FFBF68] px-3 py-1",children:"삭제"});case"취소":return p.jsx("button",{onClick:a,className:"text-btn3 text-gray-400 px-3 py-1",children:"취소"});case"친구":return p.jsx("span",{className:"text-blue-400 text-b2",children:"친구"});case"none":default:return null}},u=()=>p.jsxs("div",{className:"flex gap-[0.62rem]",children:[p.jsx(mr,{type:"secondary",text:"거절",color:"gray",size:"small",onClick:l}),p.jsx(mr,{type:"secondary",text:"수락",color:"orange",size:"small",onClick:A})]});return p.jsxs("div",{className:"flex justify-between items-center px-4 py-[0.5rem] cursor-pointer",onClick:s,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-[3.5rem] h-[3.5rem] mr-3",children:p.jsx("img",{src:DJ,className:"object-cover w-full h-full"})}),p.jsx("span",{className:"ml-2 text-gray-800",children:e}),i&&p.jsx("img",{src:OJ,className:"ml-1 w-5 h-5",alt:"Official Badge"})]}),p.jsx("div",{children:r?c():u()})]})},kJ=({search:t})=>{const e=Bt(),n=F.useRef(null),r=10,i=async({pageParam:u=0})=>{const d=await Ut(`/users/search?keyword=${t}&page=${u}&size=${r}`);console.log("API Response:",d,"페이지",u);const m=d.pageContent.map(g=>({userId:g.userId,nickname:g.nickname,isFriend:g.isFriend,isOfficial:g.isOfficial}));return console.log("Processed Data:",m),{users:m,nextPage:d.currentPage+1,totalPages:d.totalPages}},{data:s,isLoading:o,fetchNextPage:a,hasNextPage:l,refetch:A}=uD({queryKey:["users",t],queryFn:i,getNextPageParam:u=>u.nextPage<u.totalPages?u.nextPage:void 0,initialPageParam:0});if(console.log("Rendered data:",s),F.useEffect(()=>{const u=m=>{const[g]=m;g.isIntersecting&&l&&a()},d=new IntersectionObserver(u,{root:null,rootMargin:"0px",threshold:1});return n.current&&d.observe(n.current),()=>d.disconnect()},[a,l]),o)return p.jsx("div",{children:"로딩 중..."});const c=s==null?void 0:s.pages.flatMap(u=>u.users);return p.jsxs("div",{children:[c&&c.length>0?c.map(u=>p.jsx(dy,{userId:u.userId,isOfficial:u.isOfficial,userName:u.nickname,text:u.isFriend?"친구":"none",handleClick:()=>e(`/user/${u.userId}`)},u.userId)):p.jsxs("div",{className:"flex flex-col items-center mt-[8.06rem]",children:[p.jsxs("span",{className:"text-st text-gray-800 font-semibold",children:["'",t,"'"]}),p.jsx("span",{className:"text-b1 text-gray-800",children:"일치하는 검색 결과가 없어요."})]}),p.jsx("div",{ref:n,style:{height:"1px"}})]})},QJ="data:image/svg+xml,%3csvg%20width='48'%20height='40'%20viewBox='0%200%2048%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.3867%2030.4375V32.9297H19.8369V29.5244H20.6426V38.3867H19.8369V33.6279H18.3867V36.3027H14.7344V30.4375H18.3867ZM15.5293%2031.1143V35.626H17.5918V31.1143H15.5293ZM22.5654%2029.3203V38.8701H21.749V29.3203H22.5654ZM31.7715%2029.3311V36.3135H30.9336V29.3311H31.7715ZM32.0723%2037.957V38.666H25.6055V35.6045H26.4434V37.957H32.0723ZM26.6152%2029.9971C28.0439%2029.9971%2029.1182%2030.9639%2029.1182%2032.3389C29.1182%2033.7354%2028.0439%2034.6914%2026.6152%2034.6914C25.1865%2034.6914%2024.1123%2033.7354%2024.1123%2032.3389C24.1123%2030.9639%2025.1865%2029.9971%2026.6152%2029.9971ZM26.6152%2030.7383C25.6484%2030.7383%2024.9287%2031.4043%2024.9395%2032.3389C24.9287%2033.2949%2025.6484%2033.9502%2026.6152%2033.9502C27.5605%2033.9502%2028.291%2033.2949%2028.291%2032.3389C28.291%2031.4043%2027.5605%2030.7383%2026.6152%2030.7383Z'%20fill='%23DDDDDD'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.7721%208.39943C15.2849%208.77834%2015%209.36096%2015%209.97814V20C15%2020.5304%2015.2107%2021.0391%2015.5858%2021.4142C15.9609%2021.7893%2016.4696%2022%2017%2022H21V17C21%2015.8954%2021.8954%2015%2023%2015H25C26.1046%2015%2027%2015.8954%2027%2017V22H31C31.5304%2022%2032.0391%2021.7893%2032.4142%2021.4142C32.7893%2021.0391%2033%2020.5304%2033%2020V9.97814C33%209.36096%2032.7151%208.77835%2032.2279%208.39943L25.2279%202.95499C24.5057%202.39326%2023.4943%202.39326%2022.7721%202.95499L15.7721%208.39943Z'%20fill='%23DDDDDD'/%3e%3cpath%20d='M15.7721%208.39943L15.1582%207.61008H15.1582L15.7721%208.39943ZM15.5858%2021.4142L14.8787%2022.1213L14.8787%2022.1213L15.5858%2021.4142ZM21%2022V23C21.5523%2023%2022%2022.5523%2022%2022H21ZM27%2022H26C26%2022.5523%2026.4477%2023%2027%2023V22ZM32.4142%2021.4142L33.1213%2022.1213L33.1213%2022.1213L32.4142%2021.4142ZM32.2279%208.39943L32.8418%207.61008V7.61008L32.2279%208.39943ZM25.2279%202.95499L25.8418%202.16564V2.16564L25.2279%202.95499ZM22.7721%202.95499L23.3861%203.74434L22.7721%202.95499ZM16%209.97814C16%209.66955%2016.1425%209.37824%2016.3861%209.18878L15.1582%207.61008C14.4274%208.17845%2014%209.05237%2014%209.97814H16ZM16%2020V9.97814H14V20H16ZM16.2929%2020.7071C16.1054%2020.5195%2016%2020.2652%2016%2020H14C14%2020.7956%2014.3161%2021.5587%2014.8787%2022.1213L16.2929%2020.7071ZM17%2021C16.7348%2021%2016.4804%2020.8946%2016.2929%2020.7071L14.8787%2022.1213C15.4413%2022.6839%2016.2043%2023%2017%2023V21ZM21%2021H17V23H21V21ZM22%2022V17H20V22H22ZM22%2017C22%2016.4477%2022.4477%2016%2023%2016V14C21.3431%2014%2020%2015.3431%2020%2017H22ZM23%2016H25V14H23V16ZM25%2016C25.5523%2016%2026%2016.4477%2026%2017H28C28%2015.3431%2026.6569%2014%2025%2014V16ZM26%2017V22H28V17H26ZM31%2021H27V23H31V21ZM31.7071%2020.7071C31.5196%2020.8946%2031.2652%2021%2031%2021V23C31.7957%2023%2032.5587%2022.6839%2033.1213%2022.1213L31.7071%2020.7071ZM32%2020C32%2020.2652%2031.8946%2020.5195%2031.7071%2020.7071L33.1213%2022.1213C33.6839%2021.5587%2034%2020.7956%2034%2020H32ZM32%209.97814V20H34V9.97814H32ZM31.6139%209.18879C31.8575%209.37824%2032%209.66955%2032%209.97814H34C34%209.05237%2033.5726%208.17845%2032.8418%207.61008L31.6139%209.18879ZM24.6139%203.74434L31.6139%209.18879L32.8418%207.61008L25.8418%202.16564L24.6139%203.74434ZM23.3861%203.74434C23.7472%203.46348%2024.2528%203.46348%2024.6139%203.74434L25.8418%202.16564C24.7585%201.32305%2023.2415%201.32304%2022.1582%202.16563L23.3861%203.74434ZM16.3861%209.18878L23.3861%203.74434L22.1582%202.16563L15.1582%207.61008L16.3861%209.18878Z'%20fill='%23DDDDDD'/%3e%3c/svg%3e",HJ="data:image/svg+xml,%3csvg%20width='48'%20height='40'%20viewBox='0%200%2048%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.3867%2030.4375V32.9297H19.8369V29.5244H20.6426V38.3867H19.8369V33.6279H18.3867V36.3027H14.7344V30.4375H18.3867ZM15.5293%2031.1143V35.626H17.5918V31.1143H15.5293ZM22.5654%2029.3203V38.8701H21.749V29.3203H22.5654ZM31.7715%2029.3311V36.3135H30.9336V29.3311H31.7715ZM32.0723%2037.957V38.666H25.6055V35.6045H26.4434V37.957H32.0723ZM26.6152%2029.9971C28.0439%2029.9971%2029.1182%2030.9639%2029.1182%2032.3389C29.1182%2033.7354%2028.0439%2034.6914%2026.6152%2034.6914C25.1865%2034.6914%2024.1123%2033.7354%2024.1123%2032.3389C24.1123%2030.9639%2025.1865%2029.9971%2026.6152%2029.9971ZM26.6152%2030.7383C25.6484%2030.7383%2024.9287%2031.4043%2024.9395%2032.3389C24.9287%2033.2949%2025.6484%2033.9502%2026.6152%2033.9502C27.5605%2033.9502%2028.291%2033.2949%2028.291%2032.3389C28.291%2031.4043%2027.5605%2030.7383%2026.6152%2030.7383Z'%20fill='%23323232'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.7721%208.39943C15.2849%208.77834%2015%209.36096%2015%209.97814V20C15%2020.5304%2015.2107%2021.0391%2015.5858%2021.4142C15.9609%2021.7893%2016.4696%2022%2017%2022H21V17C21%2015.8954%2021.8954%2015%2023%2015H25C26.1046%2015%2027%2015.8954%2027%2017V22H31C31.5304%2022%2032.0391%2021.7893%2032.4142%2021.4142C32.7893%2021.0391%2033%2020.5304%2033%2020V9.97814C33%209.36096%2032.7151%208.77835%2032.2279%208.39943L25.2279%202.95499C24.5057%202.39326%2023.4943%202.39326%2022.7721%202.95499L15.7721%208.39943Z'%20fill='%23323232'/%3e%3cpath%20d='M15.7721%208.39943L15.1582%207.61008H15.1582L15.7721%208.39943ZM15.5858%2021.4142L14.8787%2022.1213L14.8787%2022.1213L15.5858%2021.4142ZM21%2022V23C21.5523%2023%2022%2022.5523%2022%2022H21ZM27%2022H26C26%2022.5523%2026.4477%2023%2027%2023V22ZM32.4142%2021.4142L33.1213%2022.1213L33.1213%2022.1213L32.4142%2021.4142ZM32.2279%208.39943L32.8418%207.61008V7.61008L32.2279%208.39943ZM25.2279%202.95499L25.8418%202.16564V2.16564L25.2279%202.95499ZM22.7721%202.95499L23.3861%203.74434L22.7721%202.95499ZM16%209.97814C16%209.66955%2016.1425%209.37824%2016.3861%209.18878L15.1582%207.61008C14.4274%208.17845%2014%209.05237%2014%209.97814H16ZM16%2020V9.97814H14V20H16ZM16.2929%2020.7071C16.1054%2020.5195%2016%2020.2652%2016%2020H14C14%2020.7956%2014.3161%2021.5587%2014.8787%2022.1213L16.2929%2020.7071ZM17%2021C16.7348%2021%2016.4804%2020.8946%2016.2929%2020.7071L14.8787%2022.1213C15.4413%2022.6839%2016.2043%2023%2017%2023V21ZM21%2021H17V23H21V21ZM22%2022V17H20V22H22ZM22%2017C22%2016.4477%2022.4477%2016%2023%2016V14C21.3431%2014%2020%2015.3431%2020%2017H22ZM23%2016H25V14H23V16ZM25%2016C25.5523%2016%2026%2016.4477%2026%2017H28C28%2015.3431%2026.6569%2014%2025%2014V16ZM26%2017V22H28V17H26ZM31%2021H27V23H31V21ZM31.7071%2020.7071C31.5196%2020.8946%2031.2652%2021%2031%2021V23C31.7957%2023%2032.5587%2022.6839%2033.1213%2022.1213L31.7071%2020.7071ZM32%2020C32%2020.2652%2031.8946%2020.5195%2031.7071%2020.7071L33.1213%2022.1213C33.6839%2021.5587%2034%2020.7956%2034%2020H32ZM32%209.97814V20H34V9.97814H32ZM31.6139%209.18879C31.8575%209.37824%2032%209.66955%2032%209.97814H34C34%209.05237%2033.5726%208.17845%2032.8418%207.61008L31.6139%209.18879ZM24.6139%203.74434L31.6139%209.18879L32.8418%207.61008L25.8418%202.16564L24.6139%203.74434ZM23.3861%203.74434C23.7472%203.46348%2024.2528%203.46348%2024.6139%203.74434L25.8418%202.16564C24.7585%201.32305%2023.2415%201.32304%2022.1582%202.16563L23.3861%203.74434ZM16.3861%209.18878L23.3861%203.74434L22.1582%202.16563L15.1582%207.61008L16.3861%209.18878Z'%20fill='%23323232'/%3e%3c/svg%3e",jJ="data:image/svg+xml,%3csvg%20width='49'%20height='40'%20viewBox='0%200%2049%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.5605%2029.9434C19.5498%2032.3389%2017.8418%2034.0576%2015.0918%2034.8418L14.7373%2034.1758C17.02%2033.5312%2018.4756%2032.2637%2018.6582%2030.6416H15.2314V29.9434H19.5605ZM22.5469%2029.3311V34.7773H21.6982V32.5H19.582V31.791H21.6982V29.3311H22.5469ZM22.5469%2035.1855V38.7412H16.3486V35.1855H22.5469ZM17.165%2035.8623V38.0537H21.709V35.8623H17.165ZM26.9834%2031.1895C26.9834%2032.2744%2027.7139%2033.3701%2028.9385%2033.8535L28.4873%2034.5088C27.585%2034.1328%2026.9243%2033.4346%2026.5859%2032.5859C26.2314%2033.5151%2025.5439%2034.3262%2024.6094%2034.7451L24.1475%2034.0898C25.4043%2033.5312%2026.1777%2032.2744%2026.1777%2031.1895V29.9111H26.9834V31.1895ZM32.2471%2029.3311V35.0996H31.4414V32.5322H30.1738V35.0459H29.3789V29.5029H30.1738V31.8232H31.4414V29.3311H32.2471ZM32.2471%2035.626V38.8701H31.4199V36.3242H25.8125V35.626H32.2471Z'%20fill='%23DDDDDD'/%3e%3ccircle%20cx='23'%20cy='10.75'%20r='7.25'%20stroke='%23DDDDDD'%20stroke-width='3'/%3e%3cpath%20d='M32.8138%2023.3919C33.5919%2024.1759%2034.8657%2024.1883%2035.6589%2023.4195C36.4521%2022.6508%2036.4643%2021.3921%2035.6862%2020.6081L32.8138%2023.3919ZM26.6942%2017.2262L32.8138%2023.3919L35.6862%2020.6081L29.5666%2014.4425L26.6942%2017.2262Z'%20fill='%23DDDDDD'/%3e%3c/svg%3e",VJ="data:image/svg+xml,%3csvg%20width='49'%20height='40'%20viewBox='0%200%2049%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.5605%2029.9434C19.5498%2032.3389%2017.8418%2034.0576%2015.0918%2034.8418L14.7373%2034.1758C17.02%2033.5312%2018.4756%2032.2637%2018.6582%2030.6416H15.2314V29.9434H19.5605ZM22.5469%2029.3311V34.7773H21.6982V32.5H19.582V31.791H21.6982V29.3311H22.5469ZM22.5469%2035.1855V38.7412H16.3486V35.1855H22.5469ZM17.165%2035.8623V38.0537H21.709V35.8623H17.165ZM26.9834%2031.1895C26.9834%2032.2744%2027.7139%2033.3701%2028.9385%2033.8535L28.4873%2034.5088C27.585%2034.1328%2026.9243%2033.4346%2026.5859%2032.5859C26.2314%2033.5151%2025.5439%2034.3262%2024.6094%2034.7451L24.1475%2034.0898C25.4043%2033.5312%2026.1777%2032.2744%2026.1777%2031.1895V29.9111H26.9834V31.1895ZM32.2471%2029.3311V35.0996H31.4414V32.5322H30.1738V35.0459H29.3789V29.5029H30.1738V31.8232H31.4414V29.3311H32.2471ZM32.2471%2035.626V38.8701H31.4199V36.3242H25.8125V35.626H32.2471Z'%20fill='%23323232'/%3e%3ccircle%20cx='23'%20cy='10.75'%20r='7.25'%20stroke='%23323232'%20stroke-width='3'/%3e%3cpath%20d='M32.8138%2023.3919C33.5919%2024.1759%2034.8657%2024.1883%2035.6589%2023.4195C36.4521%2022.6508%2036.4643%2021.3921%2035.6862%2020.6081L32.8138%2023.3919ZM26.6942%2017.2262L32.8138%2023.3919L35.6862%2020.6081L29.5666%2014.4425L26.6942%2017.2262Z'%20fill='%23323232'/%3e%3c/svg%3e",zJ="data:image/svg+xml,%3csvg%20width='49'%20height='40'%20viewBox='0%200%2049%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.7754%2029.3203V38.8701H21.9268V29.3203H22.7754ZM19.9502%2030.3623C19.9395%2033.1123%2018.6611%2035.54%2015.46%2037.0762L14.998%2036.3887C17.5815%2035.1641%2018.8975%2033.3325%2019.0908%2031.0498H15.4385V30.3623H19.9502ZM33.1201%2034.584V35.2822H24.376V34.584H28.3291V33.5742H25.5146V31.2432H31.1436V30.2549H25.4824V29.5674H31.9922V31.877H26.3525V32.8975H32.1963V33.5742H29.1562V34.584H33.1201ZM32.0459%2036.0127V38.7842H31.1973V36.7002H25.3535V36.0127H32.0459Z'%20fill='%23DDDDDD'/%3e%3cpath%20d='M30.2555%203.45593C30.6251%203.08631%2031.1264%202.87866%2031.6491%202.87866C32.1718%202.87866%2032.6731%203.08631%2033.0427%203.45593C33.4124%203.82554%2033.62%204.32685%2033.62%204.84956C33.62%205.37228%2033.4124%205.87358%2033.0427%206.2432L24.2164%2015.0696L20.5%2015.9987L21.4291%2012.2823L30.2555%203.45593Z'%20fill='%23DDDDDD'%20stroke='%23DDDDDD'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3crect%20x='14.5'%20y='18'%20width='21'%20height='3'%20rx='1.5'%20fill='%23DDDDDD'/%3e%3c/svg%3e",GJ="data:image/svg+xml,%3csvg%20width='49'%20height='40'%20viewBox='0%200%2049%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.6982%2029.3203V38.8701H21.8496V29.3203H22.6982ZM19.873%2030.3623C19.8623%2033.1123%2018.584%2035.54%2015.3828%2037.0762L14.9209%2036.3887C17.5044%2035.1641%2018.8203%2033.3325%2019.0137%2031.0498H15.3613V30.3623H19.873ZM33.043%2034.584V35.2822H24.2988V34.584H28.252V33.5742H25.4375V31.2432H31.0664V30.2549H25.4053V29.5674H31.915V31.877H26.2754V32.8975H32.1191V33.5742H29.0791V34.584H33.043ZM31.9688%2036.0127V38.7842H31.1201V36.7002H25.2764V36.0127H31.9688Z'%20fill='%23323232'/%3e%3cpath%20d='M30.1783%203.45593C30.5479%203.08631%2031.0492%202.87866%2031.572%202.87866C32.0947%202.87866%2032.596%203.08631%2032.9656%203.45593C33.3352%203.82554%2033.5429%204.32685%2033.5429%204.84956C33.5429%205.37228%2033.3352%205.87358%2032.9656%206.2432L24.1392%2015.0696L20.4229%2015.9987L21.3519%2012.2823L30.1783%203.45593Z'%20fill='%23323232'%20stroke='%23323232'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3crect%20x='14.4229'%20y='18'%20width='21'%20height='3'%20rx='1.5'%20fill='%23323232'/%3e%3c/svg%3e",KJ="data:image/svg+xml,%3csvg%20width='49'%20height='40'%20viewBox='0%200%2049%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.0513%2029.3203V38.8701H18.2349V33.8965H16.9028V38.3975H16.1079V29.5566H16.9028V33.1982H18.2349V29.3203H19.0513ZM15.1196%2030.4805C15.1089%2032.9512%2014.3569%2035.3037%2011.4458%2036.8936L10.9409%2036.292C12.4341%2035.4756%2013.3203%2034.4658%2013.7983%2033.3164L11.0698%2033.6064L10.9409%2032.8652L14.0347%2032.6611C14.1689%2032.1831%2014.2441%2031.689%2014.2817%2031.1787H11.4136V30.4805H15.1196ZM28.2681%2029.3311V35.1641H27.4302V29.3311H28.2681ZM28.2681%2035.6797V38.8701H27.4302V36.3779H21.8442V35.6797H28.2681ZM25.228%2029.9004V32.5322H21.7046V33.918C23.4126%2033.918%2024.6909%2033.8643%2026.2378%2033.6279L26.3345%2034.3154C24.7339%2034.5625%2023.4233%2034.6162%2021.6616%2034.6162H20.8882V31.8662H24.3901V30.5879H20.8667V29.9004H25.228ZM37.8071%2029.3203V38.8916H36.9692V33.6279H34.9497V32.9297H36.9692V29.3203H37.8071ZM34.7886%2030.2012V30.8994H31.1792V32.8867H34.3696V33.5742H31.1792V35.8838C32.9355%2035.8838%2034.0527%2035.8247%2035.3687%2035.5938L35.4653%2036.292C34.0796%2036.5176%2032.9087%2036.582%2031.061%2036.582H30.3306V30.2012H34.7886Z'%20fill='%23DDDDDD'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24.75%2022C33.5669%2022%2035.75%2018.1385%2035.75%2013.375C35.75%208.61154%2033.9461%201%2024.7499%201C15.5538%201%2013.75%208.61154%2013.75%2013.375C13.75%2018.1385%2015.9331%2022%2024.75%2022ZM25.9542%2015.3744C25.1688%2015.1307%2024.3274%2015.1351%2023.5445%2015.3868L21.4996%2016.0443C20.7395%2016.2887%2020.9155%2017.4107%2021.7138%2017.4107H27.8992C28.7017%2017.4107%2028.8731%2016.28%2028.1066%2016.0422L25.9542%2015.3744ZM21.75%2013C21.75%2013.5523%2021.3023%2014%2020.75%2014C20.1977%2014%2019.75%2013.5523%2019.75%2013C19.75%2012.4477%2020.1977%2012%2020.75%2012C21.3023%2012%2021.75%2012.4477%2021.75%2013ZM28.75%2014C29.3023%2014%2029.75%2013.5523%2029.75%2013C29.75%2012.4477%2029.3023%2012%2028.75%2012C28.1977%2012%2027.75%2012.4477%2027.75%2013C27.75%2013.5523%2028.1977%2014%2028.75%2014Z'%20fill='%23DDDDDD'/%3e%3c/svg%3e",WJ="data:image/svg+xml,%3csvg%20width='49'%20height='40'%20viewBox='0%200%2049%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.0513%2029.3203V38.8701H18.2349V33.8965H16.9028V38.3975H16.1079V29.5566H16.9028V33.1982H18.2349V29.3203H19.0513ZM15.1196%2030.4805C15.1089%2032.9512%2014.3569%2035.3037%2011.4458%2036.8936L10.9409%2036.292C12.4341%2035.4756%2013.3203%2034.4658%2013.7983%2033.3164L11.0698%2033.6064L10.9409%2032.8652L14.0347%2032.6611C14.1689%2032.1831%2014.2441%2031.689%2014.2817%2031.1787H11.4136V30.4805H15.1196ZM28.2681%2029.3311V35.1641H27.4302V29.3311H28.2681ZM28.2681%2035.6797V38.8701H27.4302V36.3779H21.8442V35.6797H28.2681ZM25.228%2029.9004V32.5322H21.7046V33.918C23.4126%2033.918%2024.6909%2033.8643%2026.2378%2033.6279L26.3345%2034.3154C24.7339%2034.5625%2023.4233%2034.6162%2021.6616%2034.6162H20.8882V31.8662H24.3901V30.5879H20.8667V29.9004H25.228ZM37.8071%2029.3203V38.8916H36.9692V33.6279H34.9497V32.9297H36.9692V29.3203H37.8071ZM34.7886%2030.2012V30.8994H31.1792V32.8867H34.3696V33.5742H31.1792V35.8838C32.9355%2035.8838%2034.0527%2035.8247%2035.3687%2035.5938L35.4653%2036.292C34.0796%2036.5176%2032.9087%2036.582%2031.061%2036.582H30.3306V30.2012H34.7886Z'%20fill='%23323232'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24.75%2022C33.5669%2022%2035.75%2018.1385%2035.75%2013.375C35.75%208.61154%2033.9461%201%2024.7499%201C15.5538%201%2013.75%208.61154%2013.75%2013.375C13.75%2018.1385%2015.9331%2022%2024.75%2022ZM25.9542%2015.3744C25.1688%2015.1307%2024.3274%2015.1351%2023.5445%2015.3868L21.4996%2016.0443C20.7395%2016.2887%2020.9155%2017.4107%2021.7138%2017.4107H27.8992C28.7017%2017.4107%2028.8731%2016.28%2028.1066%2016.0422L25.9542%2015.3744ZM21.75%2013C21.75%2013.5523%2021.3023%2014%2020.75%2014C20.1977%2014%2019.75%2013.5523%2019.75%2013C19.75%2012.4477%2020.1977%2012%2020.75%2012C21.3023%2012%2021.75%2012.4477%2021.75%2013ZM28.75%2014C29.3023%2014%2029.75%2013.5523%2029.75%2013C29.75%2012.4477%2029.3023%2012%2028.75%2012C28.1977%2012%2027.75%2012.4477%2027.75%2013C27.75%2013.5523%2028.1977%2014%2028.75%2014Z'%20fill='%23323232'/%3e%3c/svg%3e",XJ="data:image/svg+xml,%3csvg%20width='48'%20height='40'%20viewBox='0%200%2048%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.7422%2031.8877C17.7422%2033.6172%2018.8486%2035.3574%2020.2344%2035.9912L19.7295%2036.6787C18.6445%2036.1201%2017.7476%2034.9761%2017.3232%2033.6172C16.8989%2035.0459%2016.002%2036.2705%2014.917%2036.8506L14.3691%2036.1738C15.7656%2035.4863%2016.8828%2033.6494%2016.8828%2031.8877V30.1475H17.7422V31.8877ZM22.2969%2029.3203V38.8916H21.459V33.2734H19.1924V32.5859H21.459V29.3203H22.2969ZM32.0938%2029.3203V38.8701H31.2773V33.9072H29.9775V38.3867H29.1719V29.5244H29.9775V33.1875H31.2773V29.3203H32.0938ZM26.7119%2031.9307C26.7119%2033.6816%2027.4316%2035.2178%2028.7959%2035.916L28.291%2036.5713C27.3242%2036.0449%2026.6636%2035.0996%2026.3252%2033.9287C25.9976%2035.2607%2025.3262%2036.3027%2024.3164%2036.8936L23.79%2036.249C25.165%2035.4971%2025.8955%2033.8643%2025.8955%2031.9307V31.168H24.0156V30.459H28.4844V31.168H26.7119V31.9307Z'%20fill='%23DDDDDD'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15%205C15%202.79086%2016.7909%201%2019%201H31C32.1046%201%2033%201.89543%2033%203V16.1098C33%2016.6994%2032.9049%2017.2852%2032.7185%2017.8445L32.5366%2018.3902C32.193%2019.4209%2032.273%2020.546%2032.7589%2021.5178C33.0994%2022.1988%2032.6042%2023%2031.8428%2023H19C16.7909%2023%2015%2021.2091%2015%2019V5ZM22%205C22%204.44772%2022.4477%204%2023%204H28C28.5523%204%2029%204.44772%2029%205C29%205.55228%2028.5523%206%2028%206H23C22.4477%206%2022%205.55228%2022%205ZM18.8%2020C18.8%2018.785%2019.785%2017.8%2021%2017.8H31C31.4418%2017.8%2031.8%2017.4418%2031.8%2017C31.8%2016.5582%2031.4418%2016.2%2031%2016.2H21C18.9013%2016.2%2017.2%2017.9013%2017.2%2020C17.2%2020.4418%2017.5582%2020.8%2018%2020.8C18.4418%2020.8%2018.8%2020.4418%2018.8%2020Z'%20fill='%23DDDDDD'/%3e%3c/svg%3e",$J="data:image/svg+xml,%3csvg%20width='48'%20height='40'%20viewBox='0%200%2048%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.7422%2031.8877C17.7422%2033.6172%2018.8486%2035.3574%2020.2344%2035.9912L19.7295%2036.6787C18.6445%2036.1201%2017.7476%2034.9761%2017.3232%2033.6172C16.8989%2035.0459%2016.002%2036.2705%2014.917%2036.8506L14.3691%2036.1738C15.7656%2035.4863%2016.8828%2033.6494%2016.8828%2031.8877V30.1475H17.7422V31.8877ZM22.2969%2029.3203V38.8916H21.459V33.2734H19.1924V32.5859H21.459V29.3203H22.2969ZM32.0938%2029.3203V38.8701H31.2773V33.9072H29.9775V38.3867H29.1719V29.5244H29.9775V33.1875H31.2773V29.3203H32.0938ZM26.7119%2031.9307C26.7119%2033.6816%2027.4316%2035.2178%2028.7959%2035.916L28.291%2036.5713C27.3242%2036.0449%2026.6636%2035.0996%2026.3252%2033.9287C25.9976%2035.2607%2025.3262%2036.3027%2024.3164%2036.8936L23.79%2036.249C25.165%2035.4971%2025.8955%2033.8643%2025.8955%2031.9307V31.168H24.0156V30.459H28.4844V31.168H26.7119V31.9307Z'%20fill='%23323232'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15%205C15%202.79086%2016.7909%201%2019%201H31C32.1046%201%2033%201.89543%2033%203V16.1098C33%2016.6994%2032.9049%2017.2852%2032.7185%2017.8445L32.5366%2018.3902C32.193%2019.4209%2032.273%2020.546%2032.7589%2021.5178C33.0994%2022.1988%2032.6042%2023%2031.8428%2023H19C16.7909%2023%2015%2021.2091%2015%2019V5ZM22%205C22%204.44772%2022.4477%204%2023%204H28C28.5523%204%2029%204.44772%2029%205C29%205.55228%2028.5523%206%2028%206H23C22.4477%206%2022%205.55228%2022%205ZM18.8%2020C18.8%2018.785%2019.785%2017.8%2021%2017.8H31C31.4418%2017.8%2031.8%2017.4418%2031.8%2017C31.8%2016.5582%2031.4418%2016.2%2031%2016.2H21C18.9013%2016.2%2017.2%2017.9013%2017.2%2020C17.2%2020.4418%2017.5582%2020.8%2018%2020.8C18.4418%2020.8%2018.8%2020.4418%2018.8%2020Z'%20fill='%23323232'/%3e%3c/svg%3e",qf=()=>p.jsx("div",{className:"fixed bottom-0 w-full max-w-[64rem] h-[4rem] border-t-[0.3px] border-[#0000004D] bg-[#FFFFFF] z-[110]",children:p.jsxs("div",{className:"flex  w-full justify-evenly items-center mt-[0.62rem] cursor-pointer",children:[p.jsx(Dh,{to:"/home",children:({isActive:t})=>p.jsx(p.Fragment,{children:t?p.jsx("img",{src:HJ}):p.jsx("img",{src:QJ})})}),p.jsx(Dh,{to:"/search",children:({isActive:t})=>p.jsx(p.Fragment,{children:t?p.jsx("img",{src:VJ}):p.jsx("img",{src:jJ})})}),p.jsx(Dh,{to:"/archive",children:({isActive:t})=>p.jsx(p.Fragment,{children:t?p.jsx("img",{src:GJ}):p.jsx("img",{src:zJ})})}),p.jsx(Dh,{to:"/character",children:({isActive:t})=>p.jsx(p.Fragment,{children:t?p.jsx("img",{src:WJ}):p.jsx("img",{src:KJ})})}),p.jsx(Dh,{to:"/library",children:({isActive:t})=>p.jsx(p.Fragment,{children:t?p.jsx("img",{src:$J}):p.jsx("img",{src:XJ})})})]})}),h5="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='7'%20height='6'%20viewBox='0%200%207%206'%20fill='none'%3e%3ccircle%20cx='3.5'%20cy='3'%20r='3'%20fill='%23FF9F1C'/%3e%3c/svg%3e",Al=({tabs:t,activeTab:e,onTabClick:n,size:r="big",borderWidth:i,isNoti:s=!1,handleNotiClick:o,dotStates:a=[],...l})=>{const A=r==="big";return p.jsxs("div",{className:`flex items-center w-full h-[2.75rem] px-4 border-b-2 border-gray-50 relative ${A?"justify-around":"gap-8"}`,...l,children:[t.map((c,u)=>p.jsxs("div",{onClick:()=>n(c),className:`${A?"flex-1":"flex justify-center"} text-center cursor-pointer relative`,children:[p.jsxs("div",{className:e===c?"text-black font-semibold":"text-gray-500",children:[c,a[u]&&p.jsx("img",{src:h5,className:"absolute top-0 -right-2"})]}),e===c&&p.jsx("div",{style:{width:i},className:`absolute bottom-[-0.75rem] h-[0.125rem] bg-black ${A?" left-0 right-0  justify-self-center ":""}`})]},u)),s?p.jsx("button",{className:"absolute right-4 text-special text-btn4 ",onClick:o,children:"모두 읽음"}):""]})},YJ=()=>{const t=Bt(),[e,n]=F.useState(""),[r,i]=F.useState(""),[s,o]=F.useState("도서"),a=async()=>{const g=await Ut("/books/recent");return console.log("최근 책",g),g},l=async()=>{const g=await Ut("/bookinfo/most");return console.log("많이 읽는 책",g),g},A=()=>{i(e)},u=_r({queryKey:["recentBooks"],queryFn:a,onSuccess:()=>{console.log("최근 책 받기 성공")},onError:g=>console.error("최근 책 받기 실패",g)}).data.bookList,m=_r({queryKey:["popularBooks"],queryFn:l,onSuccess:()=>{console.log("많이 읽는 책 받기 성공")},onError:g=>console.error("많이 읽는 책 받기 실패",g)}).data.bookList;return p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"w-full",children:[p.jsx(C2,{search:e,setSearch:n,onEnter:A}),e?p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(Al,{tabs:["도서","기록","사용자"],activeTab:s,onTabClick:o,size:"small",borderWidth:"3rem"}),s==="도서"&&p.jsx(WD,{search:r,setSearch:n}),s==="기록"&&p.jsx(LJ,{search:r,setSearch:n}),s==="사용자"&&p.jsx(kJ,{search:r,setSearch:n})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"w-full flex flex-col gap-3 mt-4 margin-auto px-8",children:[p.jsx("div",{className:"text-b1 font-semibold text-gray-800",children:"최근 기록한 책"}),p.jsx("div",{className:"flex flex-row gap-3",children:u.length>0?u.map((g,x)=>p.jsx(Ep,{img:g.imgPath,title:g.title,handleClick:()=>t(g.isCustom?`/info/book/custom/${g.bookInfoId}`:`/info/book/${g.bookInfoId}`)},x)):p.jsx("div",{className:"flex w-full h-[11.5rem] justify-center items-center",children:p.jsx("p",{className:"text-gray-400 text-b2",children:"아직 기록한 책이 없어요."})})})]}),p.jsxs("div",{className:"flex justify-between px-7 py-4 bg-gray-10 my-5",children:[p.jsxs("div",{className:"flex flex-col gap-1 justify-center",children:[p.jsx("span",{className:"text-c1 text-gray-400",children:"책을 찾을 수 없나요?"}),p.jsx("span",{className:"text-btn3 text-gray-800",children:"원하는 책을 직접 등록해보세요"})]}),p.jsx("button",{className:"text-white text-btn2 bg-orange-300 px-4 py-2 rounded-[0.5rem]",onClick:()=>t("/search/register"),children:"책 등록하기"})]}),p.jsxs("div",{className:"flex flex-col gap-3 px-8",children:[p.jsx("div",{className:"text-b1 font-semibold text-gray-800",children:"요즘 많이 읽는 책 Top 12"}),p.jsx(wJ,{popularBooks:m})]})]})]}),p.jsx(qf,{})]})},qJ="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.0957%2014.855L1.0957%207.85498L8.0957%200.85498'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cline%20x1='1.8457'%20y1='8.03833'%20x2='15.5124'%20y2='8.03833'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",nr=({title:t="제목",check:e=!1,edit:n=!1,editState:r=!1,handleEdit:i,handleComplete:s,handleCancel:o})=>{const a=Bt(),l=()=>{a(-1)};return p.jsxs("div",{className:"flex justify-between items-center h-[2.75rem] mx-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"cursor-pointer",children:p.jsx("img",{onClick:l,src:qJ,alt:"arrow"})}),p.jsx("div",{className:"text-st ml-[1.26rem] font-semibold",children:t})]}),e&&p.jsxs("div",{className:"flex gap-6",children:[p.jsx("div",{onClick:o,className:"text-b1 text-gray-400 cursor-pointer",children:"취소"}),p.jsx("div",{onClick:s,className:"text-b1 text-blue-400 cursor-pointer",children:"완료"})]}),n&&p.jsx("div",{onClick:i,className:`flex items-center w-[36px] h-[36px] text-b1 text-gray-400 underline underline-offset-4 cursor-pointer
        `,children:r?"완료":"편집"})]})},tF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.0001%2025.6666C24.2865%2025.6666%2026.8334%2021.1615%2026.8334%2015.6041C26.8334%2010.0468%2024.7289%201.16663%2014%201.16663C3.27114%201.16663%201.16675%2010.0468%201.16675%2015.6041C1.16675%2021.1615%203.71367%2025.6666%2014.0001%2025.6666ZM15.4049%2017.9368C14.4886%2017.6525%2013.507%2017.6576%2012.5936%2017.9512L10.2078%2018.7184C9.32109%2019.0035%209.52636%2020.3125%2010.4578%2020.3125H17.674C18.6103%2020.3125%2018.8103%2018.9933%2017.916%2018.7158L15.4049%2017.9368ZM10.5%2015.1667C10.5%2015.811%209.97766%2016.3333%209.33333%2016.3333C8.689%2016.3333%208.16667%2015.811%208.16667%2015.1667C8.16667%2014.5223%208.689%2014%209.33333%2014C9.97766%2014%2010.5%2014.5223%2010.5%2015.1667ZM18.6667%2016.3333C19.311%2016.3333%2019.8333%2015.811%2019.8333%2015.1667C19.8333%2014.5223%2019.311%2014%2018.6667%2014C18.0223%2014%2017.5%2014.5223%2017.5%2015.1667C17.5%2015.811%2018.0223%2016.3333%2018.6667%2016.3333Z'%20fill='url(%23paint0_linear_2005_12178)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_2005_12178'%20x1='14.0001'%20y1='1.16663'%20x2='14.0001'%20y2='25.6666'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFBF68'/%3e%3cstop%20offset='1'%20stop-color='%23FF9F1C'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ZJ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%3e%3cpath%20d='M23.8674%205.35655C23.2972%204.76797%2022.6203%204.30107%2021.8752%203.98251C21.1302%203.66396%2020.3316%203.5%2019.5251%203.5C18.7186%203.5%2017.92%203.66396%2017.175%203.98251C16.4299%204.30107%2015.753%204.76797%2015.1829%205.35655L13.9996%206.57749L12.8164%205.35655C11.6647%204.16822%2010.1028%203.50062%208.47413%203.50062C6.84547%203.50062%205.28351%204.16822%204.13187%205.35655C2.98024%206.54489%202.33325%208.15662%202.33325%209.83718C2.33325%2011.5177%202.98024%2013.1295%204.13187%2014.3178L5.31511%2015.5387L13.1618%2023.6355C13.6202%2024.1085%2014.379%2024.1085%2014.8374%2023.6355L22.6841%2015.5387L23.8674%2014.3178C24.4378%2013.7295%2024.8903%2013.031%2025.199%2012.2622C25.5077%2011.4934%2025.6666%2010.6694%2025.6666%209.83718C25.6666%209.00499%2025.5077%208.18096%2025.199%207.41216C24.8903%206.64336%2024.4378%205.94486%2023.8674%205.35655Z'%20fill='url(%23paint0_linear_2005_8090)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_2005_8090'%20x1='13.9999'%20y1='3.5'%20x2='13.9999'%20y2='24.5'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFBF68'/%3e%3cstop%20offset='1'%20stop-color='%23FF9F1C'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",nF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20d='M6.08211%209.76248C5.88211%209.96248%205.88211%2010.2725%206.08211%2010.4725C7.15211%2011.5425%207.24211%2013.2225%206.36211%2014.3925C6.21211%2014.5925%206.24211%2014.8625%206.41211%2015.0425C6.63211%2015.2625%206.98211%2015.2325%207.17211%2014.9925C8.24211%2013.5625%208.23211%2011.5625%207.13211%2010.1425L14.7521%202.52248C15.2421%202.03248%2016.0321%202.03248%2016.5221%202.52248C17.0121%203.01248%2017.0121%203.80248%2016.5221%204.29248L11.3921%209.42248C11.1921%209.62248%2011.1921%209.93248%2011.3921%2010.1325C11.5921%2010.3325%2011.9021%2010.3325%2012.1021%2010.1325L18.6421%203.59248C19.1321%203.10248%2019.9221%203.10248%2020.4121%203.59248C20.9021%204.08248%2020.9021%204.87248%2020.4121%205.36248L13.8721%2011.9025C13.6721%2012.1025%2013.6721%2012.4125%2013.8721%2012.6125C14.0721%2012.8125%2014.3821%2012.8125%2014.5821%2012.6125L20.0621%207.13248C20.5521%206.64248%2021.3421%206.64248%2021.8321%207.13248C22.3221%207.62248%2022.3221%208.41248%2021.8321%208.90248L15.6421%2015.0925C15.4421%2015.2925%2015.4421%2015.6025%2015.6421%2015.8025C15.8421%2016.0025%2016.1521%2016.0025%2016.3521%2015.8025L20.4221%2011.7325C20.9121%2011.2425%2021.7021%2011.2425%2022.1921%2011.7325C22.6821%2012.2225%2022.6821%2013.0125%2022.1921%2013.5025L15.1221%2020.5725C11.9021%2023.7925%206.67211%2023.7925%203.45211%2020.5725C0.232109%2017.3525%200.232109%2012.1225%203.45211%208.90248L8.05211%204.30248C8.54211%203.81248%209.33211%203.81248%209.82211%204.30248C10.3121%204.79248%2010.3121%205.58248%209.82211%206.07248L6.08211%209.76248ZM7.01211%201.76248C7.01211%201.35248%206.67211%201.01248%206.26211%201.01248C6.22211%201.01248%206.19211%201.01248%206.15211%201.02248C3.52211%201.40248%201.45211%203.48248%201.07211%206.10248C1.07211%206.13248%201.06211%206.17248%201.06211%206.21248C1.06211%206.62248%201.40211%206.96248%201.81211%206.96248C2.19211%206.96248%202.50211%206.68248%202.55211%206.32248C2.83211%204.35248%204.39211%202.79248%206.36211%202.51248C6.73211%202.45248%207.01211%202.14248%207.01211%201.76248ZM17.0121%2022.1625C17.0121%2022.5725%2017.3521%2022.9125%2017.7621%2022.9125C17.8021%2022.9125%2017.8321%2022.9125%2017.8721%2022.9025C20.5021%2022.5225%2022.5721%2020.4425%2022.9521%2017.8225C22.9521%2017.7925%2022.9621%2017.7525%2022.9621%2017.7125C22.9621%2017.3025%2022.6221%2016.9625%2022.2121%2016.9625C21.8321%2016.9625%2021.5221%2017.2425%2021.4721%2017.6025C21.1921%2019.5725%2019.6321%2021.1325%2017.6621%2021.4125C17.2921%2021.4725%2017.0121%2021.7825%2017.0121%2022.1625Z'%20fill='url(%23paint0_linear_3985_44110)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_3985_44110'%20x1='11.9996'%20y1='1.01248'%20x2='11.9996'%20y2='22.9875'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFBF68'/%3e%3cstop%20offset='1'%20stop-color='%23FF9F1C'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",JJ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%20-5.33224e-05C11.0508%20-5.33224e-05%2010.14%200.376729%209.468%201.0487L8.3964%202.12024C8.17368%202.33989%207.874%202.46389%207.56119%202.46583H6.04799C5.57755%202.46567%205.11169%202.55821%204.67703%202.73815C4.24237%202.9181%203.84743%203.18193%203.51478%203.51457C3.18213%203.8472%202.91829%204.24212%202.73833%204.67676C2.55837%205.1114%202.46583%205.57723%202.46599%206.04765V7.56197C2.46405%207.87476%202.34004%208.17443%202.12039%208.39713L1.04879%209.46868C0.377259%2010.1402%200%2011.0509%200%2012.0006C0%2012.9502%200.377259%2013.8609%201.04879%2014.5324L2.12039%2015.604C2.34004%2015.8267%202.46405%2016.1263%202.46599%2016.4391V17.9535C2.46599%2018.9031%202.84325%2019.8138%203.51478%2020.4853C4.18631%2021.1568%205.0971%2021.5341%206.04679%2021.5341H7.56119C7.87439%2021.5341%208.1756%2021.6589%208.3964%2021.8797L9.468%2022.9512C10.1395%2023.6227%2011.0503%2023.9999%2012%2023.9999C12.9497%2023.9999%2013.8605%2023.6227%2014.532%2022.9512L15.6036%2021.8797C15.8263%2021.66%2016.126%2021.536%2016.4388%2021.5341H17.9532C18.9029%2021.5341%2019.8137%2021.1568%2020.4852%2020.4853C21.1568%2019.8138%2021.534%2018.9031%2021.534%2017.9535V16.4391C21.534%2016.126%2021.6588%2015.8248%2021.8796%2015.604L22.9512%2014.5324C23.6227%2013.8609%2024%2012.9502%2024%2012.0006C24%2011.0509%2023.6227%2010.1402%2022.9512%209.46868L21.8796%208.39713C21.66%208.17443%2021.536%207.87476%2021.534%207.56197V6.04765C21.534%205.09801%2021.1568%204.18726%2020.4852%203.51577C19.8137%202.84427%2018.9029%202.46703%2017.9532%202.46703H16.4388C16.126%202.46509%2015.8263%202.34109%2015.6036%202.12144L14.532%201.0499C14.1998%200.716974%2013.8051%200.452866%2013.3706%200.272699C12.9361%200.0925321%2012.4704%20-0.00015487%2012%20-5.33224e-05ZM17.0549%209.93711C17.4892%209.51231%2017.4969%208.81587%2017.0721%208.38157C16.6473%207.94726%2015.9509%207.93954%2015.5166%208.36434L10.5248%2013.2467L8.86548%2011.5873C8.43593%2011.1577%207.73945%2011.1576%207.30985%2011.5872C6.88025%2012.0167%206.88021%2012.7132%207.30977%2013.1428L9.73833%2015.5716C10.1645%2015.9979%2010.8544%2016.0017%2011.2853%2015.5802L17.0549%209.93711Z'%20fill='url(%23paint0_linear_3985_40230)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_3985_40230'%20x1='12'%20y1='-5.34058e-05'%20x2='12'%20y2='23.9999'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFBF68'/%3e%3cstop%20offset='1'%20stop-color='%23FF9F1C'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",eee=t=>{const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3),i=Math.floor(r/(3600*24*7)),s=Math.floor(r/(3600*24)),o=Math.floor(r%(3600*24)/3600),a=Math.floor(r%3600/60);return i>0?`${i}주`:s>0?`${s}일`:o>0?`${o}시간`:a>0?`${a}분`:"방금 전"},XD=({onMarkAsRead:t,alarmType:e,boldText:n,isRead:r,createdTime:i,resourceId:s,alarmId:o})=>{const a={FRIEND_REQUEST:{icon:nF,message:d=>p.jsxs("span",{children:[p.jsxs("strong",{style:{fontWeight:"bold"},children:[d,"님"]}),"으로부터 친구 요청이 도착했어요."]}),navigateTo:()=>({pathname:"/friend",state:{activeTab:"요청"}})},FRIEND_APPROVED:{icon:nF,message:d=>p.jsxs("span",{children:[p.jsxs("strong",{style:{fontWeight:"bold"},children:[d,"님"]}),"이 친구요청을 수락했어요."]}),navigateTo:d=>`/user/${d}`},LEVEL_UP:{icon:tF,message:d=>p.jsxs("span",{children:["야호! 오리가 ",p.jsxs("strong",{style:{fontWeight:"bold"},children:["Lv.",d]}),"로 성장했어요."]}),navigateTo:()=>"/character"},ONELINELIKE_ADDED:{icon:ZJ,message:d=>p.jsxs("span",{children:[p.jsx("strong",{style:{fontWeight:"bold"},children:d}),"의 한줄평에 좋아요가 눌렸어요."]}),navigateTo:()=>`/info/book/${s}`},BADGE_UNLOCKED:{icon:JJ,message:d=>p.jsxs("span",{children:["축하합니다!🎉 새로운"," ",p.jsx("strong",{style:{fontWeight:"bold"},children:d}),"배지를 획득했어요."]}),navigateTo:()=>"/myBadge"},ITEM_UNLOCKED:{icon:tF,message:()=>p.jsx("span",{children:"새로운 아이템을 획득했어요. 얼른 착용해봐요!"}),navigateTo:()=>"/character"}},l=Bt(),A=a[e];F.useEffect(()=>{console.log("resourceId",s)},[s]);const c=()=>{if(A!=null&&A.navigateTo){const d=A.navigateTo(s);typeof d=="string"?l(d):l(d.pathname,{state:d.state})}},u=d=>{t(d),c()};return p.jsxs("div",{className:"flex gap-4 items-center w-[24.5625rem] px-4 py-3",onClick:()=>u(o),children:[p.jsxs("div",{className:"min-w-12 min-h-12 w-12 h-12  rounded-full bg-gray-50 flex items-center justify-center relative ",children:[p.jsx("img",{src:A==null?void 0:A.icon,alt:e}),!r&&p.jsx("img",{src:h5,className:"absolute right-[0.03rem] top-[0.38rem]"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-black text-b2",children:A==null?void 0:A.message(n)}),p.jsx("span",{className:"ml-1 text-gray-500 text-c1",children:eee(i)})]})]})},tee=async t=>{await eo("/alarms/common",{alarmId:t})},nee=async({pageParam:t=0})=>{const n=await Ut(`/alarms/common?page=${t}&size=10`);console.log("알람데이터",n);const{pageContent:r,totalPages:i}=n;return{pageContent:r,nextPage:t+1,totalPages:i||1}},ree=()=>{const t=F.useRef(null),e=w2(),{sseData:n}=Jx(),{data:r,isLoading:i,isFetchingNextPage:s,fetchNextPage:o,hasNextPage:a}=uD({queryKey:["alarmList"],queryFn:nee,getNextPageParam:A=>A.nextPage<A.totalPages?A.nextPage:void 0}),{mutate:l}=Ec({mutationFn:tee,onSuccess:()=>{e.invalidateQueries({queryKey:["alarmList"]})}});return vt.useEffect(()=>{n.isCommonAlarmChecked||e.invalidateQueries({queryKey:["alarmList"]})},[n,e]),vt.useEffect(()=>{const A=new IntersectionObserver(c=>{const[u]=c;u.isIntersecting&&a&&!s&&o()},{root:null,rootMargin:"0px",threshold:1});return t.current&&A.observe(t.current),()=>A.disconnect()},[o,a,s]),i?p.jsx("div",{children:"로딩 중..."}):p.jsxs(p.Fragment,{children:[r.pages.map((A,c)=>A.pageContent.map((u,d)=>p.jsx("div",{children:p.jsx(XD,{alarmId:u.alarmId,alarmType:u.alarmType,boldText:u.boldText,isRead:u.isRead,createdTime:u.createdTime,resourceId:u.resourceId,onMarkAsRead:()=>l(u.alarmId)})},`${c}-${d}`))),p.jsx("div",{ref:t,children:s&&p.jsx("div",{children:"로딩 중..."})})]})},iee=()=>{const[t,e]=F.useState([]);return t.map(n=>p.jsx("div",{children:p.jsx(XD,{type:n.type,text:n.text,read:n.read})},n.id))},see=async()=>{await eo("/alarms/common/all")},oee=()=>{const[t,e]=F.useState("일반"),{sseData:n}=Jx(),r=w2(),[i,s]=F.useState([!1,!1]),{mutate:o}=Ec({mutationFn:see,onSuccess:()=>{console.log("다읽기성공"),r.invalidateQueries({queryKey:["alarmList"]})},onError:a=>{console.error(a)}});return F.useEffect(()=>{if(n){const a=[n.isCommonAlarmChecked===null?null:!n.isCommonAlarmChecked,n.isAnnouncementChecked===null?null:!n.isAnnouncementChecked];console.log("업데이트된 dotStates:",a),s(a)}},[n]),p.jsxs("div",{className:"relative",children:[p.jsx(nr,{title:"알림",edit:!1}),p.jsx("div",{children:p.jsx(Al,{tabs:["일반","공지"],activeTab:t,onTabClick:e,size:"small",handleNotiClick:o,isNoti:!0,borderWidth:"3rem",dotStates:i})}),t==="일반"&&p.jsx(ree,{}),t==="공지"&&p.jsx(iee,{})]})},$D="data:image/svg+xml,%3csvg%20width='16'%20height='11'%20viewBox='0%200%2016%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.3359%209.50385C7.12754%2010.6913%208.87246%2010.6913%209.6641%209.50385L16%200H0L6.3359%209.50385Z'%20fill='%23F7F7F7'/%3e%3c/svg%3e",aee="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.5%2016.3335L14.5%2011.3335L9.5%206.3335'%20stroke='%23ABABAB'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",YD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2015C11.866%2015%2015%2011.866%2015%208C15%204.13401%2011.866%201%208%201C4.13401%201%201%204.13401%201%208C1%2011.866%204.13401%2015%208%2015Z'%20fill='%23DDDDDD'/%3e%3cpath%20d='M8%2011.49V11.5M6%206.67125C6%205.74824%206.89543%205%208%205C9.10457%205%2010%205.74824%2010%206.67125C10%207.59426%209.10457%208.34251%208%208.34251C8%208.34251%207.99913%208.84134%207.99913%209.45668'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3ccircle%20cx='7.9502'%20cy='11.25'%20r='0.75'%20fill='white'/%3e%3c/svg%3e";/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const uw="169",fc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},hc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},qD=0,HE=1,ZD=2,lee=3,JD=0,dw=1,D0=2,mo=3,ha=0,Ii=1,Bo=2,$a=0,Gc=1,jE=2,VE=3,zE=4,eO=5,Vl=100,tO=101,nO=102,rO=103,iO=104,sO=200,oO=201,aO=202,lO=203,fy=204,hy=205,AO=206,cO=207,uO=208,dO=209,fO=210,hO=211,pO=212,mO=213,gO=214,py=0,my=1,gy=2,lu=3,vy=4,yy=5,xy=6,wy=7,_2=0,vO=1,yO=2,ua=0,xO=1,wO=2,CO=3,p5=4,BO=5,SO=6,_O=7,GE="attached",EO="detached",fw=300,rl=301,TA=302,Mp=303,Tp=304,Zf=306,IA=1e3,fs=1001,Tf=1002,Sr=1003,hw=1004,Aee=1004,bc=1005,cee=1005,tr=1006,$d=1007,uee=1007,Xs=1008,dee=1008,Io=1009,m5=1010,g5=1011,If=1012,pw=1013,il=1014,Wi=1015,Jf=1016,mw=1017,gw=1018,Au=1020,v5=35902,y5=1021,x5=1022,Ai=1023,w5=1024,C5=1025,Kc=1026,cu=1027,vw=1028,E2=1029,B5=1030,yw=1031,fee=1032,xw=1033,O0=33776,k0=33777,Q0=33778,H0=33779,Cy=35840,By=35841,Sy=35842,_y=35843,Ey=36196,by=37492,My=37496,Ty=37808,Iy=37809,Fy=37810,Uy=37811,Ly=37812,Ry=37813,Py=37814,Ny=37815,Dy=37816,Oy=37817,ky=37818,Qy=37819,Hy=37820,jy=37821,j0=36492,Vy=36494,zy=36495,S5=36283,Gy=36284,Ky=36285,Wy=36286,bO=2200,MO=2201,TO=2202,Ff=2300,Uf=2301,lv=2302,Mc=2400,Tc=2401,Ip=2402,ww=2500,_5=2501,IO=0,E5=1,Xy=2,FO=3200,UO=3201,hee=3202,pee=3203,OA=0,LO=1,ja="",Vr="srgb",Or="srgb-linear",Cw="display-p3",b2="display-p3-linear",Fp="linear",Mn="srgb",Up="rec709",Lp="p3",mee=0,pc=7680,gee=7681,vee=7682,yee=7683,xee=34055,wee=34056,Cee=5386,Bee=512,See=513,_ee=514,Eee=515,bee=516,Mee=517,Tee=518,KE=519,RO=512,PO=513,NO=514,b5=515,DO=516,OO=517,kO=518,QO=519,Rp=35044,Iee=35048,Fee=35040,Uee=35045,Lee=35049,Ree=35041,Pee=35046,Nee=35050,Dee=35042,Oee="100",WE="300 es",aa=2e3,Pp=2001;class No{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ni=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let rF=1234567;const Wc=Math.PI/180,Lf=180/Math.PI;function ys(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ni[t&255]+ni[t>>8&255]+ni[t>>16&255]+ni[t>>24&255]+"-"+ni[e&255]+ni[e>>8&255]+"-"+ni[e>>16&15|64]+ni[e>>24&255]+"-"+ni[n&63|128]+ni[n>>8&255]+"-"+ni[n>>16&255]+ni[n>>24&255]+ni[r&255]+ni[r>>8&255]+ni[r>>16&255]+ni[r>>24&255]).toLowerCase()}function Jn(t,e,n){return Math.max(e,Math.min(n,t))}function M5(t,e){return(t%e+e)%e}function kee(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Qee(t,e,n){return t!==e?(n-t)/(e-t):0}function V0(t,e,n){return(1-n)*t+n*e}function Hee(t,e,n,r){return V0(t,e,1-Math.exp(-n*r))}function jee(t,e=1){return e-Math.abs(M5(t,e*2)-e)}function Vee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function zee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Gee(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Kee(t,e){return t+Math.random()*(e-t)}function Wee(t){return t*(.5-Math.random())}function Xee(t){t!==void 0&&(rF=t);let e=rF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $ee(t){return t*Wc}function Yee(t){return t*Lf}function qee(t){return(t&t-1)===0&&t!==0}function Zee(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Jee(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function ete(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),A=s((e+r)/2),c=o((e+r)/2),u=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*u,l*d,a*A);break;case"YZY":t.set(l*d,a*c,l*u,a*A);break;case"ZXZ":t.set(l*u,l*d,a*c,a*A);break;case"XZX":t.set(a*c,l*g,l*m,a*A);break;case"YXY":t.set(l*m,a*c,l*g,a*A);break;case"ZYZ":t.set(l*g,l*m,a*c,a*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function bi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Dt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const HO={DEG2RAD:Wc,RAD2DEG:Lf,generateUUID:ys,clamp:Jn,euclideanModulo:M5,mapLinear:kee,inverseLerp:Qee,lerp:V0,damp:Hee,pingpong:jee,smoothstep:Vee,smootherstep:zee,randInt:Gee,randFloat:Kee,randFloatSpread:Wee,seededRandom:Xee,degToRad:$ee,radToDeg:Yee,isPowerOfTwo:qee,ceilPowerOfTwo:Zee,floorPowerOfTwo:Jee,setQuaternionFromProperEuler:ete,normalize:Dt,denormalize:bi};class Ue{constructor(e=0,n=0){Ue.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Nt{constructor(e,n,r,i,s,o,a,l,A){Nt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,A)}set(e,n,r,i,s,o,a,l,A){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=A,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],A=r[1],c=r[4],u=r[7],d=r[2],m=r[5],g=r[8],x=i[0],y=i[3],v=i[6],w=i[1],C=i[4],S=i[7],M=i[2],b=i[5],T=i[8];return s[0]=o*x+a*w+l*M,s[3]=o*y+a*C+l*b,s[6]=o*v+a*S+l*T,s[1]=A*x+c*w+u*M,s[4]=A*y+c*C+u*b,s[7]=A*v+c*S+u*T,s[2]=d*x+m*w+g*M,s[5]=d*y+m*C+g*b,s[8]=d*v+m*S+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],A=e[7],c=e[8];return n*o*c-n*a*A-r*s*c+r*a*l+i*s*A-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],A=e[7],c=e[8],u=c*o-a*A,d=a*l-c*s,m=A*s-o*l,g=n*u+r*d+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=u*x,e[1]=(i*A-c*r)*x,e[2]=(a*r-i*o)*x,e[3]=d*x,e[4]=(c*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-A*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),A=Math.sin(s);return this.set(r*l,r*A,-r*(l*o+A*a)+o+e,-i*A,i*l,-i*(-A*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(yB.makeScale(e,n)),this}rotate(e){return this.premultiply(yB.makeRotation(-e)),this}translate(e,n){return this.premultiply(yB.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const yB=new Nt;function jO(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const tte={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Pd(t,e){return new tte[t](e)}function Np(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function VO(){const t=Np("canvas");return t.style.display="block",t}const iF={};function Av(t){t in iF||(iF[t]=!0,console.warn(t))}function nte(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function rte(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function ite(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const sF=new Nt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),oF=new Nt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),kh={[Or]:{transfer:Fp,primaries:Up,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[Vr]:{transfer:Mn,primaries:Up,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[b2]:{transfer:Fp,primaries:Lp,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(oF),fromReference:t=>t.applyMatrix3(sF)},[Cw]:{transfer:Mn,primaries:Lp,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(oF),fromReference:t=>t.applyMatrix3(sF).convertLinearToSRGB()}},ste=new Set([Or,b2]),sn={enabled:!0,_workingColorSpace:Or,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!ste.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=kh[e].toReference,i=kh[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return kh[t].primaries},getTransfer:function(t){return t===ja?Fp:kh[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(kh[e].luminanceCoefficients)}};function Yd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function xB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Vu;class zO{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Vu===void 0&&(Vu=Np("canvas")),Vu.width=e.width,Vu.height=e.height;const r=Vu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Vu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Np("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Yd(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Yd(n[r]/255)*255):n[r]=Yd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ote=0;class Ic{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ote++}),this.uuid=ys(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(wB(i[o].image)):s.push(wB(i[o]))}else s=wB(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function wB(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?zO.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ate=0;class Pn extends No{constructor(e=Pn.DEFAULT_IMAGE,n=Pn.DEFAULT_MAPPING,r=fs,i=fs,s=tr,o=Xs,a=Ai,l=Io,A=Pn.DEFAULT_ANISOTROPY,c=ja){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ate++}),this.uuid=ys(),this.name="",this.source=new Ic(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=A,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==fw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case IA:e.x=e.x-Math.floor(e.x);break;case fs:e.x=e.x<0?0:1;break;case Tf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case IA:e.y=e.y-Math.floor(e.y);break;case fs:e.y=e.y<0?0:1;break;case Tf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Pn.DEFAULT_IMAGE=null;Pn.DEFAULT_MAPPING=fw;Pn.DEFAULT_ANISOTROPY=1;class an{constructor(e=0,n=0,r=0,i=1){an.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,A=l[0],c=l[4],u=l[8],d=l[1],m=l[5],g=l[9],x=l[2],y=l[6],v=l[10];if(Math.abs(c-d)<.01&&Math.abs(u-x)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+d)<.1&&Math.abs(u+x)<.1&&Math.abs(g+y)<.1&&Math.abs(A+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(A+1)/2,S=(m+1)/2,M=(v+1)/2,b=(c+d)/4,T=(u+x)/4,L=(g+y)/4;return C>S&&C>M?C<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(C),i=b/r,s=T/r):S>M?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=b/i,s=L/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=T/s,i=L/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-g)*(y-g)+(u-x)*(u-x)+(d-c)*(d-c));return Math.abs(w)<.001&&(w=1),this.x=(y-g)/w,this.y=(u-x)/w,this.z=(d-c)/w,this.w=Math.acos((A+m+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class GO extends No{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new an(0,0,e,n),this.scissorTest=!1,this.viewport=new an(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:tr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Pn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ic(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fo extends GO{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Bw extends Pn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Sr,this.minFilter=Sr,this.wrapR=fs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class lte extends Fo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Bw(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class T5 extends Pn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Sr,this.minFilter=Sr,this.wrapR=fs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ate extends Fo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new T5(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Pr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],A=r[i+1],c=r[i+2],u=r[i+3];const d=s[o+0],m=s[o+1],g=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=A,e[n+2]=c,e[n+3]=u;return}if(a===1){e[n+0]=d,e[n+1]=m,e[n+2]=g,e[n+3]=x;return}if(u!==x||l!==d||A!==m||c!==g){let y=1-a;const v=l*d+A*m+c*g+u*x,w=v>=0?1:-1,C=1-v*v;if(C>Number.EPSILON){const M=Math.sqrt(C),b=Math.atan2(M,v*w);y=Math.sin(y*b)/M,a=Math.sin(a*b)/M}const S=a*w;if(l=l*y+d*S,A=A*y+m*S,c=c*y+g*S,u=u*y+x*S,y===1-a){const M=1/Math.sqrt(l*l+A*A+c*c+u*u);l*=M,A*=M,c*=M,u*=M}}e[n]=l,e[n+1]=A,e[n+2]=c,e[n+3]=u}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],A=r[i+2],c=r[i+3],u=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*u+l*m-A*d,e[n+1]=l*g+c*d+A*u-a*m,e[n+2]=A*g+c*m+a*d-l*u,e[n+3]=c*g-a*u-l*d-A*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,A=a(r/2),c=a(i/2),u=a(s/2),d=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*c*u+A*m*g,this._y=A*m*u-d*c*g,this._z=A*c*g+d*m*u,this._w=A*c*u-d*m*g;break;case"YXZ":this._x=d*c*u+A*m*g,this._y=A*m*u-d*c*g,this._z=A*c*g-d*m*u,this._w=A*c*u+d*m*g;break;case"ZXY":this._x=d*c*u-A*m*g,this._y=A*m*u+d*c*g,this._z=A*c*g+d*m*u,this._w=A*c*u-d*m*g;break;case"ZYX":this._x=d*c*u-A*m*g,this._y=A*m*u+d*c*g,this._z=A*c*g-d*m*u,this._w=A*c*u+d*m*g;break;case"YZX":this._x=d*c*u+A*m*g,this._y=A*m*u+d*c*g,this._z=A*c*g-d*m*u,this._w=A*c*u-d*m*g;break;case"XZY":this._x=d*c*u-A*m*g,this._y=A*m*u-d*c*g,this._z=A*c*g+d*m*u,this._w=A*c*u+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],A=n[2],c=n[6],u=n[10],d=r+a+u;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-A)*m,this._z=(o-i)*m}else if(r>a&&r>u){const m=2*Math.sqrt(1+r-a-u);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+A)/m}else if(a>u){const m=2*Math.sqrt(1+a-r-u);this._w=(s-A)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+u-r-a);this._w=(o-i)/m,this._x=(s+A)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,A=n._z,c=n._w;return this._x=r*c+o*a+i*A-s*l,this._y=i*c+o*l+s*a-r*A,this._z=s*c+o*A+r*l-i*a,this._w=o*c-r*a-i*l-s*A,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const A=Math.sqrt(l),c=Math.atan2(A,a),u=Math.sin((1-n)*c)/A,d=Math.sin(n*c)/A;return this._w=o*u+this._w*d,this._x=r*u+this._x*d,this._y=i*u+this._y*d,this._z=s*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,n=0,r=0){K.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(aF.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(aF.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,A=2*(o*i-a*r),c=2*(a*n-s*i),u=2*(s*r-o*n);return this.x=n+l*A+o*u-a*c,this.y=r+l*c+a*A-s*u,this.z=i+l*u+s*c-o*A,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return CB.copy(this).projectOnVector(e),this.sub(CB)}reflect(e){return this.sub(CB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const CB=new K,aF=new Pr;class ci{constructor(e=new K(1/0,1/0,1/0),n=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(co.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(co.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=co.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,co):co.fromBufferAttribute(s,o),co.applyMatrix4(e.matrixWorld),this.expandByPoint(co);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),gg.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),gg.copy(r.boundingBox)),gg.applyMatrix4(e.matrixWorld),this.union(gg)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,co),co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Qh),vg.subVectors(this.max,Qh),zu.subVectors(e.a,Qh),Gu.subVectors(e.b,Qh),Ku.subVectors(e.c,Qh),Bl.subVectors(Gu,zu),Sl.subVectors(Ku,Gu),YA.subVectors(zu,Ku);let n=[0,-Bl.z,Bl.y,0,-Sl.z,Sl.y,0,-YA.z,YA.y,Bl.z,0,-Bl.x,Sl.z,0,-Sl.x,YA.z,0,-YA.x,-Bl.y,Bl.x,0,-Sl.y,Sl.x,0,-YA.y,YA.x,0];return!BB(n,zu,Gu,Ku,vg)||(n=[1,0,0,0,1,0,0,0,1],!BB(n,zu,Gu,Ku,vg))?!1:(yg.crossVectors(Bl,Sl),n=[yg.x,yg.y,yg.z],BB(n,zu,Gu,Ku,vg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_a),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _a=[new K,new K,new K,new K,new K,new K,new K,new K],co=new K,gg=new ci,zu=new K,Gu=new K,Ku=new K,Bl=new K,Sl=new K,YA=new K,Qh=new K,vg=new K,yg=new K,qA=new K;function BB(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){qA.fromArray(t,s);const a=i.x*Math.abs(qA.x)+i.y*Math.abs(qA.y)+i.z*Math.abs(qA.z),l=e.dot(qA),A=n.dot(qA),c=r.dot(qA);if(Math.max(-Math.max(l,A,c),Math.min(l,A,c))>a)return!1}return!0}const cte=new ci,Hh=new K,SB=new K;class Wr{constructor(e=new K,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):cte.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hh.subVectors(e,this.center);const n=Hh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Hh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(SB.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hh.copy(e.center).add(SB)),this.expandByPoint(Hh.copy(e.center).sub(SB))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ea=new K,_B=new K,xg=new K,_l=new K,EB=new K,wg=new K,bB=new K;class Cu{constructor(e=new K,n=new K(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ea)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ea.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ea.copy(this.origin).addScaledVector(this.direction,n),Ea.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){_B.copy(e).add(n).multiplyScalar(.5),xg.copy(n).sub(e).normalize(),_l.copy(this.origin).sub(_B);const s=e.distanceTo(n)*.5,o=-this.direction.dot(xg),a=_l.dot(this.direction),l=-_l.dot(xg),A=_l.lengthSq(),c=Math.abs(1-o*o);let u,d,m,g;if(c>0)if(u=o*l-a,d=o*a-l,g=s*c,u>=0)if(d>=-g)if(d<=g){const x=1/c;u*=x,d*=x,m=u*(u+o*d+2*a)+d*(o*u+d+2*l)+A}else d=s,u=Math.max(0,-(o*d+a)),m=-u*u+d*(d+2*l)+A;else d=-s,u=Math.max(0,-(o*d+a)),m=-u*u+d*(d+2*l)+A;else d<=-g?(u=Math.max(0,-(-o*s+a)),d=u>0?-s:Math.min(Math.max(-s,-l),s),m=-u*u+d*(d+2*l)+A):d<=g?(u=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+A):(u=Math.max(0,-(o*s+a)),d=u>0?s:Math.min(Math.max(-s,-l),s),m=-u*u+d*(d+2*l)+A);else d=o>0?-s:s,u=Math.max(0,-(o*d+a)),m=-u*u+d*(d+2*l)+A;return r&&r.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(_B).addScaledVector(xg,d),m}intersectSphere(e,n){Ea.subVectors(e.center,this.origin);const r=Ea.dot(this.direction),i=Ea.dot(Ea)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const A=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return A>=0?(r=(e.min.x-d.x)*A,i=(e.max.x-d.x)*A):(r=(e.max.x-d.x)*A,i=(e.min.x-d.x)*A),c>=0?(s=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),u>=0?(a=(e.min.z-d.z)*u,l=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,l=(e.min.z-d.z)*u),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ea)!==null}intersectTriangle(e,n,r,i,s){EB.subVectors(n,e),wg.subVectors(r,e),bB.crossVectors(EB,wg);let o=this.direction.dot(bB),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;_l.subVectors(this.origin,e);const l=a*this.direction.dot(wg.crossVectors(_l,wg));if(l<0)return null;const A=a*this.direction.dot(EB.cross(_l));if(A<0||l+A>o)return null;const c=-a*_l.dot(bB);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xt{constructor(e,n,r,i,s,o,a,l,A,c,u,d,m,g,x,y){xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,A,c,u,d,m,g,x,y)}set(e,n,r,i,s,o,a,l,A,c,u,d,m,g,x,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=A,v[6]=c,v[10]=u,v[14]=d,v[3]=m,v[7]=g,v[11]=x,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Wu.setFromMatrixColumn(e,0).length(),s=1/Wu.setFromMatrixColumn(e,1).length(),o=1/Wu.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),A=Math.sin(i),c=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const d=o*c,m=o*u,g=a*c,x=a*u;n[0]=l*c,n[4]=-l*u,n[8]=A,n[1]=m+g*A,n[5]=d-x*A,n[9]=-a*l,n[2]=x-d*A,n[6]=g+m*A,n[10]=o*l}else if(e.order==="YXZ"){const d=l*c,m=l*u,g=A*c,x=A*u;n[0]=d+x*a,n[4]=g*a-m,n[8]=o*A,n[1]=o*u,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=x+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*c,m=l*u,g=A*c,x=A*u;n[0]=d-x*a,n[4]=-o*u,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=x-d*a,n[2]=-o*A,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*c,m=o*u,g=a*c,x=a*u;n[0]=l*c,n[4]=g*A-m,n[8]=d*A+x,n[1]=l*u,n[5]=x*A+d,n[9]=m*A-g,n[2]=-A,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*A,g=a*l,x=a*A;n[0]=l*c,n[4]=x-d*u,n[8]=g*u+m,n[1]=u,n[5]=o*c,n[9]=-a*c,n[2]=-A*c,n[6]=m*u+g,n[10]=d-x*u}else if(e.order==="XZY"){const d=o*l,m=o*A,g=a*l,x=a*A;n[0]=l*c,n[4]=-u,n[8]=A*c,n[1]=d*u+x,n[5]=o*c,n[9]=m*u-g,n[2]=g*u-m,n[6]=a*c,n[10]=x*u+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ute,e,dte)}lookAt(e,n,r){const i=this.elements;return ss.subVectors(e,n),ss.lengthSq()===0&&(ss.z=1),ss.normalize(),El.crossVectors(r,ss),El.lengthSq()===0&&(Math.abs(r.z)===1?ss.x+=1e-4:ss.z+=1e-4,ss.normalize(),El.crossVectors(r,ss)),El.normalize(),Cg.crossVectors(ss,El),i[0]=El.x,i[4]=Cg.x,i[8]=ss.x,i[1]=El.y,i[5]=Cg.y,i[9]=ss.y,i[2]=El.z,i[6]=Cg.z,i[10]=ss.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],A=r[12],c=r[1],u=r[5],d=r[9],m=r[13],g=r[2],x=r[6],y=r[10],v=r[14],w=r[3],C=r[7],S=r[11],M=r[15],b=i[0],T=i[4],L=i[8],P=i[12],E=i[1],U=i[5],j=i[9],Q=i[13],G=i[2],J=i[6],k=i[10],V=i[14],N=i[3],W=i[7],Y=i[11],re=i[15];return s[0]=o*b+a*E+l*G+A*N,s[4]=o*T+a*U+l*J+A*W,s[8]=o*L+a*j+l*k+A*Y,s[12]=o*P+a*Q+l*V+A*re,s[1]=c*b+u*E+d*G+m*N,s[5]=c*T+u*U+d*J+m*W,s[9]=c*L+u*j+d*k+m*Y,s[13]=c*P+u*Q+d*V+m*re,s[2]=g*b+x*E+y*G+v*N,s[6]=g*T+x*U+y*J+v*W,s[10]=g*L+x*j+y*k+v*Y,s[14]=g*P+x*Q+y*V+v*re,s[3]=w*b+C*E+S*G+M*N,s[7]=w*T+C*U+S*J+M*W,s[11]=w*L+C*j+S*k+M*Y,s[15]=w*P+C*Q+S*V+M*re,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],A=e[13],c=e[2],u=e[6],d=e[10],m=e[14],g=e[3],x=e[7],y=e[11],v=e[15];return g*(+s*l*u-i*A*u-s*a*d+r*A*d+i*a*m-r*l*m)+x*(+n*l*m-n*A*d+s*o*d-i*o*m+i*A*c-s*l*c)+y*(+n*A*u-n*a*m-s*o*u+r*o*m+s*a*c-r*A*c)+v*(-i*a*c-n*l*u+n*a*d+i*o*u-r*o*d+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],A=e[7],c=e[8],u=e[9],d=e[10],m=e[11],g=e[12],x=e[13],y=e[14],v=e[15],w=u*y*A-x*d*A+x*l*m-a*y*m-u*l*v+a*d*v,C=g*d*A-c*y*A-g*l*m+o*y*m+c*l*v-o*d*v,S=c*x*A-g*u*A+g*a*m-o*x*m-c*a*v+o*u*v,M=g*u*l-c*x*l-g*a*d+o*x*d+c*a*y-o*u*y,b=n*w+r*C+i*S+s*M;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/b;return e[0]=w*T,e[1]=(x*d*s-u*y*s-x*i*m+r*y*m+u*i*v-r*d*v)*T,e[2]=(a*y*s-x*l*s+x*i*A-r*y*A-a*i*v+r*l*v)*T,e[3]=(u*l*s-a*d*s-u*i*A+r*d*A+a*i*m-r*l*m)*T,e[4]=C*T,e[5]=(c*y*s-g*d*s+g*i*m-n*y*m-c*i*v+n*d*v)*T,e[6]=(g*l*s-o*y*s-g*i*A+n*y*A+o*i*v-n*l*v)*T,e[7]=(o*d*s-c*l*s+c*i*A-n*d*A-o*i*m+n*l*m)*T,e[8]=S*T,e[9]=(g*u*s-c*x*s-g*r*m+n*x*m+c*r*v-n*u*v)*T,e[10]=(o*x*s-g*a*s+g*r*A-n*x*A-o*r*v+n*a*v)*T,e[11]=(c*a*s-o*u*s-c*r*A+n*u*A+o*r*m-n*a*m)*T,e[12]=M*T,e[13]=(c*x*i-g*u*i+g*r*d-n*x*d-c*r*y+n*u*y)*T,e[14]=(g*a*i-o*x*i-g*r*l+n*x*l+o*r*y-n*a*y)*T,e[15]=(o*u*i-c*a*i+c*r*l-n*u*l-o*r*d+n*a*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,A=s*o,c=s*a;return this.set(A*o+r,A*a-i*l,A*l+i*a,0,A*a+i*l,c*a+r,c*l-i*o,0,A*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,A=s+s,c=o+o,u=a+a,d=s*A,m=s*c,g=s*u,x=o*c,y=o*u,v=a*u,w=l*A,C=l*c,S=l*u,M=r.x,b=r.y,T=r.z;return i[0]=(1-(x+v))*M,i[1]=(m+S)*M,i[2]=(g-C)*M,i[3]=0,i[4]=(m-S)*b,i[5]=(1-(d+v))*b,i[6]=(y+w)*b,i[7]=0,i[8]=(g+C)*T,i[9]=(y-w)*T,i[10]=(1-(d+x))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Wu.set(i[0],i[1],i[2]).length();const o=Wu.set(i[4],i[5],i[6]).length(),a=Wu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],uo.copy(this);const A=1/s,c=1/o,u=1/a;return uo.elements[0]*=A,uo.elements[1]*=A,uo.elements[2]*=A,uo.elements[4]*=c,uo.elements[5]*=c,uo.elements[6]*=c,uo.elements[8]*=u,uo.elements[9]*=u,uo.elements[10]*=u,n.setFromRotationMatrix(uo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=aa){const l=this.elements,A=2*s/(n-e),c=2*s/(r-i),u=(n+e)/(n-e),d=(r+i)/(r-i);let m,g;if(a===aa)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Pp)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=A,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=c,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=aa){const l=this.elements,A=1/(n-e),c=1/(r-i),u=1/(o-s),d=(n+e)*A,m=(r+i)*c;let g,x;if(a===aa)g=(o+s)*u,x=-2*u;else if(a===Pp)g=s*u,x=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*A,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Wu=new K,uo=new xt,ute=new K(0,0,0),dte=new K(1,1,1),El=new K,Cg=new K,ss=new K,lF=new xt,AF=new Pr;class Ss{constructor(e=0,n=0,r=0,i=Ss.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],A=i[5],c=i[9],u=i[2],d=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,A),this._z=0);break;case"YXZ":this._x=Math.asin(-Jn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,A)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(Jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,m),this._z=Math.atan2(-o,A)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Jn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,A));break;case"YZX":this._z=Math.asin(Jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,A),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,A),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return lF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lF,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return AF.setFromEuler(this),this.setFromQuaternion(AF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ss.DEFAULT_ORDER="XYZ";class Xc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let fte=0;const cF=new K,Xu=new Pr,ba=new xt,Bg=new K,jh=new K,hte=new K,pte=new Pr,uF=new K(1,0,0),dF=new K(0,1,0),fF=new K(0,0,1),hF={type:"added"},mte={type:"removed"},$u={type:"childadded",child:null},MB={type:"childremoved",child:null};class tn extends No{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fte++}),this.uuid=ys(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tn.DEFAULT_UP.clone();const e=new K,n=new Ss,r=new Pr,i=new K(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xt},normalMatrix:{value:new Nt}}),this.matrix=new xt,this.matrixWorld=new xt,this.matrixAutoUpdate=tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Xc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Xu.setFromAxisAngle(e,n),this.quaternion.multiply(Xu),this}rotateOnWorldAxis(e,n){return Xu.setFromAxisAngle(e,n),this.quaternion.premultiply(Xu),this}rotateX(e){return this.rotateOnAxis(uF,e)}rotateY(e){return this.rotateOnAxis(dF,e)}rotateZ(e){return this.rotateOnAxis(fF,e)}translateOnAxis(e,n){return cF.copy(e).applyQuaternion(this.quaternion),this.position.add(cF.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(uF,e)}translateY(e){return this.translateOnAxis(dF,e)}translateZ(e){return this.translateOnAxis(fF,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ba.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Bg.copy(e):Bg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),jh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ba.lookAt(jh,Bg,this.up):ba.lookAt(Bg,jh,this.up),this.quaternion.setFromRotationMatrix(ba),i&&(ba.extractRotation(i.matrixWorld),Xu.setFromRotationMatrix(ba),this.quaternion.premultiply(Xu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hF),$u.child=e,this.dispatchEvent($u),$u.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(mte),MB.child=e,this.dispatchEvent(MB),MB.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ba.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ba.multiply(e.parent.matrixWorld)),e.applyMatrix4(ba),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hF),$u.child=e,this.dispatchEvent($u),$u.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jh,e,hte),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jh,pte,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let A=0,c=l.length;A<c;A++){const u=l[A];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,A=this.material.length;l<A;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),A=o(e.textures),c=o(e.images),u=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),A.length>0&&(r.textures=A),c.length>0&&(r.images=c),u.length>0&&(r.shapes=u),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const A in a){const c=a[A];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}tn.DEFAULT_UP=new K(0,1,0);tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fo=new K,Ma=new K,TB=new K,Ta=new K,Yu=new K,qu=new K,pF=new K,IB=new K,FB=new K,UB=new K,LB=new an,RB=new an,PB=new an;class Gi{constructor(e=new K,n=new K,r=new K){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),fo.subVectors(e,n),i.cross(fo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){fo.subVectors(i,n),Ma.subVectors(r,n),TB.subVectors(e,n);const o=fo.dot(fo),a=fo.dot(Ma),l=fo.dot(TB),A=Ma.dot(Ma),c=Ma.dot(TB),u=o*A-a*a;if(u===0)return s.set(0,0,0),null;const d=1/u,m=(A*l-a*c)*d,g=(o*c-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ta)===null?!1:Ta.x>=0&&Ta.y>=0&&Ta.x+Ta.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Ta)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ta.x),l.addScaledVector(o,Ta.y),l.addScaledVector(a,Ta.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return LB.setScalar(0),RB.setScalar(0),PB.setScalar(0),LB.fromBufferAttribute(e,n),RB.fromBufferAttribute(e,r),PB.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(LB,s.x),o.addScaledVector(RB,s.y),o.addScaledVector(PB,s.z),o}static isFrontFacing(e,n,r,i){return fo.subVectors(r,n),Ma.subVectors(e,n),fo.cross(Ma).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fo.subVectors(this.c,this.b),Ma.subVectors(this.a,this.b),fo.cross(Ma).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Gi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Gi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Gi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Gi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Gi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Yu.subVectors(i,r),qu.subVectors(s,r),IB.subVectors(e,r);const l=Yu.dot(IB),A=qu.dot(IB);if(l<=0&&A<=0)return n.copy(r);FB.subVectors(e,i);const c=Yu.dot(FB),u=qu.dot(FB);if(c>=0&&u<=c)return n.copy(i);const d=l*u-c*A;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Yu,o);UB.subVectors(e,s);const m=Yu.dot(UB),g=qu.dot(UB);if(g>=0&&m<=g)return n.copy(s);const x=m*A-l*g;if(x<=0&&A>=0&&g<=0)return a=A/(A-g),n.copy(r).addScaledVector(qu,a);const y=c*g-m*u;if(y<=0&&u-c>=0&&m-g>=0)return pF.subVectors(s,i),a=(u-c)/(u-c+(m-g)),n.copy(i).addScaledVector(pF,a);const v=1/(y+x+d);return o=x*v,a=d*v,n.copy(r).addScaledVector(Yu,o).addScaledVector(qu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const KO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bl={h:0,s:0,l:0},Sg={h:0,s:0,l:0};function NB(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class We{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Vr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=sn.workingColorSpace){return this.r=e,this.g=n,this.b=r,sn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=sn.workingColorSpace){if(e=M5(e,1),n=Jn(n,0,1),r=Jn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=NB(o,s,e+1/3),this.g=NB(o,s,e),this.b=NB(o,s,e-1/3)}return sn.toWorkingColorSpace(this,i),this}setStyle(e,n=Vr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Vr){const r=KO[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Yd(e.r),this.g=Yd(e.g),this.b=Yd(e.b),this}copyLinearToSRGB(e){return this.r=xB(e.r),this.g=xB(e.g),this.b=xB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vr){return sn.fromWorkingColorSpace(ri.copy(this),e),Math.round(Jn(ri.r*255,0,255))*65536+Math.round(Jn(ri.g*255,0,255))*256+Math.round(Jn(ri.b*255,0,255))}getHexString(e=Vr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=sn.workingColorSpace){sn.fromWorkingColorSpace(ri.copy(this),n);const r=ri.r,i=ri.g,s=ri.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,A;const c=(a+o)/2;if(a===o)l=0,A=0;else{const u=o-a;switch(A=c<=.5?u/(o+a):u/(2-o-a),o){case r:l=(i-s)/u+(i<s?6:0);break;case i:l=(s-r)/u+2;break;case s:l=(r-i)/u+4;break}l/=6}return e.h=l,e.s=A,e.l=c,e}getRGB(e,n=sn.workingColorSpace){return sn.fromWorkingColorSpace(ri.copy(this),n),e.r=ri.r,e.g=ri.g,e.b=ri.b,e}getStyle(e=Vr){sn.fromWorkingColorSpace(ri.copy(this),e);const n=ri.r,r=ri.g,i=ri.b;return e!==Vr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(bl),this.setHSL(bl.h+e,bl.s+n,bl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(bl),e.getHSL(Sg);const r=V0(bl.h,Sg.h,n),i=V0(bl.s,Sg.s,n),s=V0(bl.l,Sg.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ri=new We;We.NAMES=KO;let gte=0;class pr extends No{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gte++}),this.uuid=ys(),this.name="",this.type="Material",this.blending=Gc,this.side=ha,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=fy,this.blendDst=hy,this.blendEquation=Vl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new We(0,0,0),this.blendAlpha=0,this.depthFunc=lu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=KE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pc,this.stencilZFail=pc,this.stencilZPass=pc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Gc&&(r.blending=this.blending),this.side!==ha&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==fy&&(r.blendSrc=this.blendSrc),this.blendDst!==hy&&(r.blendDst=this.blendDst),this.blendEquation!==Vl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==lu&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==KE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==pc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==pc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==pc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class hs extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=_2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Va=vte();function vte(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const A=l-127;A<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):A<-14?(r[l]=1024>>-A-14,r[l|256]=1024>>-A-14|32768,i[l]=-A-1,i[l|256]=-A-1):A<=15?(r[l]=A+15<<10,r[l|256]=A+15<<10|32768,i[l]=13,i[l|256]=13):A<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let A=l<<13,c=0;for(;!(A&8388608);)A<<=1,c-=8388608;A&=-8388609,c+=947912704,s[l]=A|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Qi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Jn(t,-65504,65504),Va.floatView[0]=t;const e=Va.uint32View[0],n=e>>23&511;return Va.baseTable[n]+((e&8388607)>>Va.shiftTable[n])}function g0(t){const e=t>>10;return Va.uint32View[0]=Va.mantissaTable[Va.offsetTable[e]+(t&1023)]+Va.exponentTable[e],Va.floatView[0]}const yte={toHalfFloat:Qi,fromHalfFloat:g0},dr=new K,_g=new Ue;class mn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Rp,this.updateRanges=[],this.gpuType=Wi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)_g.fromBufferAttribute(this,n),_g.applyMatrix3(e),this.setXY(n,_g.x,_g.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.applyMatrix3(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.applyMatrix4(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.applyNormalMatrix(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.transformDirection(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=bi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Dt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=bi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=bi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=bi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=bi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array),s=Dt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rp&&(e.usage=this.usage),e}}class xte extends mn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class wte extends mn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Cte extends mn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Bte extends mn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class I5 extends mn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Ste extends mn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class F5 extends mn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class _te extends mn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=g0(this.array[e*this.itemSize]);return this.normalized&&(n=bi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize]=Qi(n),this}getY(e){let n=g0(this.array[e*this.itemSize+1]);return this.normalized&&(n=bi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+1]=Qi(n),this}getZ(e){let n=g0(this.array[e*this.itemSize+2]);return this.normalized&&(n=bi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+2]=Qi(n),this}getW(e){let n=g0(this.array[e*this.itemSize+3]);return this.normalized&&(n=bi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+3]=Qi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array)),this.array[e+0]=Qi(n),this.array[e+1]=Qi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array)),this.array[e+0]=Qi(n),this.array[e+1]=Qi(r),this.array[e+2]=Qi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array),s=Dt(s,this.array)),this.array[e+0]=Qi(n),this.array[e+1]=Qi(r),this.array[e+2]=Qi(i),this.array[e+3]=Qi(s),this}}class dt extends mn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Ete=0;const Ns=new xt,DB=new tn,Zu=new K,os=new ci,Vh=new ci,Fr=new K;class kt extends No{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ete++}),this.uuid=ys(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(jO(e)?F5:I5)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Nt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ns.makeRotationFromQuaternion(e),this.applyMatrix4(Ns),this}rotateX(e){return Ns.makeRotationX(e),this.applyMatrix4(Ns),this}rotateY(e){return Ns.makeRotationY(e),this.applyMatrix4(Ns),this}rotateZ(e){return Ns.makeRotationZ(e),this.applyMatrix4(Ns),this}translate(e,n,r){return Ns.makeTranslation(e,n,r),this.applyMatrix4(Ns),this}scale(e,n,r){return Ns.makeScale(e,n,r),this.applyMatrix4(Ns),this}lookAt(e){return DB.lookAt(e),DB.updateMatrix(),this.applyMatrix4(DB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zu).negate(),this.translate(Zu.x,Zu.y,Zu.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new dt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ci);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];os.setFromBufferAttribute(s),this.morphTargetsRelative?(Fr.addVectors(this.boundingBox.min,os.min),this.boundingBox.expandByPoint(Fr),Fr.addVectors(this.boundingBox.max,os.max),this.boundingBox.expandByPoint(Fr)):(this.boundingBox.expandByPoint(os.min),this.boundingBox.expandByPoint(os.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(e){const r=this.boundingSphere.center;if(os.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Vh.setFromBufferAttribute(a),this.morphTargetsRelative?(Fr.addVectors(os.min,Vh.min),os.expandByPoint(Fr),Fr.addVectors(os.max,Vh.max),os.expandByPoint(Fr)):(os.expandByPoint(Vh.min),os.expandByPoint(Vh.max))}os.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Fr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Fr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let A=0,c=a.count;A<c;A++)Fr.fromBufferAttribute(a,A),l&&(Zu.fromBufferAttribute(e,A),Fr.add(Zu)),i=Math.max(i,r.distanceToSquared(Fr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<r.count;L++)a[L]=new K,l[L]=new K;const A=new K,c=new K,u=new K,d=new Ue,m=new Ue,g=new Ue,x=new K,y=new K;function v(L,P,E){A.fromBufferAttribute(r,L),c.fromBufferAttribute(r,P),u.fromBufferAttribute(r,E),d.fromBufferAttribute(s,L),m.fromBufferAttribute(s,P),g.fromBufferAttribute(s,E),c.sub(A),u.sub(A),m.sub(d),g.sub(d);const U=1/(m.x*g.y-g.x*m.y);isFinite(U)&&(x.copy(c).multiplyScalar(g.y).addScaledVector(u,-m.y).multiplyScalar(U),y.copy(u).multiplyScalar(m.x).addScaledVector(c,-g.x).multiplyScalar(U),a[L].add(x),a[P].add(x),a[E].add(x),l[L].add(y),l[P].add(y),l[E].add(y))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let L=0,P=w.length;L<P;++L){const E=w[L],U=E.start,j=E.count;for(let Q=U,G=U+j;Q<G;Q+=3)v(e.getX(Q+0),e.getX(Q+1),e.getX(Q+2))}const C=new K,S=new K,M=new K,b=new K;function T(L){M.fromBufferAttribute(i,L),b.copy(M);const P=a[L];C.copy(P),C.sub(M.multiplyScalar(M.dot(P))).normalize(),S.crossVectors(b,P);const U=S.dot(l[L])<0?-1:1;o.setXYZW(L,C.x,C.y,C.z,U)}for(let L=0,P=w.length;L<P;++L){const E=w[L],U=E.start,j=E.count;for(let Q=U,G=U+j;Q<G;Q+=3)T(e.getX(Q+0)),T(e.getX(Q+1)),T(e.getX(Q+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new K,s=new K,o=new K,a=new K,l=new K,A=new K,c=new K,u=new K;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),x=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),c.subVectors(o,s),u.subVectors(i,s),c.cross(u),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),A.fromBufferAttribute(r,y),a.add(c),l.add(c),A.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,A.x,A.y,A.z)}else for(let d=0,m=n.count;d<m;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),c.subVectors(o,s),u.subVectors(i,s),c.cross(u),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Fr.fromBufferAttribute(e,n),Fr.normalize(),e.setXYZ(n,Fr.x,Fr.y,Fr.z)}toNonIndexed(){function e(a,l){const A=a.array,c=a.itemSize,u=a.normalized,d=new A.constructor(l.length*c);let m=0,g=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*c;for(let v=0;v<c;v++)d[g++]=A[m++]}return new mn(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],A=e(l,r);n.setAttribute(a,A)}const s=this.morphAttributes;for(const a in s){const l=[],A=s[a];for(let c=0,u=A.length;c<u;c++){const d=A[c],m=e(d,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const A=o[a];n.addGroup(A.start,A.count,A.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const A in l)l[A]!==void 0&&(e[A]=l[A]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const A=r[l];e.data.attributes[l]=A.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const A=this.morphAttributes[l],c=[];for(let u=0,d=A.length;u<d;u++){const m=A[u];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const A in i){const c=i[A];this.setAttribute(A,c.clone(n))}const s=e.morphAttributes;for(const A in s){const c=[],u=s[A];for(let d=0,m=u.length;d<m;d++)c.push(u[d].clone(n));this.morphAttributes[A]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let A=0,c=o.length;A<c;A++){const u=o[A];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mF=new xt,ZA=new Cu,Eg=new Wr,gF=new K,bg=new K,Mg=new K,Tg=new K,OB=new K,Ig=new K,vF=new K,Fg=new K;class lr extends tn{constructor(e=new kt,n=new hs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Ig.set(0,0,0);for(let l=0,A=s.length;l<A;l++){const c=a[l],u=s[l];c!==0&&(OB.fromBufferAttribute(u,e),o?Ig.addScaledVector(OB,c):Ig.addScaledVector(OB.sub(n),c))}n.add(Ig)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Eg.copy(r.boundingSphere),Eg.applyMatrix4(s),ZA.copy(e.ray).recast(e.near),!(Eg.containsPoint(ZA.origin)===!1&&(ZA.intersectSphere(Eg,gF)===null||ZA.origin.distanceToSquared(gF)>(e.far-e.near)**2))&&(mF.copy(s).invert(),ZA.copy(e.ray).applyMatrix4(mF),!(r.boundingBox!==null&&ZA.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,ZA)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,A=s.attributes.uv,c=s.attributes.uv1,u=s.attributes.normal,d=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,x=d.length;g<x;g++){const y=d[g],v=o[y.materialIndex],w=Math.max(y.start,m.start),C=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let S=w,M=C;S<M;S+=3){const b=a.getX(S),T=a.getX(S+1),L=a.getX(S+2);i=Ug(this,v,e,r,A,c,u,b,T,L),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=g,v=x;y<v;y+=3){const w=a.getX(y),C=a.getX(y+1),S=a.getX(y+2);i=Ug(this,o,e,r,A,c,u,w,C,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,x=d.length;g<x;g++){const y=d[g],v=o[y.materialIndex],w=Math.max(y.start,m.start),C=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let S=w,M=C;S<M;S+=3){const b=S,T=S+1,L=S+2;i=Ug(this,v,e,r,A,c,u,b,T,L),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=g,v=x;y<v;y+=3){const w=y,C=y+1,S=y+2;i=Ug(this,o,e,r,A,c,u,w,C,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function bte(t,e,n,r,i,s,o,a){let l;if(e.side===Ii?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ha,a),l===null)return null;Fg.copy(a),Fg.applyMatrix4(t.matrixWorld);const A=n.ray.origin.distanceTo(Fg);return A<n.near||A>n.far?null:{distance:A,point:Fg.clone(),object:t}}function Ug(t,e,n,r,i,s,o,a,l,A){t.getVertexPosition(a,bg),t.getVertexPosition(l,Mg),t.getVertexPosition(A,Tg);const c=bte(t,e,n,r,bg,Mg,Tg,vF);if(c){const u=new K;Gi.getBarycoord(vF,bg,Mg,Tg,u),i&&(c.uv=Gi.getInterpolatedAttribute(i,a,l,A,u,new Ue)),s&&(c.uv1=Gi.getInterpolatedAttribute(s,a,l,A,u,new Ue)),o&&(c.normal=Gi.getInterpolatedAttribute(o,a,l,A,u,new K),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const d={a,b:l,c:A,normal:new K,materialIndex:0};Gi.getNormal(bg,Mg,Tg,d.normal),c.face=d,c.barycoord=u}return c}class Bu extends kt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],A=[],c=[],u=[];let d=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new dt(A,3)),this.setAttribute("normal",new dt(c,3)),this.setAttribute("uv",new dt(u,2));function g(x,y,v,w,C,S,M,b,T,L,P){const E=S/T,U=M/L,j=S/2,Q=M/2,G=b/2,J=T+1,k=L+1;let V=0,N=0;const W=new K;for(let Y=0;Y<k;Y++){const re=Y*U-Q;for(let Se=0;Se<J;Se++){const Fe=Se*E-j;W[x]=Fe*w,W[y]=re*C,W[v]=G,A.push(W.x,W.y,W.z),W[x]=0,W[y]=0,W[v]=b>0?1:-1,c.push(W.x,W.y,W.z),u.push(Se/T),u.push(1-Y/L),V+=1}}for(let Y=0;Y<L;Y++)for(let re=0;re<T;re++){const Se=d+re+J*Y,Fe=d+re+J*(Y+1),ce=d+(re+1)+J*(Y+1),pe=d+(re+1)+J*Y;l.push(Se,Fe,pe),l.push(Fe,ce,pe),N+=6}a.addGroup(m,N,P),m+=N,d+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Rf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function xi(t){const e={};for(let n=0;n<t.length;n++){const r=Rf(t[n]);for(const i in r)e[i]=r[i]}return e}function Mte(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function WO(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:sn.workingColorSpace}const XO={clone:Rf,merge:xi};var Tte=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ite=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Uo extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Tte,this.fragmentShader=Ite,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rf(e.uniforms),this.uniformsGroups=Mte(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class M2 extends tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xt,this.projectionMatrix=new xt,this.projectionMatrixInverse=new xt,this.coordinateSystem=aa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ml=new K,yF=new Ue,xF=new Ue;class er extends M2{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Lf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lf*2*Math.atan(Math.tan(Wc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ml.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ml.x,Ml.y).multiplyScalar(-e/Ml.z),Ml.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ml.x,Ml.y).multiplyScalar(-e/Ml.z)}getViewSize(e,n){return this.getViewBounds(e,yF,xF),n.subVectors(xF,yF)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Wc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,A=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/A,i*=o.width/l,r*=o.height/A}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ju=-90,ed=1;class $O extends tn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new er(Ju,ed,e,n);i.layers=this.layers,this.add(i);const s=new er(Ju,ed,e,n);s.layers=this.layers,this.add(s);const o=new er(Ju,ed,e,n);o.layers=this.layers,this.add(o);const a=new er(Ju,ed,e,n);a.layers=this.layers,this.add(a);const l=new er(Ju,ed,e,n);l.layers=this.layers,this.add(l);const A=new er(Ju,ed,e,n);A.layers=this.layers,this.add(A)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const A of n)this.remove(A);if(e===aa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Pp)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const A of n)this.add(A),A.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,A,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,A),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(u,d,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class T2 extends Pn{constructor(e,n,r,i,s,o,a,l,A,c){e=e!==void 0?e:[],n=n!==void 0?n:rl,super(e,n,r,i,s,o,a,l,A,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class YO extends Fo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new T2(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:tr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Bu(5,5,5),s=new Uo({name:"CubemapFromEquirect",uniforms:Rf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ii,blending:$a});s.uniforms.tEquirect.value=n;const o=new lr(i,s),a=n.minFilter;return n.minFilter===Xs&&(n.minFilter=tr),new $O(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const kB=new K,Fte=new K,Ute=new Nt;class ka{constructor(e=new K(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=kB.subVectors(r,n).cross(Fte.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(kB),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Ute.getNormalMatrix(e),i=this.coplanarPoint(kB).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const JA=new Wr,Lg=new K;class I2{constructor(e=new ka,n=new ka,r=new ka,i=new ka,s=new ka,o=new ka){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=aa){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],A=i[4],c=i[5],u=i[6],d=i[7],m=i[8],g=i[9],x=i[10],y=i[11],v=i[12],w=i[13],C=i[14],S=i[15];if(r[0].setComponents(l-s,d-A,y-m,S-v).normalize(),r[1].setComponents(l+s,d+A,y+m,S+v).normalize(),r[2].setComponents(l+o,d+c,y+g,S+w).normalize(),r[3].setComponents(l-o,d-c,y-g,S-w).normalize(),r[4].setComponents(l-a,d-u,y-x,S-C).normalize(),n===aa)r[5].setComponents(l+a,d+u,y+x,S+C).normalize();else if(n===Pp)r[5].setComponents(a,u,x,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),JA.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),JA.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(JA)}intersectsSprite(e){return JA.center.set(0,0,0),JA.radius=.7071067811865476,JA.applyMatrix4(e.matrixWorld),this.intersectsSphere(JA)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Lg.x=i.normal.x>0?e.max.x:e.min.x,Lg.y=i.normal.y>0?e.max.y:e.min.y,Lg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Lg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qO(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Lte(t){const e=new WeakMap;function n(a,l){const A=a.array,c=a.usage,u=A.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,A,c),a.onUploadCallback();let m;if(A instanceof Float32Array)m=t.FLOAT;else if(A instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(A instanceof Int16Array)m=t.SHORT;else if(A instanceof Uint32Array)m=t.UNSIGNED_INT;else if(A instanceof Int32Array)m=t.INT;else if(A instanceof Int8Array)m=t.BYTE;else if(A instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(A instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+A);return{buffer:d,type:m,bytesPerElement:A.BYTES_PER_ELEMENT,version:a.version,size:u}}function r(a,l,A){const c=l.array,u=l.updateRanges;if(t.bindBuffer(A,a),u.length===0)t.bufferSubData(A,0,c);else{u.sort((m,g)=>m.start-g.start);let d=0;for(let m=1;m<u.length;m++){const g=u[d],x=u[m];x.start<=g.start+g.count+1?g.count=Math.max(g.count,x.start+x.count-g.start):(++d,u[d]=x)}u.length=d+1;for(let m=0,g=u.length;m<g;m++){const x=u[m];t.bufferSubData(A,x.start*c.BYTES_PER_ELEMENT,c,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const c=e.get(a);(!c||c.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const A=e.get(a);if(A===void 0)e.set(a,n(a,l));else if(A.version<a.version){if(A.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(A.buffer,a,l),A.version=a.version}}return{get:i,remove:s,update:o}}class eh extends kt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),A=a+1,c=l+1,u=e/a,d=n/l,m=[],g=[],x=[],y=[];for(let v=0;v<c;v++){const w=v*d-o;for(let C=0;C<A;C++){const S=C*u-s;g.push(S,-w,0),x.push(0,0,1),y.push(C/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let w=0;w<a;w++){const C=w+A*v,S=w+A*(v+1),M=w+1+A*(v+1),b=w+1+A*v;m.push(C,S,b),m.push(S,M,b)}this.setIndex(m),this.setAttribute("position",new dt(g,3)),this.setAttribute("normal",new dt(x,3)),this.setAttribute("uv",new dt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eh(e.width,e.height,e.widthSegments,e.heightSegments)}}var Rte=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Pte=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Nte=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Dte=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ote=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,kte=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qte=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Hte=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,jte=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Vte=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,zte=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Gte=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Kte=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Wte=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Xte=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$te=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Yte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Zte=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Jte=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ene=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tne=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,nne=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,rne=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ine=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sne=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,one=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ane=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lne=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ane=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,cne="gl_FragColor = linearToOutputTexel( gl_FragColor );",une=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dne=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,fne=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,hne=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,pne=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,mne=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,gne=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vne=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,yne=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,xne=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wne=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Cne=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Bne=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Sne=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_ne=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Ene=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,bne=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Mne=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Tne=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ine=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Fne=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Une=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Lne=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Rne=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Pne=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Nne=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Dne=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,One=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kne=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Qne=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Hne=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,jne=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Vne=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zne=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Gne=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Kne=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Wne=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Xne=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$ne=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Yne=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qne=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Zne=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Jne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ere=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tre=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nre=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,rre=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ire=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sre=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ore=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,are=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lre=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Are=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cre=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ure=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dre=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,fre=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hre=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pre=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,mre=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,gre=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,vre=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yre=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,xre=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,wre=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Cre=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Bre=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Sre=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_re=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ere=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,bre=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Mre=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Tre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ire=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Fre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Ure=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Lre=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Rre=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nre=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Dre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ore=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Qre=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Hre=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jre=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Vre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,zre=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Gre=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Kre=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Wre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Xre=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$re=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yre=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qre=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Zre=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jre=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,eie=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tie=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nie=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rie=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,iie=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sie=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oie=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aie=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Aie=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cie=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,uie=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,die=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Qt={alphahash_fragment:Rte,alphahash_pars_fragment:Pte,alphamap_fragment:Nte,alphamap_pars_fragment:Dte,alphatest_fragment:Ote,alphatest_pars_fragment:kte,aomap_fragment:Qte,aomap_pars_fragment:Hte,batching_pars_vertex:jte,batching_vertex:Vte,begin_vertex:zte,beginnormal_vertex:Gte,bsdfs:Kte,iridescence_fragment:Wte,bumpmap_pars_fragment:Xte,clipping_planes_fragment:$te,clipping_planes_pars_fragment:Yte,clipping_planes_pars_vertex:qte,clipping_planes_vertex:Zte,color_fragment:Jte,color_pars_fragment:ene,color_pars_vertex:tne,color_vertex:nne,common:rne,cube_uv_reflection_fragment:ine,defaultnormal_vertex:sne,displacementmap_pars_vertex:one,displacementmap_vertex:ane,emissivemap_fragment:lne,emissivemap_pars_fragment:Ane,colorspace_fragment:cne,colorspace_pars_fragment:une,envmap_fragment:dne,envmap_common_pars_fragment:fne,envmap_pars_fragment:hne,envmap_pars_vertex:pne,envmap_physical_pars_fragment:Ene,envmap_vertex:mne,fog_vertex:gne,fog_pars_vertex:vne,fog_fragment:yne,fog_pars_fragment:xne,gradientmap_pars_fragment:wne,lightmap_pars_fragment:Cne,lights_lambert_fragment:Bne,lights_lambert_pars_fragment:Sne,lights_pars_begin:_ne,lights_toon_fragment:bne,lights_toon_pars_fragment:Mne,lights_phong_fragment:Tne,lights_phong_pars_fragment:Ine,lights_physical_fragment:Fne,lights_physical_pars_fragment:Une,lights_fragment_begin:Lne,lights_fragment_maps:Rne,lights_fragment_end:Pne,logdepthbuf_fragment:Nne,logdepthbuf_pars_fragment:Dne,logdepthbuf_pars_vertex:One,logdepthbuf_vertex:kne,map_fragment:Qne,map_pars_fragment:Hne,map_particle_fragment:jne,map_particle_pars_fragment:Vne,metalnessmap_fragment:zne,metalnessmap_pars_fragment:Gne,morphinstance_vertex:Kne,morphcolor_vertex:Wne,morphnormal_vertex:Xne,morphtarget_pars_vertex:$ne,morphtarget_vertex:Yne,normal_fragment_begin:qne,normal_fragment_maps:Zne,normal_pars_fragment:Jne,normal_pars_vertex:ere,normal_vertex:tre,normalmap_pars_fragment:nre,clearcoat_normal_fragment_begin:rre,clearcoat_normal_fragment_maps:ire,clearcoat_pars_fragment:sre,iridescence_pars_fragment:ore,opaque_fragment:are,packing:lre,premultiplied_alpha_fragment:Are,project_vertex:cre,dithering_fragment:ure,dithering_pars_fragment:dre,roughnessmap_fragment:fre,roughnessmap_pars_fragment:hre,shadowmap_pars_fragment:pre,shadowmap_pars_vertex:mre,shadowmap_vertex:gre,shadowmask_pars_fragment:vre,skinbase_vertex:yre,skinning_pars_vertex:xre,skinning_vertex:wre,skinnormal_vertex:Cre,specularmap_fragment:Bre,specularmap_pars_fragment:Sre,tonemapping_fragment:_re,tonemapping_pars_fragment:Ere,transmission_fragment:bre,transmission_pars_fragment:Mre,uv_pars_fragment:Tre,uv_pars_vertex:Ire,uv_vertex:Fre,worldpos_vertex:Ure,background_vert:Lre,background_frag:Rre,backgroundCube_vert:Pre,backgroundCube_frag:Nre,cube_vert:Dre,cube_frag:Ore,depth_vert:kre,depth_frag:Qre,distanceRGBA_vert:Hre,distanceRGBA_frag:jre,equirect_vert:Vre,equirect_frag:zre,linedashed_vert:Gre,linedashed_frag:Kre,meshbasic_vert:Wre,meshbasic_frag:Xre,meshlambert_vert:$re,meshlambert_frag:Yre,meshmatcap_vert:qre,meshmatcap_frag:Zre,meshnormal_vert:Jre,meshnormal_frag:eie,meshphong_vert:tie,meshphong_frag:nie,meshphysical_vert:rie,meshphysical_frag:iie,meshtoon_vert:sie,meshtoon_frag:oie,points_vert:aie,points_frag:lie,shadow_vert:Aie,shadow_frag:cie,sprite_vert:uie,sprite_frag:die},Xe={common:{diffuse:{value:new We(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nt},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nt}},envmap:{envMap:{value:null},envMapRotation:{value:new Nt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nt},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0},uvTransform:{value:new Nt}},sprite:{diffuse:{value:new We(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nt},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0}}},wo={basic:{uniforms:xi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:Qt.meshbasic_vert,fragmentShader:Qt.meshbasic_frag},lambert:{uniforms:xi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)}}]),vertexShader:Qt.meshlambert_vert,fragmentShader:Qt.meshlambert_frag},phong:{uniforms:xi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:Qt.meshphong_vert,fragmentShader:Qt.meshphong_frag},standard:{uniforms:xi([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qt.meshphysical_vert,fragmentShader:Qt.meshphysical_frag},toon:{uniforms:xi([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)}}]),vertexShader:Qt.meshtoon_vert,fragmentShader:Qt.meshtoon_frag},matcap:{uniforms:xi([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:Qt.meshmatcap_vert,fragmentShader:Qt.meshmatcap_frag},points:{uniforms:xi([Xe.points,Xe.fog]),vertexShader:Qt.points_vert,fragmentShader:Qt.points_frag},dashed:{uniforms:xi([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qt.linedashed_vert,fragmentShader:Qt.linedashed_frag},depth:{uniforms:xi([Xe.common,Xe.displacementmap]),vertexShader:Qt.depth_vert,fragmentShader:Qt.depth_frag},normal:{uniforms:xi([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:Qt.meshnormal_vert,fragmentShader:Qt.meshnormal_frag},sprite:{uniforms:xi([Xe.sprite,Xe.fog]),vertexShader:Qt.sprite_vert,fragmentShader:Qt.sprite_frag},background:{uniforms:{uvTransform:{value:new Nt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Qt.background_vert,fragmentShader:Qt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Nt}},vertexShader:Qt.backgroundCube_vert,fragmentShader:Qt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Qt.cube_vert,fragmentShader:Qt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qt.equirect_vert,fragmentShader:Qt.equirect_frag},distanceRGBA:{uniforms:xi([Xe.common,Xe.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qt.distanceRGBA_vert,fragmentShader:Qt.distanceRGBA_frag},shadow:{uniforms:xi([Xe.lights,Xe.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:Qt.shadow_vert,fragmentShader:Qt.shadow_frag}};wo.physical={uniforms:xi([wo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nt},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nt},sheen:{value:0},sheenColor:{value:new We(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nt},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nt},attenuationDistance:{value:0},attenuationColor:{value:new We(0)},specularColor:{value:new We(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nt},anisotropyVector:{value:new Ue},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nt}}]),vertexShader:Qt.meshphysical_vert,fragmentShader:Qt.meshphysical_frag};const Rg={r:0,b:0,g:0},ec=new Ss,fie=new xt;function hie(t,e,n,r,i,s,o){const a=new We(0);let l=s===!0?0:1,A,c,u=null,d=0,m=null;function g(w){let C=w.isScene===!0?w.background:null;return C&&C.isTexture&&(C=(w.backgroundBlurriness>0?n:e).get(C)),C}function x(w){let C=!1;const S=g(w);S===null?v(a,l):S&&S.isColor&&(v(S,1),C=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||C)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(w,C){const S=g(C);S&&(S.isCubeTexture||S.mapping===Zf)?(c===void 0&&(c=new lr(new Bu(1,1,1),new Uo({name:"BackgroundCubeMaterial",uniforms:Rf(wo.backgroundCube.uniforms),vertexShader:wo.backgroundCube.vertexShader,fragmentShader:wo.backgroundCube.fragmentShader,side:Ii,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,b,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),ec.copy(C.backgroundRotation),ec.x*=-1,ec.y*=-1,ec.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(ec.y*=-1,ec.z*=-1),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(fie.makeRotationFromEuler(ec)),c.material.toneMapped=sn.getTransfer(S.colorSpace)!==Mn,(u!==S||d!==S.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,u=S,d=S.version,m=t.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(A===void 0&&(A=new lr(new eh(2,2),new Uo({name:"BackgroundMaterial",uniforms:Rf(wo.background.uniforms),vertexShader:wo.background.vertexShader,fragmentShader:wo.background.fragmentShader,side:ha,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),Object.defineProperty(A.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(A)),A.material.uniforms.t2D.value=S,A.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,A.material.toneMapped=sn.getTransfer(S.colorSpace)!==Mn,S.matrixAutoUpdate===!0&&S.updateMatrix(),A.material.uniforms.uvTransform.value.copy(S.matrix),(u!==S||d!==S.version||m!==t.toneMapping)&&(A.material.needsUpdate=!0,u=S,d=S.version,m=t.toneMapping),A.layers.enableAll(),w.unshift(A,A.geometry,A.material,0,0,null))}function v(w,C){w.getRGB(Rg,WO(t)),r.buffers.color.setClear(Rg.r,Rg.g,Rg.b,C,o)}return{getClearColor:function(){return a},setClearColor:function(w,C=1){a.set(w),l=C,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,v(a,l)},render:x,addToRenderList:y}}function pie(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=d(null);let s=i,o=!1;function a(E,U,j,Q,G){let J=!1;const k=u(Q,j,U);s!==k&&(s=k,A(s.object)),J=m(E,Q,j,G),J&&g(E,Q,j,G),G!==null&&e.update(G,t.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,S(E,U,j,Q),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))}function l(){return t.createVertexArray()}function A(E){return t.bindVertexArray(E)}function c(E){return t.deleteVertexArray(E)}function u(E,U,j){const Q=j.wireframe===!0;let G=r[E.id];G===void 0&&(G={},r[E.id]=G);let J=G[U.id];J===void 0&&(J={},G[U.id]=J);let k=J[Q];return k===void 0&&(k=d(l()),J[Q]=k),k}function d(E){const U=[],j=[],Q=[];for(let G=0;G<n;G++)U[G]=0,j[G]=0,Q[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:j,attributeDivisors:Q,object:E,attributes:{},index:null}}function m(E,U,j,Q){const G=s.attributes,J=U.attributes;let k=0;const V=j.getAttributes();for(const N in V)if(V[N].location>=0){const Y=G[N];let re=J[N];if(re===void 0&&(N==="instanceMatrix"&&E.instanceMatrix&&(re=E.instanceMatrix),N==="instanceColor"&&E.instanceColor&&(re=E.instanceColor)),Y===void 0||Y.attribute!==re||re&&Y.data!==re.data)return!0;k++}return s.attributesNum!==k||s.index!==Q}function g(E,U,j,Q){const G={},J=U.attributes;let k=0;const V=j.getAttributes();for(const N in V)if(V[N].location>=0){let Y=J[N];Y===void 0&&(N==="instanceMatrix"&&E.instanceMatrix&&(Y=E.instanceMatrix),N==="instanceColor"&&E.instanceColor&&(Y=E.instanceColor));const re={};re.attribute=Y,Y&&Y.data&&(re.data=Y.data),G[N]=re,k++}s.attributes=G,s.attributesNum=k,s.index=Q}function x(){const E=s.newAttributes;for(let U=0,j=E.length;U<j;U++)E[U]=0}function y(E){v(E,0)}function v(E,U){const j=s.newAttributes,Q=s.enabledAttributes,G=s.attributeDivisors;j[E]=1,Q[E]===0&&(t.enableVertexAttribArray(E),Q[E]=1),G[E]!==U&&(t.vertexAttribDivisor(E,U),G[E]=U)}function w(){const E=s.newAttributes,U=s.enabledAttributes;for(let j=0,Q=U.length;j<Q;j++)U[j]!==E[j]&&(t.disableVertexAttribArray(j),U[j]=0)}function C(E,U,j,Q,G,J,k){k===!0?t.vertexAttribIPointer(E,U,j,G,J):t.vertexAttribPointer(E,U,j,Q,G,J)}function S(E,U,j,Q){x();const G=Q.attributes,J=j.getAttributes(),k=U.defaultAttributeValues;for(const V in J){const N=J[V];if(N.location>=0){let W=G[V];if(W===void 0&&(V==="instanceMatrix"&&E.instanceMatrix&&(W=E.instanceMatrix),V==="instanceColor"&&E.instanceColor&&(W=E.instanceColor)),W!==void 0){const Y=W.normalized,re=W.itemSize,Se=e.get(W);if(Se===void 0)continue;const Fe=Se.buffer,ce=Se.type,pe=Se.bytesPerElement,Be=ce===t.INT||ce===t.UNSIGNED_INT||W.gpuType===pw;if(W.isInterleavedBufferAttribute){const Le=W.data,oe=Le.stride,ie=W.offset;if(Le.isInstancedInterleavedBuffer){for(let de=0;de<N.locationSize;de++)v(N.location+de,Le.meshPerAttribute);E.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let de=0;de<N.locationSize;de++)y(N.location+de);t.bindBuffer(t.ARRAY_BUFFER,Fe);for(let de=0;de<N.locationSize;de++)C(N.location+de,re/N.locationSize,ce,Y,oe*pe,(ie+re/N.locationSize*de)*pe,Be)}else{if(W.isInstancedBufferAttribute){for(let Le=0;Le<N.locationSize;Le++)v(N.location+Le,W.meshPerAttribute);E.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let Le=0;Le<N.locationSize;Le++)y(N.location+Le);t.bindBuffer(t.ARRAY_BUFFER,Fe);for(let Le=0;Le<N.locationSize;Le++)C(N.location+Le,re/N.locationSize,ce,Y,re*pe,re/N.locationSize*Le*pe,Be)}}else if(k!==void 0){const Y=k[V];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(N.location,Y);break;case 3:t.vertexAttrib3fv(N.location,Y);break;case 4:t.vertexAttrib4fv(N.location,Y);break;default:t.vertexAttrib1fv(N.location,Y)}}}}w()}function M(){L();for(const E in r){const U=r[E];for(const j in U){const Q=U[j];for(const G in Q)c(Q[G].object),delete Q[G];delete U[j]}delete r[E]}}function b(E){if(r[E.id]===void 0)return;const U=r[E.id];for(const j in U){const Q=U[j];for(const G in Q)c(Q[G].object),delete Q[G];delete U[j]}delete r[E.id]}function T(E){for(const U in r){const j=r[U];if(j[E.id]===void 0)continue;const Q=j[E.id];for(const G in Q)c(Q[G].object),delete Q[G];delete j[E.id]}}function L(){P(),o=!0,s!==i&&(s=i,A(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:L,resetDefaultState:P,dispose:M,releaseStatesOfGeometry:b,releaseStatesOfProgram:T,initAttributes:x,enableAttribute:y,disableUnusedAttributes:w}}function mie(t,e,n){let r;function i(A){r=A}function s(A,c){t.drawArrays(r,A,c),n.update(c,r,1)}function o(A,c,u){u!==0&&(t.drawArraysInstanced(r,A,c,u),n.update(c,r,u))}function a(A,c,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,A,0,c,0,u);let m=0;for(let g=0;g<u;g++)m+=c[g];n.update(m,r,1)}function l(A,c,u,d){if(u===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<A.length;g++)o(A[g],c[g],d[g]);else{m.multiDrawArraysInstancedWEBGL(r,A,0,c,0,d,0,u);let g=0;for(let x=0;x<u;x++)g+=c[x];for(let x=0;x<d.length;x++)n.update(g,r,d[x])}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function gie(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(T){return!(T!==Ai&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(T){const L=T===Jf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==Io&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==Wi&&!L)}function l(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let A=n.precision!==void 0?n.precision:"highp";const c=l(A);c!==A&&(console.warn("THREE.WebGLRenderer:",A,"not supported, using",c,"instead."),A=c);const u=n.logarithmicDepthBuffer===!0,d=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control");if(d===!0){const T=e.get("EXT_clip_control");T.clipControlEXT(T.LOWER_LEFT_EXT,T.ZERO_TO_ONE_EXT)}const m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),C=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),M=g>0,b=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:A,logarithmicDepthBuffer:u,reverseDepthBuffer:d,maxTextures:m,maxVertexTextures:g,maxTextureSize:x,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:w,maxVaryings:C,maxFragmentUniforms:S,vertexTextures:M,maxSamples:b}}function vie(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new ka,a=new Nt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d){const m=u.length!==0||d||r!==0||i;return i=d,r=u.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,d){n=c(u,d,0)},this.setState=function(u,d,m){const g=u.clippingPlanes,x=u.clipIntersection,y=u.clipShadows,v=t.get(u);if(!i||g===null||g.length===0||s&&!y)s?c(null):A();else{const w=s?0:r,C=w*4;let S=v.clippingState||null;l.value=S,S=c(g,d,C,m);for(let M=0;M!==C;++M)S[M]=n[M];v.clippingState=S,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function A(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(u,d,m,g){const x=u!==null?u.length:0;let y=null;if(x!==0){if(y=l.value,g!==!0||y===null){const v=m+x*4,w=d.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<v)&&(y=new Float32Array(v));for(let C=0,S=m;C!==x;++C,S+=4)o.copy(u[C]).applyMatrix4(w,a),o.normal.toArray(y,S),y[S+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function yie(t){let e=new WeakMap;function n(o,a){return a===Mp?o.mapping=rl:a===Tp&&(o.mapping=TA),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Mp||a===Tp)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const A=new YO(l.height);return A.fromEquirectangularTexture(t,o),e.set(o,A),o.addEventListener("dispose",i),n(A.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ya extends M2{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const A=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=A*this.view.offsetX,o=s+A*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Nd=4,wF=[.125,.215,.35,.446,.526,.582],yc=20,QB=new Ya,CF=new We;let HB=null,jB=0,VB=0,zB=!1;const mc=(1+Math.sqrt(5))/2,td=1/mc,BF=[new K(-mc,td,0),new K(mc,td,0),new K(-td,0,mc),new K(td,0,mc),new K(0,mc,-td),new K(0,mc,td),new K(-1,1,-1),new K(1,1,-1),new K(-1,1,1),new K(1,1,1)];class XE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){HB=this._renderer.getRenderTarget(),jB=this._renderer.getActiveCubeFace(),VB=this._renderer.getActiveMipmapLevel(),zB=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_F(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(HB,jB,VB),this._renderer.xr.enabled=zB,e.scissorTest=!1,Pg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===rl||e.mapping===TA?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HB=this._renderer.getRenderTarget(),jB=this._renderer.getActiveCubeFace(),VB=this._renderer.getActiveMipmapLevel(),zB=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:Jf,format:Ai,colorSpace:Or,depthBuffer:!1},i=SF(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SF(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=xie(s)),this._blurMaterial=wie(s,e,n)}return i}_compileMaterial(e){const n=new lr(this._lodPlanes[0],e);this._renderer.compile(n,QB)}_sceneToCubeUV(e,n,r,i){const a=new er(90,1,n,r),l=[1,-1,1,1,1,1],A=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(CF),c.toneMapping=ua,c.autoClear=!1;const m=new hs({name:"PMREM.Background",side:Ii,depthWrite:!1,depthTest:!1}),g=new lr(new Bu,m);let x=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,x=!0):(m.color.copy(CF),x=!0);for(let v=0;v<6;v++){const w=v%3;w===0?(a.up.set(0,l[v],0),a.lookAt(A[v],0,0)):w===1?(a.up.set(0,0,l[v]),a.lookAt(0,A[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,A[v]));const C=this._cubeSize;Pg(i,w*C,v>2?C:0,C,C),c.setRenderTarget(i),x&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=d,c.autoClear=u,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===rl||e.mapping===TA;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_F());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new lr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Pg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,QB)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=BF[(i-s-1)%BF.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,A=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new lr(this._lodPlanes[i],A),d=A.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*yc-1),x=s/g,y=isFinite(s)?1+Math.floor(c*x):yc;y>yc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${yc}`);const v=[];let w=0;for(let T=0;T<yc;++T){const L=T/x,P=Math.exp(-L*L/2);v.push(P),T===0?w+=P:T<y&&(w+=2*P)}for(let T=0;T<v.length;T++)v[T]=v[T]/w;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=v,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:C}=this;d.dTheta.value=g,d.mipInt.value=C-r;const S=this._sizeLods[i],M=3*S*(i>C-Nd?i-C+Nd:0),b=4*(this._cubeSize-S);Pg(n,M,b,3*S,2*S),l.setRenderTarget(n),l.render(u,QB)}}function xie(t){const e=[],n=[],r=[];let i=t;const s=t-Nd+1+wF.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Nd?l=wF[o-t+Nd-1]:o===0&&(l=0),r.push(l);const A=1/(a-2),c=-A,u=1+A,d=[c,c,u,c,u,u,c,c,u,u,c,u],m=6,g=6,x=3,y=2,v=1,w=new Float32Array(x*g*m),C=new Float32Array(y*g*m),S=new Float32Array(v*g*m);for(let b=0;b<m;b++){const T=b%3*2/3-1,L=b>2?0:-1,P=[T,L,0,T+2/3,L,0,T+2/3,L+1,0,T,L,0,T+2/3,L+1,0,T,L+1,0];w.set(P,x*g*b),C.set(d,y*g*b);const E=[b,b,b,b,b,b];S.set(E,v*g*b)}const M=new kt;M.setAttribute("position",new mn(w,x)),M.setAttribute("uv",new mn(C,y)),M.setAttribute("faceIndex",new mn(S,v)),e.push(M),i>Nd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function SF(t,e,n){const r=new Fo(t,e,n);return r.texture.mapping=Zf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Pg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function wie(t,e,n){const r=new Float32Array(yc),i=new K(0,1,0);return new Uo({name:"SphericalGaussianBlur",defines:{n:yc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:U5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$a,depthTest:!1,depthWrite:!1})}function _F(){return new Uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:U5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$a,depthTest:!1,depthWrite:!1})}function EF(){return new Uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:U5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$a,depthTest:!1,depthWrite:!1})}function U5(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Cie(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,A=l===Mp||l===Tp,c=l===rl||l===TA;if(A||c){let u=e.get(a);const d=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==d)return n===null&&(n=new XE(t)),u=A?n.fromEquirectangular(a,u):n.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),u.texture;if(u!==void 0)return u.texture;{const m=a.image;return A&&m&&m.height>0||c&&m&&i(m)?(n===null&&(n=new XE(t)),u=A?n.fromEquirectangular(a):n.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),a.addEventListener("dispose",s),u.texture):null}}}return a}function i(a){let l=0;const A=6;for(let c=0;c<A;c++)a[c]!==void 0&&l++;return l===A}function s(a){const l=a.target;l.removeEventListener("dispose",s);const A=e.get(l);A!==void 0&&(e.delete(l),A.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Bie(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Av("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Sie(t,e,n,r){const i={},s=new WeakMap;function o(u){const d=u.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const x=d.morphAttributes[g];for(let y=0,v=x.length;y<v;y++)e.remove(x[y])}d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(u,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(u){const d=u.attributes;for(const g in d)e.update(d[g],t.ARRAY_BUFFER);const m=u.morphAttributes;for(const g in m){const x=m[g];for(let y=0,v=x.length;y<v;y++)e.update(x[y],t.ARRAY_BUFFER)}}function A(u){const d=[],m=u.index,g=u.attributes.position;let x=0;if(m!==null){const w=m.array;x=m.version;for(let C=0,S=w.length;C<S;C+=3){const M=w[C+0],b=w[C+1],T=w[C+2];d.push(M,b,b,T,T,M)}}else if(g!==void 0){const w=g.array;x=g.version;for(let C=0,S=w.length/3-1;C<S;C+=3){const M=C+0,b=C+1,T=C+2;d.push(M,b,b,T,T,M)}}else return;const y=new(jO(d)?F5:I5)(d,1);y.version=x;const v=s.get(u);v&&e.remove(v),s.set(u,y)}function c(u){const d=s.get(u);if(d){const m=u.index;m!==null&&d.version<m.version&&A(u)}else A(u);return s.get(u)}return{get:a,update:l,getWireframeAttribute:c}}function _ie(t,e,n){let r;function i(d){r=d}let s,o;function a(d){s=d.type,o=d.bytesPerElement}function l(d,m){t.drawElements(r,m,s,d*o),n.update(m,r,1)}function A(d,m,g){g!==0&&(t.drawElementsInstanced(r,m,s,d*o,g),n.update(m,r,g))}function c(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,d,0,g);let y=0;for(let v=0;v<g;v++)y+=m[v];n.update(y,r,1)}function u(d,m,g,x){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<d.length;v++)A(d[v]/o,m[v],x[v]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,d,0,x,0,g);let v=0;for(let w=0;w<g;w++)v+=m[w];for(let w=0;w<x.length;w++)n.update(v,r,x[w])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=A,this.renderMultiDraw=c,this.renderMultiDrawInstances=u}function Eie(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function bie(t,e,n){const r=new WeakMap,i=new an;function s(o,a,l){const A=o.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=c!==void 0?c.length:0;let d=r.get(a);if(d===void 0||d.count!==u){let E=function(){L.dispose(),r.delete(a),a.removeEventListener("dispose",E)};var m=E;d!==void 0&&d.texture.dispose();const g=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,v=a.morphAttributes.position||[],w=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let S=0;g===!0&&(S=1),x===!0&&(S=2),y===!0&&(S=3);let M=a.attributes.position.count*S,b=1;M>e.maxTextureSize&&(b=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const T=new Float32Array(M*b*4*u),L=new Bw(T,M,b,u);L.type=Wi,L.needsUpdate=!0;const P=S*4;for(let U=0;U<u;U++){const j=v[U],Q=w[U],G=C[U],J=M*b*4*U;for(let k=0;k<j.count;k++){const V=k*P;g===!0&&(i.fromBufferAttribute(j,k),T[J+V+0]=i.x,T[J+V+1]=i.y,T[J+V+2]=i.z,T[J+V+3]=0),x===!0&&(i.fromBufferAttribute(Q,k),T[J+V+4]=i.x,T[J+V+5]=i.y,T[J+V+6]=i.z,T[J+V+7]=0),y===!0&&(i.fromBufferAttribute(G,k),T[J+V+8]=i.x,T[J+V+9]=i.y,T[J+V+10]=i.z,T[J+V+11]=G.itemSize===4?i.w:1)}}d={count:u,texture:L,size:new Ue(M,b)},r.set(a,d),a.addEventListener("dispose",E)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let y=0;y<A.length;y++)g+=A[y];const x=a.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",A)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:s}}function Mie(t,e,n,r){let i=new WeakMap;function s(l){const A=r.render.frame,c=l.geometry,u=e.get(l,c);if(i.get(u)!==A&&(e.update(u),i.set(u,A)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==A&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,A))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==A&&(d.update(),i.set(d,A))}return u}function o(){i=new WeakMap}function a(l){const A=l.target;A.removeEventListener("dispose",a),n.remove(A.instanceMatrix),A.instanceColor!==null&&n.remove(A.instanceColor)}return{update:s,dispose:o}}class L5 extends Pn{constructor(e,n,r,i,s,o,a,l,A,c=Kc){if(c!==Kc&&c!==cu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Kc&&(r=il),r===void 0&&c===cu&&(r=Au),super(null,i,s,o,a,l,c,r,A),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Sr,this.minFilter=l!==void 0?l:Sr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const ZO=new Pn,bF=new L5(1,1),JO=new Bw,ek=new T5,tk=new T2,MF=[],TF=[],IF=new Float32Array(16),FF=new Float32Array(9),UF=new Float32Array(4);function th(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=MF[i];if(s===void 0&&(s=new Float32Array(i),MF[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Er(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function br(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Sw(t,e){let n=TF[e];n===void 0&&(n=new Int32Array(e),TF[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Tie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Iie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Er(n,e))return;t.uniform2fv(this.addr,e),br(n,e)}}function Fie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Er(n,e))return;t.uniform3fv(this.addr,e),br(n,e)}}function Uie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Er(n,e))return;t.uniform4fv(this.addr,e),br(n,e)}}function Lie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Er(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),br(n,e)}else{if(Er(n,r))return;UF.set(r),t.uniformMatrix2fv(this.addr,!1,UF),br(n,r)}}function Rie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Er(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),br(n,e)}else{if(Er(n,r))return;FF.set(r),t.uniformMatrix3fv(this.addr,!1,FF),br(n,r)}}function Pie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Er(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),br(n,e)}else{if(Er(n,r))return;IF.set(r),t.uniformMatrix4fv(this.addr,!1,IF),br(n,r)}}function Nie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Die(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Er(n,e))return;t.uniform2iv(this.addr,e),br(n,e)}}function Oie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Er(n,e))return;t.uniform3iv(this.addr,e),br(n,e)}}function kie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Er(n,e))return;t.uniform4iv(this.addr,e),br(n,e)}}function Qie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Hie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Er(n,e))return;t.uniform2uiv(this.addr,e),br(n,e)}}function jie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Er(n,e))return;t.uniform3uiv(this.addr,e),br(n,e)}}function Vie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Er(n,e))return;t.uniform4uiv(this.addr,e),br(n,e)}}function zie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(bF.compareFunction=b5,s=bF):s=ZO,n.setTexture2D(e||s,i)}function Gie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||ek,i)}function Kie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||tk,i)}function Wie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||JO,i)}function Xie(t){switch(t){case 5126:return Tie;case 35664:return Iie;case 35665:return Fie;case 35666:return Uie;case 35674:return Lie;case 35675:return Rie;case 35676:return Pie;case 5124:case 35670:return Nie;case 35667:case 35671:return Die;case 35668:case 35672:return Oie;case 35669:case 35673:return kie;case 5125:return Qie;case 36294:return Hie;case 36295:return jie;case 36296:return Vie;case 35678:case 36198:case 36298:case 36306:case 35682:return zie;case 35679:case 36299:case 36307:return Gie;case 35680:case 36300:case 36308:case 36293:return Kie;case 36289:case 36303:case 36311:case 36292:return Wie}}function $ie(t,e){t.uniform1fv(this.addr,e)}function Yie(t,e){const n=th(e,this.size,2);t.uniform2fv(this.addr,n)}function qie(t,e){const n=th(e,this.size,3);t.uniform3fv(this.addr,n)}function Zie(t,e){const n=th(e,this.size,4);t.uniform4fv(this.addr,n)}function Jie(t,e){const n=th(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function ese(t,e){const n=th(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function tse(t,e){const n=th(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function nse(t,e){t.uniform1iv(this.addr,e)}function rse(t,e){t.uniform2iv(this.addr,e)}function ise(t,e){t.uniform3iv(this.addr,e)}function sse(t,e){t.uniform4iv(this.addr,e)}function ose(t,e){t.uniform1uiv(this.addr,e)}function ase(t,e){t.uniform2uiv(this.addr,e)}function lse(t,e){t.uniform3uiv(this.addr,e)}function Ase(t,e){t.uniform4uiv(this.addr,e)}function cse(t,e,n){const r=this.cache,i=e.length,s=Sw(n,i);Er(r,s)||(t.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||ZO,s[o])}function use(t,e,n){const r=this.cache,i=e.length,s=Sw(n,i);Er(r,s)||(t.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||ek,s[o])}function dse(t,e,n){const r=this.cache,i=e.length,s=Sw(n,i);Er(r,s)||(t.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||tk,s[o])}function fse(t,e,n){const r=this.cache,i=e.length,s=Sw(n,i);Er(r,s)||(t.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||JO,s[o])}function hse(t){switch(t){case 5126:return $ie;case 35664:return Yie;case 35665:return qie;case 35666:return Zie;case 35674:return Jie;case 35675:return ese;case 35676:return tse;case 5124:case 35670:return nse;case 35667:case 35671:return rse;case 35668:case 35672:return ise;case 35669:case 35673:return sse;case 5125:return ose;case 36294:return ase;case 36295:return lse;case 36296:return Ase;case 35678:case 36198:case 36298:case 36306:case 35682:return cse;case 35679:case 36299:case 36307:return use;case 35680:case 36300:case 36308:case 36293:return dse;case 36289:case 36303:case 36311:case 36292:return fse}}class pse{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Xie(n.type)}}class mse{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=hse(n.type)}}class gse{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const GB=/(\w+)(\])?(\[|\.)?/g;function LF(t,e){t.seq.push(e),t.map[e.id]=e}function vse(t,e,n){const r=t.name,i=r.length;for(GB.lastIndex=0;;){const s=GB.exec(r),o=GB.lastIndex;let a=s[1];const l=s[2]==="]",A=s[3];if(l&&(a=a|0),A===void 0||A==="["&&o+2===i){LF(n,A===void 0?new pse(a,t,e):new mse(a,t,e));break}else{let u=n.map[a];u===void 0&&(u=new gse(a),LF(n,u)),n=u}}}class cv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);vse(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function RF(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const yse=37297;let xse=0;function wse(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function Cse(t){const e=sn.getPrimaries(sn.workingColorSpace),n=sn.getPrimaries(t);let r;switch(e===n?r="":e===Lp&&n===Up?r="LinearDisplayP3ToLinearSRGB":e===Up&&n===Lp&&(r="LinearSRGBToLinearDisplayP3"),t){case Or:case b2:return[r,"LinearTransferOETF"];case Vr:case Cw:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function PF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+wse(t.getShaderSource(e),o)}else return i}function Bse(t,e){const n=Cse(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Sse(t,e){let n;switch(e){case xO:n="Linear";break;case wO:n="Reinhard";break;case CO:n="Cineon";break;case p5:n="ACESFilmic";break;case SO:n="AgX";break;case _O:n="Neutral";break;case BO:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Ng=new K;function _se(){sn.getLuminanceCoefficients(Ng);const t=Ng.x.toFixed(4),e=Ng.y.toFixed(4),n=Ng.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ese(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(v0).join(`
`)}function bse(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Mse(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function v0(t){return t!==""}function NF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Tse=/^[ \t]*#include +<([\w\d./]+)>/gm;function $E(t){return t.replace(Tse,Fse)}const Ise=new Map;function Fse(t,e){let n=Qt[e];if(n===void 0){const r=Ise.get(e);if(r!==void 0)n=Qt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return $E(n)}const Use=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function OF(t){return t.replace(Use,Lse)}function Lse(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function kF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Rse(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===dw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===D0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===mo&&(e="SHADOWMAP_TYPE_VSM"),e}function Pse(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case rl:case TA:e="ENVMAP_TYPE_CUBE";break;case Zf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Nse(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case TA:e="ENVMAP_MODE_REFRACTION";break}return e}function Dse(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case _2:e="ENVMAP_BLENDING_MULTIPLY";break;case vO:e="ENVMAP_BLENDING_MIX";break;case yO:e="ENVMAP_BLENDING_ADD";break}return e}function Ose(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function kse(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Rse(n),A=Pse(n),c=Nse(n),u=Dse(n),d=Ose(n),m=Ese(n),g=bse(s),x=i.createProgram();let y,v,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(v0).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(v0).join(`
`),v.length>0&&(v+=`
`)):(y=[kF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(v0).join(`
`),v=[kF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ua?"#define TONE_MAPPING":"",n.toneMapping!==ua?Qt.tonemapping_pars_fragment:"",n.toneMapping!==ua?Sse("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Qt.colorspace_pars_fragment,Bse("linearToOutputTexel",n.outputColorSpace),_se(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(v0).join(`
`)),o=$E(o),o=NF(o,n),o=DF(o,n),a=$E(a),a=NF(a,n),a=DF(a,n),o=OF(o),a=OF(a),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===WE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===WE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const C=w+y+o,S=w+v+a,M=RF(i,i.VERTEX_SHADER,C),b=RF(i,i.FRAGMENT_SHADER,S);i.attachShader(x,M),i.attachShader(x,b),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function T(U){if(t.debug.checkShaderErrors){const j=i.getProgramInfoLog(x).trim(),Q=i.getShaderInfoLog(M).trim(),G=i.getShaderInfoLog(b).trim();let J=!0,k=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(J=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,M,b);else{const V=PF(i,M,"vertex"),N=PF(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+U.name+`
Material Type: `+U.type+`

Program Info Log: `+j+`
`+V+`
`+N)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(Q===""||G==="")&&(k=!1);k&&(U.diagnostics={runnable:J,programLog:j,vertexShader:{log:Q,prefix:y},fragmentShader:{log:G,prefix:v}})}i.deleteShader(M),i.deleteShader(b),L=new cv(i,x),P=Mse(i,x)}let L;this.getUniforms=function(){return L===void 0&&T(this),L};let P;this.getAttributes=function(){return P===void 0&&T(this),P};let E=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=i.getProgramParameter(x,yse)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=xse++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=M,this.fragmentShader=b,this}let Qse=0;class Hse{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new jse(e),n.set(e,r)),r}}class jse{constructor(e){this.id=Qse++,this.code=e,this.usedTimes=0}}function Vse(t,e,n,r,i,s,o){const a=new Xc,l=new Hse,A=new Set,c=[],u=i.logarithmicDepthBuffer,d=i.reverseDepthBuffer,m=i.vertexTextures;let g=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(E){return A.add(E),E===0?"uv":`uv${E}`}function v(E,U,j,Q,G){const J=Q.fog,k=G.geometry,V=E.isMeshStandardMaterial?Q.environment:null,N=(E.isMeshStandardMaterial?n:e).get(E.envMap||V),W=N&&N.mapping===Zf?N.image.height:null,Y=x[E.type];E.precision!==null&&(g=i.getMaxPrecision(E.precision),g!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",g,"instead."));const re=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,Se=re!==void 0?re.length:0;let Fe=0;k.morphAttributes.position!==void 0&&(Fe=1),k.morphAttributes.normal!==void 0&&(Fe=2),k.morphAttributes.color!==void 0&&(Fe=3);let ce,pe,Be,Le;if(Y){const Xt=wo[Y];ce=Xt.vertexShader,pe=Xt.fragmentShader}else ce=E.vertexShader,pe=E.fragmentShader,l.update(E),Be=l.getVertexShaderID(E),Le=l.getFragmentShaderID(E);const oe=t.getRenderTarget(),ie=G.isInstancedMesh===!0,de=G.isBatchedMesh===!0,te=!!E.map,fe=!!E.matcap,O=!!N,Ie=!!E.aoMap,Pe=!!E.lightMap,q=!!E.bumpMap,ae=!!E.normalMap,be=!!E.displacementMap,he=!!E.emissiveMap,H=!!E.metalnessMap,D=!!E.roughnessMap,ne=E.anisotropy>0,xe=E.clearcoat>0,ge=E.dispersion>0,ve=E.iridescence>0,Qe=E.sheen>0,Te=E.transmission>0,ke=ne&&!!E.anisotropyMap,St=xe&&!!E.clearcoatMap,Oe=xe&&!!E.clearcoatNormalMap,je=xe&&!!E.clearcoatRoughnessMap,st=ve&&!!E.iridescenceMap,ut=ve&&!!E.iridescenceThicknessMap,Ye=Qe&&!!E.sheenColorMap,Tt=Qe&&!!E.sheenRoughnessMap,Z=!!E.specularMap,Ne=!!E.specularColorMap,$=!!E.specularIntensityMap,De=Te&&!!E.transmissionMap,me=Te&&!!E.thicknessMap,Re=!!E.gradientMap,Ke=!!E.alphaMap,Je=E.alphaTest>0,Lt=!!E.alphaHash,Gt=!!E.extensions;let It=ua;E.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(It=t.toneMapping);const ft={shaderID:Y,shaderType:E.type,shaderName:E.name,vertexShader:ce,fragmentShader:pe,defines:E.defines,customVertexShaderID:Be,customFragmentShaderID:Le,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:g,batching:de,batchingColor:de&&G._colorsTexture!==null,instancing:ie,instancingColor:ie&&G.instanceColor!==null,instancingMorph:ie&&G.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:Or,alphaToCoverage:!!E.alphaToCoverage,map:te,matcap:fe,envMap:O,envMapMode:O&&N.mapping,envMapCubeUVHeight:W,aoMap:Ie,lightMap:Pe,bumpMap:q,normalMap:ae,displacementMap:m&&be,emissiveMap:he,normalMapObjectSpace:ae&&E.normalMapType===LO,normalMapTangentSpace:ae&&E.normalMapType===OA,metalnessMap:H,roughnessMap:D,anisotropy:ne,anisotropyMap:ke,clearcoat:xe,clearcoatMap:St,clearcoatNormalMap:Oe,clearcoatRoughnessMap:je,dispersion:ge,iridescence:ve,iridescenceMap:st,iridescenceThicknessMap:ut,sheen:Qe,sheenColorMap:Ye,sheenRoughnessMap:Tt,specularMap:Z,specularColorMap:Ne,specularIntensityMap:$,transmission:Te,transmissionMap:De,thicknessMap:me,gradientMap:Re,opaque:E.transparent===!1&&E.blending===Gc&&E.alphaToCoverage===!1,alphaMap:Ke,alphaTest:Je,alphaHash:Lt,combine:E.combine,mapUv:te&&y(E.map.channel),aoMapUv:Ie&&y(E.aoMap.channel),lightMapUv:Pe&&y(E.lightMap.channel),bumpMapUv:q&&y(E.bumpMap.channel),normalMapUv:ae&&y(E.normalMap.channel),displacementMapUv:be&&y(E.displacementMap.channel),emissiveMapUv:he&&y(E.emissiveMap.channel),metalnessMapUv:H&&y(E.metalnessMap.channel),roughnessMapUv:D&&y(E.roughnessMap.channel),anisotropyMapUv:ke&&y(E.anisotropyMap.channel),clearcoatMapUv:St&&y(E.clearcoatMap.channel),clearcoatNormalMapUv:Oe&&y(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:je&&y(E.clearcoatRoughnessMap.channel),iridescenceMapUv:st&&y(E.iridescenceMap.channel),iridescenceThicknessMapUv:ut&&y(E.iridescenceThicknessMap.channel),sheenColorMapUv:Ye&&y(E.sheenColorMap.channel),sheenRoughnessMapUv:Tt&&y(E.sheenRoughnessMap.channel),specularMapUv:Z&&y(E.specularMap.channel),specularColorMapUv:Ne&&y(E.specularColorMap.channel),specularIntensityMapUv:$&&y(E.specularIntensityMap.channel),transmissionMapUv:De&&y(E.transmissionMap.channel),thicknessMapUv:me&&y(E.thicknessMap.channel),alphaMapUv:Ke&&y(E.alphaMap.channel),vertexTangents:!!k.attributes.tangent&&(ae||ne),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!k.attributes.uv&&(te||Ke),fog:!!J,useFog:E.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:d,skinning:G.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:Se,morphTextureStride:Fe,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:It,decodeVideoTexture:te&&E.map.isVideoTexture===!0&&sn.getTransfer(E.map.colorSpace)===Mn,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Bo,flipSided:E.side===Ii,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Gt&&E.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Gt&&E.extensions.multiDraw===!0||de)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return ft.vertexUv1s=A.has(1),ft.vertexUv2s=A.has(2),ft.vertexUv3s=A.has(3),A.clear(),ft}function w(E){const U=[];if(E.shaderID?U.push(E.shaderID):(U.push(E.customVertexShaderID),U.push(E.customFragmentShaderID)),E.defines!==void 0)for(const j in E.defines)U.push(j),U.push(E.defines[j]);return E.isRawShaderMaterial===!1&&(C(U,E),S(U,E),U.push(t.outputColorSpace)),U.push(E.customProgramCacheKey),U.join()}function C(E,U){E.push(U.precision),E.push(U.outputColorSpace),E.push(U.envMapMode),E.push(U.envMapCubeUVHeight),E.push(U.mapUv),E.push(U.alphaMapUv),E.push(U.lightMapUv),E.push(U.aoMapUv),E.push(U.bumpMapUv),E.push(U.normalMapUv),E.push(U.displacementMapUv),E.push(U.emissiveMapUv),E.push(U.metalnessMapUv),E.push(U.roughnessMapUv),E.push(U.anisotropyMapUv),E.push(U.clearcoatMapUv),E.push(U.clearcoatNormalMapUv),E.push(U.clearcoatRoughnessMapUv),E.push(U.iridescenceMapUv),E.push(U.iridescenceThicknessMapUv),E.push(U.sheenColorMapUv),E.push(U.sheenRoughnessMapUv),E.push(U.specularMapUv),E.push(U.specularColorMapUv),E.push(U.specularIntensityMapUv),E.push(U.transmissionMapUv),E.push(U.thicknessMapUv),E.push(U.combine),E.push(U.fogExp2),E.push(U.sizeAttenuation),E.push(U.morphTargetsCount),E.push(U.morphAttributeCount),E.push(U.numDirLights),E.push(U.numPointLights),E.push(U.numSpotLights),E.push(U.numSpotLightMaps),E.push(U.numHemiLights),E.push(U.numRectAreaLights),E.push(U.numDirLightShadows),E.push(U.numPointLightShadows),E.push(U.numSpotLightShadows),E.push(U.numSpotLightShadowsWithMaps),E.push(U.numLightProbes),E.push(U.shadowMapType),E.push(U.toneMapping),E.push(U.numClippingPlanes),E.push(U.numClipIntersection),E.push(U.depthPacking)}function S(E,U){a.disableAll(),U.supportsVertexTextures&&a.enable(0),U.instancing&&a.enable(1),U.instancingColor&&a.enable(2),U.instancingMorph&&a.enable(3),U.matcap&&a.enable(4),U.envMap&&a.enable(5),U.normalMapObjectSpace&&a.enable(6),U.normalMapTangentSpace&&a.enable(7),U.clearcoat&&a.enable(8),U.iridescence&&a.enable(9),U.alphaTest&&a.enable(10),U.vertexColors&&a.enable(11),U.vertexAlphas&&a.enable(12),U.vertexUv1s&&a.enable(13),U.vertexUv2s&&a.enable(14),U.vertexUv3s&&a.enable(15),U.vertexTangents&&a.enable(16),U.anisotropy&&a.enable(17),U.alphaHash&&a.enable(18),U.batching&&a.enable(19),U.dispersion&&a.enable(20),U.batchingColor&&a.enable(21),E.push(a.mask),a.disableAll(),U.fog&&a.enable(0),U.useFog&&a.enable(1),U.flatShading&&a.enable(2),U.logarithmicDepthBuffer&&a.enable(3),U.reverseDepthBuffer&&a.enable(4),U.skinning&&a.enable(5),U.morphTargets&&a.enable(6),U.morphNormals&&a.enable(7),U.morphColors&&a.enable(8),U.premultipliedAlpha&&a.enable(9),U.shadowMapEnabled&&a.enable(10),U.doubleSided&&a.enable(11),U.flipSided&&a.enable(12),U.useDepthPacking&&a.enable(13),U.dithering&&a.enable(14),U.transmission&&a.enable(15),U.sheen&&a.enable(16),U.opaque&&a.enable(17),U.pointsUvs&&a.enable(18),U.decodeVideoTexture&&a.enable(19),U.alphaToCoverage&&a.enable(20),E.push(a.mask)}function M(E){const U=x[E.type];let j;if(U){const Q=wo[U];j=XO.clone(Q.uniforms)}else j=E.uniforms;return j}function b(E,U){let j;for(let Q=0,G=c.length;Q<G;Q++){const J=c[Q];if(J.cacheKey===U){j=J,++j.usedTimes;break}}return j===void 0&&(j=new kse(t,U,E,s),c.push(j)),j}function T(E){if(--E.usedTimes===0){const U=c.indexOf(E);c[U]=c[c.length-1],c.pop(),E.destroy()}}function L(E){l.remove(E)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:w,getUniforms:M,acquireProgram:b,releaseProgram:T,releaseShaderCache:L,programs:c,dispose:P}}function zse(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function Gse(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function QF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function HF(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(u,d,m,g,x,y){let v=t[e];return v===void 0?(v={id:u.id,object:u,geometry:d,material:m,groupOrder:g,renderOrder:u.renderOrder,z:x,group:y},t[e]=v):(v.id=u.id,v.object=u,v.geometry=d,v.material=m,v.groupOrder=g,v.renderOrder=u.renderOrder,v.z=x,v.group=y),e++,v}function a(u,d,m,g,x,y){const v=o(u,d,m,g,x,y);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):n.push(v)}function l(u,d,m,g,x,y){const v=o(u,d,m,g,x,y);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):n.unshift(v)}function A(u,d){n.length>1&&n.sort(u||Gse),r.length>1&&r.sort(d||QF),i.length>1&&i.sort(d||QF)}function c(){for(let u=e,d=t.length;u<d;u++){const m=t[u];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:A}}function Kse(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new HF,t.set(r,[o])):i>=s.length?(o=new HF,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Wse(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new K,color:new We};break;case"SpotLight":n={position:new K,direction:new K,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new K,color:new We,distance:0,decay:0};break;case"HemisphereLight":n={direction:new K,skyColor:new We,groundColor:new We};break;case"RectAreaLight":n={color:new We,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=n,n}}}function Xse(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let $se=0;function Yse(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function qse(t){const e=new Wse,n=Xse(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let A=0;A<9;A++)r.probe.push(new K);const i=new K,s=new xt,o=new xt;function a(A){let c=0,u=0,d=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let m=0,g=0,x=0,y=0,v=0,w=0,C=0,S=0,M=0,b=0,T=0;A.sort(Yse);for(let P=0,E=A.length;P<E;P++){const U=A[P],j=U.color,Q=U.intensity,G=U.distance,J=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)c+=j.r*Q,u+=j.g*Q,d+=j.b*Q;else if(U.isLightProbe){for(let k=0;k<9;k++)r.probe[k].addScaledVector(U.sh.coefficients[k],Q);T++}else if(U.isDirectionalLight){const k=e.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){const V=U.shadow,N=n.get(U);N.shadowIntensity=V.intensity,N.shadowBias=V.bias,N.shadowNormalBias=V.normalBias,N.shadowRadius=V.radius,N.shadowMapSize=V.mapSize,r.directionalShadow[m]=N,r.directionalShadowMap[m]=J,r.directionalShadowMatrix[m]=U.shadow.matrix,w++}r.directional[m]=k,m++}else if(U.isSpotLight){const k=e.get(U);k.position.setFromMatrixPosition(U.matrixWorld),k.color.copy(j).multiplyScalar(Q),k.distance=G,k.coneCos=Math.cos(U.angle),k.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),k.decay=U.decay,r.spot[x]=k;const V=U.shadow;if(U.map&&(r.spotLightMap[M]=U.map,M++,V.updateMatrices(U),U.castShadow&&b++),r.spotLightMatrix[x]=V.matrix,U.castShadow){const N=n.get(U);N.shadowIntensity=V.intensity,N.shadowBias=V.bias,N.shadowNormalBias=V.normalBias,N.shadowRadius=V.radius,N.shadowMapSize=V.mapSize,r.spotShadow[x]=N,r.spotShadowMap[x]=J,S++}x++}else if(U.isRectAreaLight){const k=e.get(U);k.color.copy(j).multiplyScalar(Q),k.halfWidth.set(U.width*.5,0,0),k.halfHeight.set(0,U.height*.5,0),r.rectArea[y]=k,y++}else if(U.isPointLight){const k=e.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity),k.distance=U.distance,k.decay=U.decay,U.castShadow){const V=U.shadow,N=n.get(U);N.shadowIntensity=V.intensity,N.shadowBias=V.bias,N.shadowNormalBias=V.normalBias,N.shadowRadius=V.radius,N.shadowMapSize=V.mapSize,N.shadowCameraNear=V.camera.near,N.shadowCameraFar=V.camera.far,r.pointShadow[g]=N,r.pointShadowMap[g]=J,r.pointShadowMatrix[g]=U.shadow.matrix,C++}r.point[g]=k,g++}else if(U.isHemisphereLight){const k=e.get(U);k.skyColor.copy(U.color).multiplyScalar(Q),k.groundColor.copy(U.groundColor).multiplyScalar(Q),r.hemi[v]=k,v++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Xe.LTC_FLOAT_1,r.rectAreaLTC2=Xe.LTC_FLOAT_2):(r.rectAreaLTC1=Xe.LTC_HALF_1,r.rectAreaLTC2=Xe.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=u,r.ambient[2]=d;const L=r.hash;(L.directionalLength!==m||L.pointLength!==g||L.spotLength!==x||L.rectAreaLength!==y||L.hemiLength!==v||L.numDirectionalShadows!==w||L.numPointShadows!==C||L.numSpotShadows!==S||L.numSpotMaps!==M||L.numLightProbes!==T)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=y,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=S+M-b,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=b,r.numLightProbes=T,L.directionalLength=m,L.pointLength=g,L.spotLength=x,L.rectAreaLength=y,L.hemiLength=v,L.numDirectionalShadows=w,L.numPointShadows=C,L.numSpotShadows=S,L.numSpotMaps=M,L.numLightProbes=T,r.version=$se++)}function l(A,c){let u=0,d=0,m=0,g=0,x=0;const y=c.matrixWorldInverse;for(let v=0,w=A.length;v<w;v++){const C=A[v];if(C.isDirectionalLight){const S=r.directional[u];S.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(y),u++}else if(C.isSpotLight){const S=r.spot[m];S.position.setFromMatrixPosition(C.matrixWorld),S.position.applyMatrix4(y),S.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(y),m++}else if(C.isRectAreaLight){const S=r.rectArea[g];S.position.setFromMatrixPosition(C.matrixWorld),S.position.applyMatrix4(y),o.identity(),s.copy(C.matrixWorld),s.premultiply(y),o.extractRotation(s),S.halfWidth.set(C.width*.5,0,0),S.halfHeight.set(0,C.height*.5,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),g++}else if(C.isPointLight){const S=r.point[d];S.position.setFromMatrixPosition(C.matrixWorld),S.position.applyMatrix4(y),d++}else if(C.isHemisphereLight){const S=r.hemi[x];S.direction.setFromMatrixPosition(C.matrixWorld),S.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:r}}function jF(t){const e=new qse(t),n=[],r=[];function i(c){A.camera=c,n.length=0,r.length=0}function s(c){n.push(c)}function o(c){r.push(c)}function a(){e.setup(n)}function l(c){e.setupView(n,c)}const A={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:A,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Zse(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new jF(t),e.set(i,[a])):s>=o.length?(a=new jF(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class R5 extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=FO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class P5 extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Jse=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,eoe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function toe(t,e,n){let r=new I2;const i=new Ue,s=new Ue,o=new an,a=new R5({depthPacking:UO}),l=new P5,A={},c=n.maxTextureSize,u={[ha]:Ii,[Ii]:ha,[Bo]:Bo},d=new Uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:Jse,fragmentShader:eoe}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new kt;g.setAttribute("position",new mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new lr(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=dw;let v=this.type;this.render=function(b,T,L){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const P=t.getRenderTarget(),E=t.getActiveCubeFace(),U=t.getActiveMipmapLevel(),j=t.state;j.setBlending($a),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const Q=v!==mo&&this.type===mo,G=v===mo&&this.type!==mo;for(let J=0,k=b.length;J<k;J++){const V=b[J],N=V.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const W=N.getFrameExtents();if(i.multiply(W),s.copy(N.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/W.x),i.x=s.x*W.x,N.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/W.y),i.y=s.y*W.y,N.mapSize.y=s.y)),N.map===null||Q===!0||G===!0){const re=this.type!==mo?{minFilter:Sr,magFilter:Sr}:{};N.map!==null&&N.map.dispose(),N.map=new Fo(i.x,i.y,re),N.map.texture.name=V.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const Y=N.getViewportCount();for(let re=0;re<Y;re++){const Se=N.getViewport(re);o.set(s.x*Se.x,s.y*Se.y,s.x*Se.z,s.y*Se.w),j.viewport(o),N.updateMatrices(V,re),r=N.getFrustum(),S(T,L,N.camera,V,this.type)}N.isPointLightShadow!==!0&&this.type===mo&&w(N,L),N.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(P,E,U)};function w(b,T){const L=e.update(x);d.defines.VSM_SAMPLES!==b.blurSamples&&(d.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Fo(i.x,i.y)),d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(T,null,L,d,x,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(T,null,L,m,x,null)}function C(b,T,L,P){let E=null;const U=L.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(U!==void 0)E=U;else if(E=L.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const j=E.uuid,Q=T.uuid;let G=A[j];G===void 0&&(G={},A[j]=G);let J=G[Q];J===void 0&&(J=E.clone(),G[Q]=J,T.addEventListener("dispose",M)),E=J}if(E.visible=T.visible,E.wireframe=T.wireframe,P===mo?E.side=T.shadowSide!==null?T.shadowSide:T.side:E.side=T.shadowSide!==null?T.shadowSide:u[T.side],E.alphaMap=T.alphaMap,E.alphaTest=T.alphaTest,E.map=T.map,E.clipShadows=T.clipShadows,E.clippingPlanes=T.clippingPlanes,E.clipIntersection=T.clipIntersection,E.displacementMap=T.displacementMap,E.displacementScale=T.displacementScale,E.displacementBias=T.displacementBias,E.wireframeLinewidth=T.wireframeLinewidth,E.linewidth=T.linewidth,L.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const j=t.properties.get(E);j.light=L}return E}function S(b,T,L,P,E){if(b.visible===!1)return;if(b.layers.test(T.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===mo)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,b.matrixWorld);const Q=e.update(b),G=b.material;if(Array.isArray(G)){const J=Q.groups;for(let k=0,V=J.length;k<V;k++){const N=J[k],W=G[N.materialIndex];if(W&&W.visible){const Y=C(b,W,P,E);b.onBeforeShadow(t,b,T,L,Q,Y,N),t.renderBufferDirect(L,null,Q,Y,b,N),b.onAfterShadow(t,b,T,L,Q,Y,N)}}}else if(G.visible){const J=C(b,G,P,E);b.onBeforeShadow(t,b,T,L,Q,J,null),t.renderBufferDirect(L,null,Q,J,b,null),b.onAfterShadow(t,b,T,L,Q,J,null)}}const j=b.children;for(let Q=0,G=j.length;Q<G;Q++)S(j[Q],T,L,P,E)}function M(b){b.target.removeEventListener("dispose",M);for(const L in A){const P=A[L],E=b.target.uuid;E in P&&(P[E].dispose(),delete P[E])}}}const noe={[py]:my,[gy]:xy,[vy]:wy,[lu]:yy,[my]:py,[xy]:gy,[wy]:vy,[yy]:lu};function roe(t){function e(){let $=!1;const De=new an;let me=null;const Re=new an(0,0,0,0);return{setMask:function(Ke){me!==Ke&&!$&&(t.colorMask(Ke,Ke,Ke,Ke),me=Ke)},setLocked:function(Ke){$=Ke},setClear:function(Ke,Je,Lt,Gt,It){It===!0&&(Ke*=Gt,Je*=Gt,Lt*=Gt),De.set(Ke,Je,Lt,Gt),Re.equals(De)===!1&&(t.clearColor(Ke,Je,Lt,Gt),Re.copy(De))},reset:function(){$=!1,me=null,Re.set(-1,0,0,0)}}}function n(){let $=!1,De=!1,me=null,Re=null,Ke=null;return{setReversed:function(Je){De=Je},setTest:function(Je){Je?Be(t.DEPTH_TEST):Le(t.DEPTH_TEST)},setMask:function(Je){me!==Je&&!$&&(t.depthMask(Je),me=Je)},setFunc:function(Je){if(De&&(Je=noe[Je]),Re!==Je){switch(Je){case py:t.depthFunc(t.NEVER);break;case my:t.depthFunc(t.ALWAYS);break;case gy:t.depthFunc(t.LESS);break;case lu:t.depthFunc(t.LEQUAL);break;case vy:t.depthFunc(t.EQUAL);break;case yy:t.depthFunc(t.GEQUAL);break;case xy:t.depthFunc(t.GREATER);break;case wy:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Re=Je}},setLocked:function(Je){$=Je},setClear:function(Je){Ke!==Je&&(t.clearDepth(Je),Ke=Je)},reset:function(){$=!1,me=null,Re=null,Ke=null}}}function r(){let $=!1,De=null,me=null,Re=null,Ke=null,Je=null,Lt=null,Gt=null,It=null;return{setTest:function(ft){$||(ft?Be(t.STENCIL_TEST):Le(t.STENCIL_TEST))},setMask:function(ft){De!==ft&&!$&&(t.stencilMask(ft),De=ft)},setFunc:function(ft,Xt,cn){(me!==ft||Re!==Xt||Ke!==cn)&&(t.stencilFunc(ft,Xt,cn),me=ft,Re=Xt,Ke=cn)},setOp:function(ft,Xt,cn){(Je!==ft||Lt!==Xt||Gt!==cn)&&(t.stencilOp(ft,Xt,cn),Je=ft,Lt=Xt,Gt=cn)},setLocked:function(ft){$=ft},setClear:function(ft){It!==ft&&(t.clearStencil(ft),It=ft)},reset:function(){$=!1,De=null,me=null,Re=null,Ke=null,Je=null,Lt=null,Gt=null,It=null}}}const i=new e,s=new n,o=new r,a=new WeakMap,l=new WeakMap;let A={},c={},u=new WeakMap,d=[],m=null,g=!1,x=null,y=null,v=null,w=null,C=null,S=null,M=null,b=new We(0,0,0),T=0,L=!1,P=null,E=null,U=null,j=null,Q=null;const G=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,k=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(V)[1]),J=k>=1):V.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),J=k>=2);let N=null,W={};const Y=t.getParameter(t.SCISSOR_BOX),re=t.getParameter(t.VIEWPORT),Se=new an().fromArray(Y),Fe=new an().fromArray(re);function ce($,De,me,Re){const Ke=new Uint8Array(4),Je=t.createTexture();t.bindTexture($,Je),t.texParameteri($,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri($,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Lt=0;Lt<me;Lt++)$===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY?t.texImage3D(De,0,t.RGBA,1,1,Re,0,t.RGBA,t.UNSIGNED_BYTE,Ke):t.texImage2D(De+Lt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ke);return Je}const pe={};pe[t.TEXTURE_2D]=ce(t.TEXTURE_2D,t.TEXTURE_2D,1),pe[t.TEXTURE_CUBE_MAP]=ce(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[t.TEXTURE_2D_ARRAY]=ce(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),pe[t.TEXTURE_3D]=ce(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Be(t.DEPTH_TEST),s.setFunc(lu),Pe(!1),q(HE),Be(t.CULL_FACE),O($a);function Be($){A[$]!==!0&&(t.enable($),A[$]=!0)}function Le($){A[$]!==!1&&(t.disable($),A[$]=!1)}function oe($,De){return c[$]!==De?(t.bindFramebuffer($,De),c[$]=De,$===t.DRAW_FRAMEBUFFER&&(c[t.FRAMEBUFFER]=De),$===t.FRAMEBUFFER&&(c[t.DRAW_FRAMEBUFFER]=De),!0):!1}function ie($,De){let me=d,Re=!1;if($){me=u.get(De),me===void 0&&(me=[],u.set(De,me));const Ke=$.textures;if(me.length!==Ke.length||me[0]!==t.COLOR_ATTACHMENT0){for(let Je=0,Lt=Ke.length;Je<Lt;Je++)me[Je]=t.COLOR_ATTACHMENT0+Je;me.length=Ke.length,Re=!0}}else me[0]!==t.BACK&&(me[0]=t.BACK,Re=!0);Re&&t.drawBuffers(me)}function de($){return m!==$?(t.useProgram($),m=$,!0):!1}const te={[Vl]:t.FUNC_ADD,[tO]:t.FUNC_SUBTRACT,[nO]:t.FUNC_REVERSE_SUBTRACT};te[rO]=t.MIN,te[iO]=t.MAX;const fe={[sO]:t.ZERO,[oO]:t.ONE,[aO]:t.SRC_COLOR,[fy]:t.SRC_ALPHA,[fO]:t.SRC_ALPHA_SATURATE,[uO]:t.DST_COLOR,[AO]:t.DST_ALPHA,[lO]:t.ONE_MINUS_SRC_COLOR,[hy]:t.ONE_MINUS_SRC_ALPHA,[dO]:t.ONE_MINUS_DST_COLOR,[cO]:t.ONE_MINUS_DST_ALPHA,[hO]:t.CONSTANT_COLOR,[pO]:t.ONE_MINUS_CONSTANT_COLOR,[mO]:t.CONSTANT_ALPHA,[gO]:t.ONE_MINUS_CONSTANT_ALPHA};function O($,De,me,Re,Ke,Je,Lt,Gt,It,ft){if($===$a){g===!0&&(Le(t.BLEND),g=!1);return}if(g===!1&&(Be(t.BLEND),g=!0),$!==eO){if($!==x||ft!==L){if((y!==Vl||C!==Vl)&&(t.blendEquation(t.FUNC_ADD),y=Vl,C=Vl),ft)switch($){case Gc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case jE:t.blendFunc(t.ONE,t.ONE);break;case VE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case zE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Gc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case jE:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case VE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case zE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}v=null,w=null,S=null,M=null,b.set(0,0,0),T=0,x=$,L=ft}return}Ke=Ke||De,Je=Je||me,Lt=Lt||Re,(De!==y||Ke!==C)&&(t.blendEquationSeparate(te[De],te[Ke]),y=De,C=Ke),(me!==v||Re!==w||Je!==S||Lt!==M)&&(t.blendFuncSeparate(fe[me],fe[Re],fe[Je],fe[Lt]),v=me,w=Re,S=Je,M=Lt),(Gt.equals(b)===!1||It!==T)&&(t.blendColor(Gt.r,Gt.g,Gt.b,It),b.copy(Gt),T=It),x=$,L=!1}function Ie($,De){$.side===Bo?Le(t.CULL_FACE):Be(t.CULL_FACE);let me=$.side===Ii;De&&(me=!me),Pe(me),$.blending===Gc&&$.transparent===!1?O($a):O($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.blendColor,$.blendAlpha,$.premultipliedAlpha),s.setFunc($.depthFunc),s.setTest($.depthTest),s.setMask($.depthWrite),i.setMask($.colorWrite);const Re=$.stencilWrite;o.setTest(Re),Re&&(o.setMask($.stencilWriteMask),o.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),o.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),be($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?Be(t.SAMPLE_ALPHA_TO_COVERAGE):Le(t.SAMPLE_ALPHA_TO_COVERAGE)}function Pe($){P!==$&&($?t.frontFace(t.CW):t.frontFace(t.CCW),P=$)}function q($){$!==qD?(Be(t.CULL_FACE),$!==E&&($===HE?t.cullFace(t.BACK):$===ZD?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Le(t.CULL_FACE),E=$}function ae($){$!==U&&(J&&t.lineWidth($),U=$)}function be($,De,me){$?(Be(t.POLYGON_OFFSET_FILL),(j!==De||Q!==me)&&(t.polygonOffset(De,me),j=De,Q=me)):Le(t.POLYGON_OFFSET_FILL)}function he($){$?Be(t.SCISSOR_TEST):Le(t.SCISSOR_TEST)}function H($){$===void 0&&($=t.TEXTURE0+G-1),N!==$&&(t.activeTexture($),N=$)}function D($,De,me){me===void 0&&(N===null?me=t.TEXTURE0+G-1:me=N);let Re=W[me];Re===void 0&&(Re={type:void 0,texture:void 0},W[me]=Re),(Re.type!==$||Re.texture!==De)&&(N!==me&&(t.activeTexture(me),N=me),t.bindTexture($,De||pe[$]),Re.type=$,Re.texture=De)}function ne(){const $=W[N];$!==void 0&&$.type!==void 0&&(t.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function xe(){try{t.compressedTexImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ge(){try{t.compressedTexImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ve(){try{t.texSubImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Qe(){try{t.texSubImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Te(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ke(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function St(){try{t.texStorage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Oe(){try{t.texStorage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function je(){try{t.texImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function st(){try{t.texImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ut($){Se.equals($)===!1&&(t.scissor($.x,$.y,$.z,$.w),Se.copy($))}function Ye($){Fe.equals($)===!1&&(t.viewport($.x,$.y,$.z,$.w),Fe.copy($))}function Tt($,De){let me=l.get(De);me===void 0&&(me=new WeakMap,l.set(De,me));let Re=me.get($);Re===void 0&&(Re=t.getUniformBlockIndex(De,$.name),me.set($,Re))}function Z($,De){const Re=l.get(De).get($);a.get(De)!==Re&&(t.uniformBlockBinding(De,Re,$.__bindingPointIndex),a.set(De,Re))}function Ne(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),A={},N=null,W={},c={},u=new WeakMap,d=[],m=null,g=!1,x=null,y=null,v=null,w=null,C=null,S=null,M=null,b=new We(0,0,0),T=0,L=!1,P=null,E=null,U=null,j=null,Q=null,Se.set(0,0,t.canvas.width,t.canvas.height),Fe.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:Be,disable:Le,bindFramebuffer:oe,drawBuffers:ie,useProgram:de,setBlending:O,setMaterial:Ie,setFlipSided:Pe,setCullFace:q,setLineWidth:ae,setPolygonOffset:be,setScissorTest:he,activeTexture:H,bindTexture:D,unbindTexture:ne,compressedTexImage2D:xe,compressedTexImage3D:ge,texImage2D:je,texImage3D:st,updateUBOMapping:Tt,uniformBlockBinding:Z,texStorage2D:St,texStorage3D:Oe,texSubImage2D:ve,texSubImage3D:Qe,compressedTexSubImage2D:Te,compressedTexSubImage3D:ke,scissor:ut,viewport:Ye,reset:Ne}}function ioe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function soe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function ooe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function YE(t,e,n,r){const i=aoe(r);switch(n){case y5:return t*e;case w5:return t*e;case C5:return t*e*2;case vw:return t*e/i.components*i.byteLength;case E2:return t*e/i.components*i.byteLength;case B5:return t*e*2/i.components*i.byteLength;case yw:return t*e*2/i.components*i.byteLength;case x5:return t*e*3/i.components*i.byteLength;case Ai:return t*e*4/i.components*i.byteLength;case xw:return t*e*4/i.components*i.byteLength;case O0:case k0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Q0:case H0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case By:case _y:return Math.max(t,16)*Math.max(e,8)/4;case Cy:case Sy:return Math.max(t,8)*Math.max(e,8)/2;case Ey:case by:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case My:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Ty:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Iy:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Fy:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Uy:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Ly:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Ry:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Py:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Ny:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Dy:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Oy:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case ky:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Qy:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Hy:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case jy:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case j0:case Vy:case zy:return Math.ceil(t/4)*Math.ceil(e/4)*16;case S5:case Gy:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Ky:case Wy:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function aoe(t){switch(t){case Io:case m5:return{byteLength:1,components:1};case If:case g5:case Jf:return{byteLength:2,components:1};case mw:case gw:return{byteLength:2,components:4};case il:case pw:case Wi:return{byteLength:4,components:1};case v5:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const loe={contain:ioe,cover:soe,fill:ooe,getByteLength:YE};function Aoe(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),A=new Ue,c=new WeakMap;let u;const d=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(H,D){return m?new OffscreenCanvas(H,D):Np("canvas")}function x(H,D,ne){let xe=1;const ge=he(H);if((ge.width>ne||ge.height>ne)&&(xe=ne/Math.max(ge.width,ge.height)),xe<1)if(typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&H instanceof ImageBitmap||typeof VideoFrame<"u"&&H instanceof VideoFrame){const ve=Math.floor(xe*ge.width),Qe=Math.floor(xe*ge.height);u===void 0&&(u=g(ve,Qe));const Te=D?g(ve,Qe):u;return Te.width=ve,Te.height=Qe,Te.getContext("2d").drawImage(H,0,0,ve,Qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ge.width+"x"+ge.height+") to ("+ve+"x"+Qe+")."),Te}else return"data"in H&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ge.width+"x"+ge.height+")."),H;return H}function y(H){return H.generateMipmaps&&H.minFilter!==Sr&&H.minFilter!==tr}function v(H){t.generateMipmap(H)}function w(H,D,ne,xe,ge=!1){if(H!==null){if(t[H]!==void 0)return t[H];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+H+"'")}let ve=D;if(D===t.RED&&(ne===t.FLOAT&&(ve=t.R32F),ne===t.HALF_FLOAT&&(ve=t.R16F),ne===t.UNSIGNED_BYTE&&(ve=t.R8)),D===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(ve=t.R8UI),ne===t.UNSIGNED_SHORT&&(ve=t.R16UI),ne===t.UNSIGNED_INT&&(ve=t.R32UI),ne===t.BYTE&&(ve=t.R8I),ne===t.SHORT&&(ve=t.R16I),ne===t.INT&&(ve=t.R32I)),D===t.RG&&(ne===t.FLOAT&&(ve=t.RG32F),ne===t.HALF_FLOAT&&(ve=t.RG16F),ne===t.UNSIGNED_BYTE&&(ve=t.RG8)),D===t.RG_INTEGER&&(ne===t.UNSIGNED_BYTE&&(ve=t.RG8UI),ne===t.UNSIGNED_SHORT&&(ve=t.RG16UI),ne===t.UNSIGNED_INT&&(ve=t.RG32UI),ne===t.BYTE&&(ve=t.RG8I),ne===t.SHORT&&(ve=t.RG16I),ne===t.INT&&(ve=t.RG32I)),D===t.RGB_INTEGER&&(ne===t.UNSIGNED_BYTE&&(ve=t.RGB8UI),ne===t.UNSIGNED_SHORT&&(ve=t.RGB16UI),ne===t.UNSIGNED_INT&&(ve=t.RGB32UI),ne===t.BYTE&&(ve=t.RGB8I),ne===t.SHORT&&(ve=t.RGB16I),ne===t.INT&&(ve=t.RGB32I)),D===t.RGBA_INTEGER&&(ne===t.UNSIGNED_BYTE&&(ve=t.RGBA8UI),ne===t.UNSIGNED_SHORT&&(ve=t.RGBA16UI),ne===t.UNSIGNED_INT&&(ve=t.RGBA32UI),ne===t.BYTE&&(ve=t.RGBA8I),ne===t.SHORT&&(ve=t.RGBA16I),ne===t.INT&&(ve=t.RGBA32I)),D===t.RGB&&ne===t.UNSIGNED_INT_5_9_9_9_REV&&(ve=t.RGB9_E5),D===t.RGBA){const Qe=ge?Fp:sn.getTransfer(xe);ne===t.FLOAT&&(ve=t.RGBA32F),ne===t.HALF_FLOAT&&(ve=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(ve=Qe===Mn?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(ve=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(ve=t.RGB5_A1)}return(ve===t.R16F||ve===t.R32F||ve===t.RG16F||ve===t.RG32F||ve===t.RGBA16F||ve===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ve}function C(H,D){let ne;return H?D===null||D===il||D===Au?ne=t.DEPTH24_STENCIL8:D===Wi?ne=t.DEPTH32F_STENCIL8:D===If&&(ne=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):D===null||D===il||D===Au?ne=t.DEPTH_COMPONENT24:D===Wi?ne=t.DEPTH_COMPONENT32F:D===If&&(ne=t.DEPTH_COMPONENT16),ne}function S(H,D){return y(H)===!0||H.isFramebufferTexture&&H.minFilter!==Sr&&H.minFilter!==tr?Math.log2(Math.max(D.width,D.height))+1:H.mipmaps!==void 0&&H.mipmaps.length>0?H.mipmaps.length:H.isCompressedTexture&&Array.isArray(H.image)?D.mipmaps.length:1}function M(H){const D=H.target;D.removeEventListener("dispose",M),T(D),D.isVideoTexture&&c.delete(D)}function b(H){const D=H.target;D.removeEventListener("dispose",b),P(D)}function T(H){const D=r.get(H);if(D.__webglInit===void 0)return;const ne=H.source,xe=d.get(ne);if(xe){const ge=xe[D.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&L(H),Object.keys(xe).length===0&&d.delete(ne)}r.remove(H)}function L(H){const D=r.get(H);t.deleteTexture(D.__webglTexture);const ne=H.source,xe=d.get(ne);delete xe[D.__cacheKey],o.memory.textures--}function P(H){const D=r.get(H);if(H.depthTexture&&H.depthTexture.dispose(),H.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(D.__webglFramebuffer[xe]))for(let ge=0;ge<D.__webglFramebuffer[xe].length;ge++)t.deleteFramebuffer(D.__webglFramebuffer[xe][ge]);else t.deleteFramebuffer(D.__webglFramebuffer[xe]);D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer[xe])}else{if(Array.isArray(D.__webglFramebuffer))for(let xe=0;xe<D.__webglFramebuffer.length;xe++)t.deleteFramebuffer(D.__webglFramebuffer[xe]);else t.deleteFramebuffer(D.__webglFramebuffer);if(D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&t.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let xe=0;xe<D.__webglColorRenderbuffer.length;xe++)D.__webglColorRenderbuffer[xe]&&t.deleteRenderbuffer(D.__webglColorRenderbuffer[xe]);D.__webglDepthRenderbuffer&&t.deleteRenderbuffer(D.__webglDepthRenderbuffer)}const ne=H.textures;for(let xe=0,ge=ne.length;xe<ge;xe++){const ve=r.get(ne[xe]);ve.__webglTexture&&(t.deleteTexture(ve.__webglTexture),o.memory.textures--),r.remove(ne[xe])}r.remove(H)}let E=0;function U(){E=0}function j(){const H=E;return H>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+H+" texture units while this GPU supports only "+i.maxTextures),E+=1,H}function Q(H){const D=[];return D.push(H.wrapS),D.push(H.wrapT),D.push(H.wrapR||0),D.push(H.magFilter),D.push(H.minFilter),D.push(H.anisotropy),D.push(H.internalFormat),D.push(H.format),D.push(H.type),D.push(H.generateMipmaps),D.push(H.premultiplyAlpha),D.push(H.flipY),D.push(H.unpackAlignment),D.push(H.colorSpace),D.join()}function G(H,D){const ne=r.get(H);if(H.isVideoTexture&&ae(H),H.isRenderTargetTexture===!1&&H.version>0&&ne.__version!==H.version){const xe=H.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Fe(ne,H,D);return}}n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+D)}function J(H,D){const ne=r.get(H);if(H.version>0&&ne.__version!==H.version){Fe(ne,H,D);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+D)}function k(H,D){const ne=r.get(H);if(H.version>0&&ne.__version!==H.version){Fe(ne,H,D);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+D)}function V(H,D){const ne=r.get(H);if(H.version>0&&ne.__version!==H.version){ce(ne,H,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+D)}const N={[IA]:t.REPEAT,[fs]:t.CLAMP_TO_EDGE,[Tf]:t.MIRRORED_REPEAT},W={[Sr]:t.NEAREST,[hw]:t.NEAREST_MIPMAP_NEAREST,[bc]:t.NEAREST_MIPMAP_LINEAR,[tr]:t.LINEAR,[$d]:t.LINEAR_MIPMAP_NEAREST,[Xs]:t.LINEAR_MIPMAP_LINEAR},Y={[RO]:t.NEVER,[QO]:t.ALWAYS,[PO]:t.LESS,[b5]:t.LEQUAL,[NO]:t.EQUAL,[kO]:t.GEQUAL,[DO]:t.GREATER,[OO]:t.NOTEQUAL};function re(H,D){if(D.type===Wi&&e.has("OES_texture_float_linear")===!1&&(D.magFilter===tr||D.magFilter===$d||D.magFilter===bc||D.magFilter===Xs||D.minFilter===tr||D.minFilter===$d||D.minFilter===bc||D.minFilter===Xs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(H,t.TEXTURE_WRAP_S,N[D.wrapS]),t.texParameteri(H,t.TEXTURE_WRAP_T,N[D.wrapT]),(H===t.TEXTURE_3D||H===t.TEXTURE_2D_ARRAY)&&t.texParameteri(H,t.TEXTURE_WRAP_R,N[D.wrapR]),t.texParameteri(H,t.TEXTURE_MAG_FILTER,W[D.magFilter]),t.texParameteri(H,t.TEXTURE_MIN_FILTER,W[D.minFilter]),D.compareFunction&&(t.texParameteri(H,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(H,t.TEXTURE_COMPARE_FUNC,Y[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(D.magFilter===Sr||D.minFilter!==bc&&D.minFilter!==Xs||D.type===Wi&&e.has("OES_texture_float_linear")===!1)return;if(D.anisotropy>1||r.get(D).__currentAnisotropy){const ne=e.get("EXT_texture_filter_anisotropic");t.texParameterf(H,ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy}}}function Se(H,D){let ne=!1;H.__webglInit===void 0&&(H.__webglInit=!0,D.addEventListener("dispose",M));const xe=D.source;let ge=d.get(xe);ge===void 0&&(ge={},d.set(xe,ge));const ve=Q(D);if(ve!==H.__cacheKey){ge[ve]===void 0&&(ge[ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),ge[ve].usedTimes++;const Qe=ge[H.__cacheKey];Qe!==void 0&&(ge[H.__cacheKey].usedTimes--,Qe.usedTimes===0&&L(D)),H.__cacheKey=ve,H.__webglTexture=ge[ve].texture}return ne}function Fe(H,D,ne){let xe=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(xe=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(xe=t.TEXTURE_3D);const ge=Se(H,D),ve=D.source;n.bindTexture(xe,H.__webglTexture,t.TEXTURE0+ne);const Qe=r.get(ve);if(ve.version!==Qe.__version||ge===!0){n.activeTexture(t.TEXTURE0+ne);const Te=sn.getPrimaries(sn.workingColorSpace),ke=D.colorSpace===ja?null:sn.getPrimaries(D.colorSpace),St=D.colorSpace===ja||Te===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let Oe=x(D.image,!1,i.maxTextureSize);Oe=be(D,Oe);const je=s.convert(D.format,D.colorSpace),st=s.convert(D.type);let ut=w(D.internalFormat,je,st,D.colorSpace,D.isVideoTexture);re(xe,D);let Ye;const Tt=D.mipmaps,Z=D.isVideoTexture!==!0,Ne=Qe.__version===void 0||ge===!0,$=ve.dataReady,De=S(D,Oe);if(D.isDepthTexture)ut=C(D.format===cu,D.type),Ne&&(Z?n.texStorage2D(t.TEXTURE_2D,1,ut,Oe.width,Oe.height):n.texImage2D(t.TEXTURE_2D,0,ut,Oe.width,Oe.height,0,je,st,null));else if(D.isDataTexture)if(Tt.length>0){Z&&Ne&&n.texStorage2D(t.TEXTURE_2D,De,ut,Tt[0].width,Tt[0].height);for(let me=0,Re=Tt.length;me<Re;me++)Ye=Tt[me],Z?$&&n.texSubImage2D(t.TEXTURE_2D,me,0,0,Ye.width,Ye.height,je,st,Ye.data):n.texImage2D(t.TEXTURE_2D,me,ut,Ye.width,Ye.height,0,je,st,Ye.data);D.generateMipmaps=!1}else Z?(Ne&&n.texStorage2D(t.TEXTURE_2D,De,ut,Oe.width,Oe.height),$&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe.width,Oe.height,je,st,Oe.data)):n.texImage2D(t.TEXTURE_2D,0,ut,Oe.width,Oe.height,0,je,st,Oe.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Z&&Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,ut,Tt[0].width,Tt[0].height,Oe.depth);for(let me=0,Re=Tt.length;me<Re;me++)if(Ye=Tt[me],D.format!==Ai)if(je!==null)if(Z){if($)if(D.layerUpdates.size>0){const Ke=YE(Ye.width,Ye.height,D.format,D.type);for(const Je of D.layerUpdates){const Lt=Ye.data.subarray(Je*Ke/Ye.data.BYTES_PER_ELEMENT,(Je+1)*Ke/Ye.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,me,0,0,Je,Ye.width,Ye.height,1,je,Lt,0,0)}D.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,me,0,0,0,Ye.width,Ye.height,Oe.depth,je,Ye.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,me,ut,Ye.width,Ye.height,Oe.depth,0,Ye.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Z?$&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,me,0,0,0,Ye.width,Ye.height,Oe.depth,je,st,Ye.data):n.texImage3D(t.TEXTURE_2D_ARRAY,me,ut,Ye.width,Ye.height,Oe.depth,0,je,st,Ye.data)}else{Z&&Ne&&n.texStorage2D(t.TEXTURE_2D,De,ut,Tt[0].width,Tt[0].height);for(let me=0,Re=Tt.length;me<Re;me++)Ye=Tt[me],D.format!==Ai?je!==null?Z?$&&n.compressedTexSubImage2D(t.TEXTURE_2D,me,0,0,Ye.width,Ye.height,je,Ye.data):n.compressedTexImage2D(t.TEXTURE_2D,me,ut,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?$&&n.texSubImage2D(t.TEXTURE_2D,me,0,0,Ye.width,Ye.height,je,st,Ye.data):n.texImage2D(t.TEXTURE_2D,me,ut,Ye.width,Ye.height,0,je,st,Ye.data)}else if(D.isDataArrayTexture)if(Z){if(Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,ut,Oe.width,Oe.height,Oe.depth),$)if(D.layerUpdates.size>0){const me=YE(Oe.width,Oe.height,D.format,D.type);for(const Re of D.layerUpdates){const Ke=Oe.data.subarray(Re*me/Oe.data.BYTES_PER_ELEMENT,(Re+1)*me/Oe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Re,Oe.width,Oe.height,1,je,st,Ke)}D.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,je,st,Oe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ut,Oe.width,Oe.height,Oe.depth,0,je,st,Oe.data);else if(D.isData3DTexture)Z?(Ne&&n.texStorage3D(t.TEXTURE_3D,De,ut,Oe.width,Oe.height,Oe.depth),$&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,je,st,Oe.data)):n.texImage3D(t.TEXTURE_3D,0,ut,Oe.width,Oe.height,Oe.depth,0,je,st,Oe.data);else if(D.isFramebufferTexture){if(Ne)if(Z)n.texStorage2D(t.TEXTURE_2D,De,ut,Oe.width,Oe.height);else{let me=Oe.width,Re=Oe.height;for(let Ke=0;Ke<De;Ke++)n.texImage2D(t.TEXTURE_2D,Ke,ut,me,Re,0,je,st,null),me>>=1,Re>>=1}}else if(Tt.length>0){if(Z&&Ne){const me=he(Tt[0]);n.texStorage2D(t.TEXTURE_2D,De,ut,me.width,me.height)}for(let me=0,Re=Tt.length;me<Re;me++)Ye=Tt[me],Z?$&&n.texSubImage2D(t.TEXTURE_2D,me,0,0,je,st,Ye):n.texImage2D(t.TEXTURE_2D,me,ut,je,st,Ye);D.generateMipmaps=!1}else if(Z){if(Ne){const me=he(Oe);n.texStorage2D(t.TEXTURE_2D,De,ut,me.width,me.height)}$&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,je,st,Oe)}else n.texImage2D(t.TEXTURE_2D,0,ut,je,st,Oe);y(D)&&v(xe),Qe.__version=ve.version,D.onUpdate&&D.onUpdate(D)}H.__version=D.version}function ce(H,D,ne){if(D.image.length!==6)return;const xe=Se(H,D),ge=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,H.__webglTexture,t.TEXTURE0+ne);const ve=r.get(ge);if(ge.version!==ve.__version||xe===!0){n.activeTexture(t.TEXTURE0+ne);const Qe=sn.getPrimaries(sn.workingColorSpace),Te=D.colorSpace===ja?null:sn.getPrimaries(D.colorSpace),ke=D.colorSpace===ja||Qe===Te?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ke);const St=D.isCompressedTexture||D.image[0].isCompressedTexture,Oe=D.image[0]&&D.image[0].isDataTexture,je=[];for(let Re=0;Re<6;Re++)!St&&!Oe?je[Re]=x(D.image[Re],!0,i.maxCubemapSize):je[Re]=Oe?D.image[Re].image:D.image[Re],je[Re]=be(D,je[Re]);const st=je[0],ut=s.convert(D.format,D.colorSpace),Ye=s.convert(D.type),Tt=w(D.internalFormat,ut,Ye,D.colorSpace),Z=D.isVideoTexture!==!0,Ne=ve.__version===void 0||xe===!0,$=ge.dataReady;let De=S(D,st);re(t.TEXTURE_CUBE_MAP,D);let me;if(St){Z&&Ne&&n.texStorage2D(t.TEXTURE_CUBE_MAP,De,Tt,st.width,st.height);for(let Re=0;Re<6;Re++){me=je[Re].mipmaps;for(let Ke=0;Ke<me.length;Ke++){const Je=me[Ke];D.format!==Ai?ut!==null?Z?$&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,0,0,Je.width,Je.height,ut,Je.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,Tt,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?$&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,0,0,Je.width,Je.height,ut,Ye,Je.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,Tt,Je.width,Je.height,0,ut,Ye,Je.data)}}}else{if(me=D.mipmaps,Z&&Ne){me.length>0&&De++;const Re=he(je[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,De,Tt,Re.width,Re.height)}for(let Re=0;Re<6;Re++)if(Oe){Z?$&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,je[Re].width,je[Re].height,ut,Ye,je[Re].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,Tt,je[Re].width,je[Re].height,0,ut,Ye,je[Re].data);for(let Ke=0;Ke<me.length;Ke++){const Lt=me[Ke].image[Re].image;Z?$&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,0,0,Lt.width,Lt.height,ut,Ye,Lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,Tt,Lt.width,Lt.height,0,ut,Ye,Lt.data)}}else{Z?$&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,ut,Ye,je[Re]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,Tt,ut,Ye,je[Re]);for(let Ke=0;Ke<me.length;Ke++){const Je=me[Ke];Z?$&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,0,0,ut,Ye,Je.image[Re]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,Tt,ut,Ye,Je.image[Re])}}}y(D)&&v(t.TEXTURE_CUBE_MAP),ve.__version=ge.version,D.onUpdate&&D.onUpdate(D)}H.__version=D.version}function pe(H,D,ne,xe,ge,ve){const Qe=s.convert(ne.format,ne.colorSpace),Te=s.convert(ne.type),ke=w(ne.internalFormat,Qe,Te,ne.colorSpace);if(!r.get(D).__hasExternalTextures){const Oe=Math.max(1,D.width>>ve),je=Math.max(1,D.height>>ve);ge===t.TEXTURE_3D||ge===t.TEXTURE_2D_ARRAY?n.texImage3D(ge,ve,ke,Oe,je,D.depth,0,Qe,Te,null):n.texImage2D(ge,ve,ke,Oe,je,0,Qe,Te,null)}n.bindFramebuffer(t.FRAMEBUFFER,H),q(D)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,xe,ge,r.get(ne).__webglTexture,0,Pe(D)):(ge===t.TEXTURE_2D||ge>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ge<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,xe,ge,r.get(ne).__webglTexture,ve),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Be(H,D,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,H),D.depthBuffer){const xe=D.depthTexture,ge=xe&&xe.isDepthTexture?xe.type:null,ve=C(D.stencilBuffer,ge),Qe=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=Pe(D);q(D)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Te,ve,D.width,D.height):ne?t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,ve,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ve,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Qe,t.RENDERBUFFER,H)}else{const xe=D.textures;for(let ge=0;ge<xe.length;ge++){const ve=xe[ge],Qe=s.convert(ve.format,ve.colorSpace),Te=s.convert(ve.type),ke=w(ve.internalFormat,Qe,Te,ve.colorSpace),St=Pe(D);ne&&q(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,St,ke,D.width,D.height):q(D)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,St,ke,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ke,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Le(H,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,H),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),G(D.depthTexture,0);const xe=r.get(D.depthTexture).__webglTexture,ge=Pe(D);if(D.depthTexture.format===Kc)q(D)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0);else if(D.depthTexture.format===cu)q(D)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function oe(H){const D=r.get(H),ne=H.isWebGLCubeRenderTarget===!0;if(D.__boundDepthTexture!==H.depthTexture){const xe=H.depthTexture;if(D.__depthDisposeCallback&&D.__depthDisposeCallback(),xe){const ge=()=>{delete D.__boundDepthTexture,delete D.__depthDisposeCallback,xe.removeEventListener("dispose",ge)};xe.addEventListener("dispose",ge),D.__depthDisposeCallback=ge}D.__boundDepthTexture=xe}if(H.depthTexture&&!D.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");Le(D.__webglFramebuffer,H)}else if(ne){D.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)if(n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[xe]),D.__webglDepthbuffer[xe]===void 0)D.__webglDepthbuffer[xe]=t.createRenderbuffer(),Be(D.__webglDepthbuffer[xe],H,!1);else{const ge=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ve=D.__webglDepthbuffer[xe];t.bindRenderbuffer(t.RENDERBUFFER,ve),t.framebufferRenderbuffer(t.FRAMEBUFFER,ge,t.RENDERBUFFER,ve)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer===void 0)D.__webglDepthbuffer=t.createRenderbuffer(),Be(D.__webglDepthbuffer,H,!1);else{const xe=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=D.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,xe,t.RENDERBUFFER,ge)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ie(H,D,ne){const xe=r.get(H);D!==void 0&&pe(xe.__webglFramebuffer,H,H.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&oe(H)}function de(H){const D=H.texture,ne=r.get(H),xe=r.get(D);H.addEventListener("dispose",b);const ge=H.textures,ve=H.isWebGLCubeRenderTarget===!0,Qe=ge.length>1;if(Qe||(xe.__webglTexture===void 0&&(xe.__webglTexture=t.createTexture()),xe.__version=D.version,o.memory.textures++),ve){ne.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)if(D.mipmaps&&D.mipmaps.length>0){ne.__webglFramebuffer[Te]=[];for(let ke=0;ke<D.mipmaps.length;ke++)ne.__webglFramebuffer[Te][ke]=t.createFramebuffer()}else ne.__webglFramebuffer[Te]=t.createFramebuffer()}else{if(D.mipmaps&&D.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Te=0;Te<D.mipmaps.length;Te++)ne.__webglFramebuffer[Te]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(Qe)for(let Te=0,ke=ge.length;Te<ke;Te++){const St=r.get(ge[Te]);St.__webglTexture===void 0&&(St.__webglTexture=t.createTexture(),o.memory.textures++)}if(H.samples>0&&q(H)===!1){ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let Te=0;Te<ge.length;Te++){const ke=ge[Te];ne.__webglColorRenderbuffer[Te]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[Te]);const St=s.convert(ke.format,ke.colorSpace),Oe=s.convert(ke.type),je=w(ke.internalFormat,St,Oe,ke.colorSpace,H.isXRRenderTarget===!0),st=Pe(H);t.renderbufferStorageMultisample(t.RENDERBUFFER,st,je,H.width,H.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.RENDERBUFFER,ne.__webglColorRenderbuffer[Te])}t.bindRenderbuffer(t.RENDERBUFFER,null),H.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),Be(ne.__webglDepthRenderbuffer,H,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ve){n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture),re(t.TEXTURE_CUBE_MAP,D);for(let Te=0;Te<6;Te++)if(D.mipmaps&&D.mipmaps.length>0)for(let ke=0;ke<D.mipmaps.length;ke++)pe(ne.__webglFramebuffer[Te][ke],H,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,ke);else pe(ne.__webglFramebuffer[Te],H,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0);y(D)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Qe){for(let Te=0,ke=ge.length;Te<ke;Te++){const St=ge[Te],Oe=r.get(St);n.bindTexture(t.TEXTURE_2D,Oe.__webglTexture),re(t.TEXTURE_2D,St),pe(ne.__webglFramebuffer,H,St,t.COLOR_ATTACHMENT0+Te,t.TEXTURE_2D,0),y(St)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let Te=t.TEXTURE_2D;if((H.isWebGL3DRenderTarget||H.isWebGLArrayRenderTarget)&&(Te=H.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Te,xe.__webglTexture),re(Te,D),D.mipmaps&&D.mipmaps.length>0)for(let ke=0;ke<D.mipmaps.length;ke++)pe(ne.__webglFramebuffer[ke],H,D,t.COLOR_ATTACHMENT0,Te,ke);else pe(ne.__webglFramebuffer,H,D,t.COLOR_ATTACHMENT0,Te,0);y(D)&&v(Te),n.unbindTexture()}H.depthBuffer&&oe(H)}function te(H){const D=H.textures;for(let ne=0,xe=D.length;ne<xe;ne++){const ge=D[ne];if(y(ge)){const ve=H.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Qe=r.get(ge).__webglTexture;n.bindTexture(ve,Qe),v(ve),n.unbindTexture()}}}const fe=[],O=[];function Ie(H){if(H.samples>0){if(q(H)===!1){const D=H.textures,ne=H.width,xe=H.height;let ge=t.COLOR_BUFFER_BIT;const ve=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Qe=r.get(H),Te=D.length>1;if(Te)for(let ke=0;ke<D.length;ke++)n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Qe.__webglFramebuffer);for(let ke=0;ke<D.length;ke++){if(H.resolveDepthBuffer&&(H.depthBuffer&&(ge|=t.DEPTH_BUFFER_BIT),H.stencilBuffer&&H.resolveStencilBuffer&&(ge|=t.STENCIL_BUFFER_BIT)),Te){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Qe.__webglColorRenderbuffer[ke]);const St=r.get(D[ke]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,St,0)}t.blitFramebuffer(0,0,ne,xe,0,0,ne,xe,ge,t.NEAREST),l===!0&&(fe.length=0,O.length=0,fe.push(t.COLOR_ATTACHMENT0+ke),H.depthBuffer&&H.resolveDepthBuffer===!1&&(fe.push(ve),O.push(ve),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,O)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,fe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Te)for(let ke=0;ke<D.length;ke++){n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,Qe.__webglColorRenderbuffer[ke]);const St=r.get(D[ke]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,St,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Qe.__webglMultisampledFramebuffer)}else if(H.depthBuffer&&H.resolveDepthBuffer===!1&&l){const D=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[D])}}}function Pe(H){return Math.min(i.maxSamples,H.samples)}function q(H){const D=r.get(H);return H.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function ae(H){const D=o.render.frame;c.get(H)!==D&&(c.set(H,D),H.update())}function be(H,D){const ne=H.colorSpace,xe=H.format,ge=H.type;return H.isCompressedTexture===!0||H.isVideoTexture===!0||ne!==Or&&ne!==ja&&(sn.getTransfer(ne)===Mn?(xe!==Ai||ge!==Io)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),D}function he(H){return typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement?(A.width=H.naturalWidth||H.width,A.height=H.naturalHeight||H.height):typeof VideoFrame<"u"&&H instanceof VideoFrame?(A.width=H.displayWidth,A.height=H.displayHeight):(A.width=H.width,A.height=H.height),A}this.allocateTextureUnit=j,this.resetTextureUnits=U,this.setTexture2D=G,this.setTexture2DArray=J,this.setTexture3D=k,this.setTextureCube=V,this.rebindTextures=ie,this.setupRenderTarget=de,this.updateRenderTargetMipmap=te,this.updateMultisampleRenderTarget=Ie,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=q}function nk(t,e){function n(r,i=ja){let s;const o=sn.getTransfer(i);if(r===Io)return t.UNSIGNED_BYTE;if(r===mw)return t.UNSIGNED_SHORT_4_4_4_4;if(r===gw)return t.UNSIGNED_SHORT_5_5_5_1;if(r===v5)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===m5)return t.BYTE;if(r===g5)return t.SHORT;if(r===If)return t.UNSIGNED_SHORT;if(r===pw)return t.INT;if(r===il)return t.UNSIGNED_INT;if(r===Wi)return t.FLOAT;if(r===Jf)return t.HALF_FLOAT;if(r===y5)return t.ALPHA;if(r===x5)return t.RGB;if(r===Ai)return t.RGBA;if(r===w5)return t.LUMINANCE;if(r===C5)return t.LUMINANCE_ALPHA;if(r===Kc)return t.DEPTH_COMPONENT;if(r===cu)return t.DEPTH_STENCIL;if(r===vw)return t.RED;if(r===E2)return t.RED_INTEGER;if(r===B5)return t.RG;if(r===yw)return t.RG_INTEGER;if(r===xw)return t.RGBA_INTEGER;if(r===O0||r===k0||r===Q0||r===H0)if(o===Mn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===O0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===k0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Q0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===H0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===O0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===k0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Q0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===H0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Cy||r===By||r===Sy||r===_y)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===Cy)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===By)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Sy)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===_y)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Ey||r===by||r===My)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===Ey||r===by)return o===Mn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===My)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Ty||r===Iy||r===Fy||r===Uy||r===Ly||r===Ry||r===Py||r===Ny||r===Dy||r===Oy||r===ky||r===Qy||r===Hy||r===jy)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===Ty)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Iy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Fy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Uy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Ly)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Ry)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Py)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Ny)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Dy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Oy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===ky)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Qy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Hy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===jy)return o===Mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===j0||r===Vy||r===zy)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===j0)return o===Mn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Vy)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===zy)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===S5||r===Gy||r===Ky||r===Wy)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===j0)return s.COMPRESSED_RED_RGTC1_EXT;if(r===Gy)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Ky)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Wy)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Au?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class rk extends er{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ka extends tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const coe={type:"move"};class KB{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ka,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ka,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ka,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,A=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(A&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),v=this._getHandJoint(A,x);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const c=A.joints["index-finger-tip"],u=A.joints["thumb-tip"],d=c.position.distanceTo(u.position),m=.02,g=.005;A.inputState.pinching&&d>m+g?(A.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!A.inputState.pinching&&d<=m-g&&(A.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(coe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),A!==null&&(A.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ka;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const uoe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,doe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class foe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Pn,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Uo({vertexShader:uoe,fragmentShader:doe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new lr(new eh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class hoe extends No{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,A=null,c=null,u=null,d=null,m=null,g=null;const x=new foe,y=n.getContextAttributes();let v=null,w=null;const C=[],S=[],M=new Ue;let b=null;const T=new er;T.layers.enable(1),T.viewport=new an;const L=new er;L.layers.enable(2),L.viewport=new an;const P=[T,L],E=new rk;E.layers.enable(1),E.layers.enable(2);let U=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let pe=C[ce];return pe===void 0&&(pe=new KB,C[ce]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ce){let pe=C[ce];return pe===void 0&&(pe=new KB,C[ce]=pe),pe.getGripSpace()},this.getHand=function(ce){let pe=C[ce];return pe===void 0&&(pe=new KB,C[ce]=pe),pe.getHandSpace()};function Q(ce){const pe=S.indexOf(ce.inputSource);if(pe===-1)return;const Be=C[pe];Be!==void 0&&(Be.update(ce.inputSource,ce.frame,A||o),Be.dispatchEvent({type:ce.type,data:ce.inputSource}))}function G(){i.removeEventListener("select",Q),i.removeEventListener("selectstart",Q),i.removeEventListener("selectend",Q),i.removeEventListener("squeeze",Q),i.removeEventListener("squeezestart",Q),i.removeEventListener("squeezeend",Q),i.removeEventListener("end",G),i.removeEventListener("inputsourceschange",J);for(let ce=0;ce<C.length;ce++){const pe=S[ce];pe!==null&&(S[ce]=null,C[ce].disconnect(pe))}U=null,j=null,x.reset(),e.setRenderTarget(v),m=null,d=null,u=null,i=null,w=null,Fe.stop(),r.isPresenting=!1,e.setPixelRatio(b),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){s=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){a=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return A||o},this.setReferenceSpace=function(ce){A=ce},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return u},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ce){if(i=ce,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",Q),i.addEventListener("selectstart",Q),i.addEventListener("selectend",Q),i.addEventListener("squeeze",Q),i.addEventListener("squeezestart",Q),i.addEventListener("squeezeend",Q),i.addEventListener("end",G),i.addEventListener("inputsourceschange",J),y.xrCompatible!==!0&&await n.makeXRCompatible(),b=e.getPixelRatio(),e.getSize(M),i.renderState.layers===void 0){const pe={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,pe),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),w=new Fo(m.framebufferWidth,m.framebufferHeight,{format:Ai,type:Io,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let pe=null,Be=null,Le=null;y.depth&&(Le=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,pe=y.stencil?cu:Kc,Be=y.stencil?Au:il);const oe={colorFormat:n.RGBA8,depthFormat:Le,scaleFactor:s};u=new XRWebGLBinding(i,n),d=u.createProjectionLayer(oe),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),w=new Fo(d.textureWidth,d.textureHeight,{format:Ai,type:Io,depthTexture:new L5(d.textureWidth,d.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),A=null,o=await i.requestReferenceSpace(a),Fe.setContext(i),Fe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function J(ce){for(let pe=0;pe<ce.removed.length;pe++){const Be=ce.removed[pe],Le=S.indexOf(Be);Le>=0&&(S[Le]=null,C[Le].disconnect(Be))}for(let pe=0;pe<ce.added.length;pe++){const Be=ce.added[pe];let Le=S.indexOf(Be);if(Le===-1){for(let ie=0;ie<C.length;ie++)if(ie>=S.length){S.push(Be),Le=ie;break}else if(S[ie]===null){S[ie]=Be,Le=ie;break}if(Le===-1)break}const oe=C[Le];oe&&oe.connect(Be)}}const k=new K,V=new K;function N(ce,pe,Be){k.setFromMatrixPosition(pe.matrixWorld),V.setFromMatrixPosition(Be.matrixWorld);const Le=k.distanceTo(V),oe=pe.projectionMatrix.elements,ie=Be.projectionMatrix.elements,de=oe[14]/(oe[10]-1),te=oe[14]/(oe[10]+1),fe=(oe[9]+1)/oe[5],O=(oe[9]-1)/oe[5],Ie=(oe[8]-1)/oe[0],Pe=(ie[8]+1)/ie[0],q=de*Ie,ae=de*Pe,be=Le/(-Ie+Pe),he=be*-Ie;if(pe.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(he),ce.translateZ(be),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),oe[10]===-1)ce.projectionMatrix.copy(pe.projectionMatrix),ce.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const H=de+be,D=te+be,ne=q-he,xe=ae+(Le-he),ge=fe*te/D*H,ve=O*te/D*H;ce.projectionMatrix.makePerspective(ne,xe,ge,ve,H,D),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function W(ce,pe){pe===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(pe.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(i===null)return;let pe=ce.near,Be=ce.far;x.texture!==null&&(x.depthNear>0&&(pe=x.depthNear),x.depthFar>0&&(Be=x.depthFar)),E.near=L.near=T.near=pe,E.far=L.far=T.far=Be,(U!==E.near||j!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),U=E.near,j=E.far);const Le=ce.parent,oe=E.cameras;W(E,Le);for(let ie=0;ie<oe.length;ie++)W(oe[ie],Le);oe.length===2?N(E,T,L):E.projectionMatrix.copy(T.projectionMatrix),Y(ce,E,Le)};function Y(ce,pe,Be){Be===null?ce.matrix.copy(pe.matrixWorld):(ce.matrix.copy(Be.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(pe.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(pe.projectionMatrix),ce.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Lf*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(ce){l=ce,d!==null&&(d.fixedFoveation=ce),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ce)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(E)};let re=null;function Se(ce,pe){if(c=pe.getViewerPose(A||o),g=pe,c!==null){const Be=c.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let Le=!1;Be.length!==E.cameras.length&&(E.cameras.length=0,Le=!0);for(let ie=0;ie<Be.length;ie++){const de=Be[ie];let te=null;if(m!==null)te=m.getViewport(de);else{const O=u.getViewSubImage(d,de);te=O.viewport,ie===0&&(e.setRenderTargetTextures(w,O.colorTexture,d.ignoreDepthValues?void 0:O.depthStencilTexture),e.setRenderTarget(w))}let fe=P[ie];fe===void 0&&(fe=new er,fe.layers.enable(ie),fe.viewport=new an,P[ie]=fe),fe.matrix.fromArray(de.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(de.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(te.x,te.y,te.width,te.height),ie===0&&(E.matrix.copy(fe.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),Le===!0&&E.cameras.push(fe)}const oe=i.enabledFeatures;if(oe&&oe.includes("depth-sensing")){const ie=u.getDepthInformation(Be[0]);ie&&ie.isValid&&ie.texture&&x.init(e,ie,i.renderState)}}for(let Be=0;Be<C.length;Be++){const Le=S[Be],oe=C[Be];Le!==null&&oe!==void 0&&oe.update(Le,pe,A||o)}re&&re(ce,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),g=null}const Fe=new qO;Fe.setAnimationLoop(Se),this.setAnimationLoop=function(ce){re=ce},this.dispose=function(){}}}const tc=new Ss,poe=new xt;function moe(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,WO(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,w,C,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),u(y,v)):v.isMeshPhongMaterial?(s(y,v),c(y,v)):v.isMeshStandardMaterial?(s(y,v),d(y,v),v.isMeshPhysicalMaterial&&m(y,v,S)):v.isMeshMatcapMaterial?(s(y,v),g(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),x(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?l(y,v,w,C):v.isSpriteMaterial?A(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Ii&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Ii&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const w=e.get(v),C=w.envMap,S=w.envMapRotation;C&&(y.envMap.value=C,tc.copy(S),tc.x*=-1,tc.y*=-1,tc.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(tc.y*=-1,tc.z*=-1),y.envMapRotation.value.setFromMatrix4(poe.makeRotationFromEuler(tc)),y.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,y.lightMapTransform)),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,w,C){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*w,y.scale.value=C*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function A(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function u(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function d(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function m(y,v,w){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ii&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function x(y,v){const w=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(w.matrixWorld),y.nearDistance.value=w.shadow.camera.near,y.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function goe(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,C){const S=C.program;r.uniformBlockBinding(w,S)}function A(w,C){let S=i[w.id];S===void 0&&(g(w),S=c(w),i[w.id]=S,w.addEventListener("dispose",y));const M=C.program;r.updateUBOMapping(w,M);const b=e.render.frame;s[w.id]!==b&&(d(w),s[w.id]=b)}function c(w){const C=u();w.__bindingPointIndex=C;const S=t.createBuffer(),M=w.__size,b=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,M,b),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,S),S}function u(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(w){const C=i[w.id],S=w.uniforms,M=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let b=0,T=S.length;b<T;b++){const L=Array.isArray(S[b])?S[b]:[S[b]];for(let P=0,E=L.length;P<E;P++){const U=L[P];if(m(U,b,P,M)===!0){const j=U.__offset,Q=Array.isArray(U.value)?U.value:[U.value];let G=0;for(let J=0;J<Q.length;J++){const k=Q[J],V=x(k);typeof k=="number"||typeof k=="boolean"?(U.__data[0]=k,t.bufferSubData(t.UNIFORM_BUFFER,j+G,U.__data)):k.isMatrix3?(U.__data[0]=k.elements[0],U.__data[1]=k.elements[1],U.__data[2]=k.elements[2],U.__data[3]=0,U.__data[4]=k.elements[3],U.__data[5]=k.elements[4],U.__data[6]=k.elements[5],U.__data[7]=0,U.__data[8]=k.elements[6],U.__data[9]=k.elements[7],U.__data[10]=k.elements[8],U.__data[11]=0):(k.toArray(U.__data,G),G+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,j,U.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(w,C,S,M){const b=w.value,T=C+"_"+S;if(M[T]===void 0)return typeof b=="number"||typeof b=="boolean"?M[T]=b:M[T]=b.clone(),!0;{const L=M[T];if(typeof b=="number"||typeof b=="boolean"){if(L!==b)return M[T]=b,!0}else if(L.equals(b)===!1)return L.copy(b),!0}return!1}function g(w){const C=w.uniforms;let S=0;const M=16;for(let T=0,L=C.length;T<L;T++){const P=Array.isArray(C[T])?C[T]:[C[T]];for(let E=0,U=P.length;E<U;E++){const j=P[E],Q=Array.isArray(j.value)?j.value:[j.value];for(let G=0,J=Q.length;G<J;G++){const k=Q[G],V=x(k),N=S%M,W=N%V.boundary,Y=N+W;S+=W,Y!==0&&M-Y<V.storage&&(S+=M-Y),j.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=S,S+=V.storage}}}const b=S%M;return b>0&&(S+=M-b),w.__size=S,w.__cache={},this}function x(w){const C={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(C.boundary=4,C.storage=4):w.isVector2?(C.boundary=8,C.storage=8):w.isVector3||w.isColor?(C.boundary=16,C.storage=12):w.isVector4?(C.boundary=16,C.storage=16):w.isMatrix3?(C.boundary=48,C.storage=48):w.isMatrix4?(C.boundary=64,C.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),C}function y(w){const C=w.target;C.removeEventListener("dispose",y);const S=o.indexOf(C.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[C.id]),delete i[C.id],delete s[C.id]}function v(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:A,dispose:v}}class ik{constructor(e={}){const{canvas:n=VO(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:A=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;this.isWebGLRenderer=!0;let d;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=r.getContextAttributes().alpha}else d=o;const m=new Uint32Array(4),g=new Int32Array(4);let x=null,y=null;const v=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Vr,this.toneMapping=ua,this.toneMappingExposure=1;const C=this;let S=!1,M=0,b=0,T=null,L=-1,P=null;const E=new an,U=new an;let j=null;const Q=new We(0);let G=0,J=n.width,k=n.height,V=1,N=null,W=null;const Y=new an(0,0,J,k),re=new an(0,0,J,k);let Se=!1;const Fe=new I2;let ce=!1,pe=!1;const Be=new xt,Le=new xt,oe=new K,ie=new an,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let te=!1;function fe(){return T===null?V:1}let O=r;function Ie(z,le){return n.getContext(z,le)}try{const z={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:A,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${uw}`),n.addEventListener("webglcontextlost",Re,!1),n.addEventListener("webglcontextrestored",Ke,!1),n.addEventListener("webglcontextcreationerror",Je,!1),O===null){const le="webgl2";if(O=Ie(le,z),O===null)throw Ie(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let Pe,q,ae,be,he,H,D,ne,xe,ge,ve,Qe,Te,ke,St,Oe,je,st,ut,Ye,Tt,Z,Ne,$;function De(){Pe=new Bie(O),Pe.init(),Z=new nk(O,Pe),q=new gie(O,Pe,e,Z),ae=new roe(O),q.reverseDepthBuffer&&ae.buffers.depth.setReversed(!0),be=new Eie(O),he=new zse,H=new Aoe(O,Pe,ae,he,q,Z,be),D=new yie(C),ne=new Cie(C),xe=new Lte(O),Ne=new pie(O,xe),ge=new Sie(O,xe,be,Ne),ve=new Mie(O,ge,xe,be),ut=new bie(O,q,H),Oe=new vie(he),Qe=new Vse(C,D,ne,Pe,q,Ne,Oe),Te=new moe(C,he),ke=new Kse,St=new Zse(Pe),st=new hie(C,D,ne,ae,ve,d,l),je=new toe(C,ve,q),$=new goe(O,be,q,ae),Ye=new mie(O,Pe,be),Tt=new _ie(O,Pe,be),be.programs=Qe.programs,C.capabilities=q,C.extensions=Pe,C.properties=he,C.renderLists=ke,C.shadowMap=je,C.state=ae,C.info=be}De();const me=new hoe(C,O);this.xr=me,this.getContext=function(){return O},this.getContextAttributes=function(){return O.getContextAttributes()},this.forceContextLoss=function(){const z=Pe.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Pe.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(z){z!==void 0&&(V=z,this.setSize(J,k,!1))},this.getSize=function(z){return z.set(J,k)},this.setSize=function(z,le,we=!0){if(me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=z,k=le,n.width=Math.floor(z*V),n.height=Math.floor(le*V),we===!0&&(n.style.width=z+"px",n.style.height=le+"px"),this.setViewport(0,0,z,le)},this.getDrawingBufferSize=function(z){return z.set(J*V,k*V).floor()},this.setDrawingBufferSize=function(z,le,we){J=z,k=le,V=we,n.width=Math.floor(z*we),n.height=Math.floor(le*we),this.setViewport(0,0,z,le)},this.getCurrentViewport=function(z){return z.copy(E)},this.getViewport=function(z){return z.copy(Y)},this.setViewport=function(z,le,we,Ce){z.isVector4?Y.set(z.x,z.y,z.z,z.w):Y.set(z,le,we,Ce),ae.viewport(E.copy(Y).multiplyScalar(V).round())},this.getScissor=function(z){return z.copy(re)},this.setScissor=function(z,le,we,Ce){z.isVector4?re.set(z.x,z.y,z.z,z.w):re.set(z,le,we,Ce),ae.scissor(U.copy(re).multiplyScalar(V).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(z){ae.setScissorTest(Se=z)},this.setOpaqueSort=function(z){N=z},this.setTransparentSort=function(z){W=z},this.getClearColor=function(z){return z.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(z=!0,le=!0,we=!0){let Ce=0;if(z){let ue=!1;if(T!==null){const ze=T.texture.format;ue=ze===xw||ze===yw||ze===E2}if(ue){const ze=T.texture.type,nt=ze===Io||ze===il||ze===If||ze===Au||ze===mw||ze===gw,at=st.getClearColor(),lt=st.getClearAlpha(),_t=at.r,bt=at.g,ht=at.b;nt?(m[0]=_t,m[1]=bt,m[2]=ht,m[3]=lt,O.clearBufferuiv(O.COLOR,0,m)):(g[0]=_t,g[1]=bt,g[2]=ht,g[3]=lt,O.clearBufferiv(O.COLOR,0,g))}else Ce|=O.COLOR_BUFFER_BIT}le&&(Ce|=O.DEPTH_BUFFER_BIT,O.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),we&&(Ce|=O.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),O.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Re,!1),n.removeEventListener("webglcontextrestored",Ke,!1),n.removeEventListener("webglcontextcreationerror",Je,!1),ke.dispose(),St.dispose(),he.dispose(),D.dispose(),ne.dispose(),ve.dispose(),Ne.dispose(),$.dispose(),Qe.dispose(),me.dispose(),me.removeEventListener("sessionstart",Un),me.removeEventListener("sessionend",Xn),gr.stop()};function Re(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ke(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const z=be.autoReset,le=je.enabled,we=je.autoUpdate,Ce=je.needsUpdate,ue=je.type;De(),be.autoReset=z,je.enabled=le,je.autoUpdate=we,je.needsUpdate=Ce,je.type=ue}function Je(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Lt(z){const le=z.target;le.removeEventListener("dispose",Lt),Gt(le)}function Gt(z){It(z),he.remove(z)}function It(z){const le=he.get(z).programs;le!==void 0&&(le.forEach(function(we){Qe.releaseProgram(we)}),z.isShaderMaterial&&Qe.releaseShaderCache(z))}this.renderBufferDirect=function(z,le,we,Ce,ue,ze){le===null&&(le=de);const nt=ue.isMesh&&ue.matrixWorld.determinant()<0,at=x3(z,le,we,Ce,ue);ae.setMaterial(Ce,nt);let lt=we.index,_t=1;if(Ce.wireframe===!0){if(lt=ge.getWireframeAttribute(we),lt===void 0)return;_t=2}const bt=we.drawRange,ht=we.attributes.position;let on=bt.start*_t,un=(bt.start+bt.count)*_t;ze!==null&&(on=Math.max(on,ze.start*_t),un=Math.min(un,(ze.start+ze.count)*_t)),lt!==null?(on=Math.max(on,0),un=Math.min(un,lt.count)):ht!=null&&(on=Math.max(on,0),un=Math.min(un,ht.count));const pn=un-on;if(pn<0||pn===1/0)return;Ne.setup(ue,Ce,at,we,lt);let Kt,mt=Ye;if(lt!==null&&(Kt=xe.get(lt),mt=Tt,mt.setIndex(Kt)),ue.isMesh)Ce.wireframe===!0?(ae.setLineWidth(Ce.wireframeLinewidth*fe()),mt.setMode(O.LINES)):mt.setMode(O.TRIANGLES);else if(ue.isLine){let ct=Ce.linewidth;ct===void 0&&(ct=1),ae.setLineWidth(ct*fe()),ue.isLineSegments?mt.setMode(O.LINES):ue.isLineLoop?mt.setMode(O.LINE_LOOP):mt.setMode(O.LINE_STRIP)}else ue.isPoints?mt.setMode(O.POINTS):ue.isSprite&&mt.setMode(O.TRIANGLES);if(ue.isBatchedMesh)if(ue._multiDrawInstances!==null)mt.renderMultiDrawInstances(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount,ue._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))mt.renderMultiDraw(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount);else{const ct=ue._multiDrawStarts,nn=ue._multiDrawCounts,Ft=ue._multiDrawCount,vr=lt?xe.get(lt).bytesPerElement:1,es=he.get(Ce).currentProgram.getUniforms();for(let Cn=0;Cn<Ft;Cn++)es.setValue(O,"_gl_DrawID",Cn),mt.render(ct[Cn]/vr,nn[Cn])}else if(ue.isInstancedMesh)mt.renderInstances(on,pn,ue.count);else if(we.isInstancedBufferGeometry){const ct=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,nn=Math.min(we.instanceCount,ct);mt.renderInstances(on,pn,nn)}else mt.render(on,pn)};function ft(z,le,we){z.transparent===!0&&z.side===Bo&&z.forceSinglePass===!1?(z.side=Ii,z.needsUpdate=!0,Tu(z,le,we),z.side=ha,z.needsUpdate=!0,Tu(z,le,we),z.side=Bo):Tu(z,le,we)}this.compile=function(z,le,we=null){we===null&&(we=z),y=St.get(we),y.init(le),w.push(y),we.traverseVisible(function(ue){ue.isLight&&ue.layers.test(le.layers)&&(y.pushLight(ue),ue.castShadow&&y.pushShadow(ue))}),z!==we&&z.traverseVisible(function(ue){ue.isLight&&ue.layers.test(le.layers)&&(y.pushLight(ue),ue.castShadow&&y.pushShadow(ue))}),y.setupLights();const Ce=new Set;return z.traverse(function(ue){if(!(ue.isMesh||ue.isPoints||ue.isLine||ue.isSprite))return;const ze=ue.material;if(ze)if(Array.isArray(ze))for(let nt=0;nt<ze.length;nt++){const at=ze[nt];ft(at,we,ue),Ce.add(at)}else ft(ze,we,ue),Ce.add(ze)}),w.pop(),y=null,Ce},this.compileAsync=function(z,le,we=null){const Ce=this.compile(z,le,we);return new Promise(ue=>{function ze(){if(Ce.forEach(function(nt){he.get(nt).currentProgram.isReady()&&Ce.delete(nt)}),Ce.size===0){ue(z);return}setTimeout(ze,10)}Pe.get("KHR_parallel_shader_compile")!==null?ze():setTimeout(ze,10)})};let Xt=null;function cn(z){Xt&&Xt(z)}function Un(){gr.stop()}function Xn(){gr.start()}const gr=new qO;gr.setAnimationLoop(cn),typeof self<"u"&&gr.setContext(self),this.setAnimationLoop=function(z){Xt=z,me.setAnimationLoop(z),z===null?gr.stop():gr.start()},me.addEventListener("sessionstart",Un),me.addEventListener("sessionend",Xn),this.render=function(z,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;if(z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),me.enabled===!0&&me.isPresenting===!0&&(me.cameraAutoUpdate===!0&&me.updateCamera(le),le=me.getCamera()),z.isScene===!0&&z.onBeforeRender(C,z,le,T),y=St.get(z,w.length),y.init(le),w.push(y),Le.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),Fe.setFromProjectionMatrix(Le),pe=this.localClippingEnabled,ce=Oe.init(this.clippingPlanes,pe),x=ke.get(z,v.length),x.init(),v.push(x),me.enabled===!0&&me.isPresenting===!0){const ze=C.xr.getDepthSensingMesh();ze!==null&&$r(ze,le,-1/0,C.sortObjects)}$r(z,le,0,C.sortObjects),x.finish(),C.sortObjects===!0&&x.sort(N,W),te=me.enabled===!1||me.isPresenting===!1||me.hasDepthSensing()===!1,te&&st.addToRenderList(x,z),this.info.render.frame++,ce===!0&&Oe.beginShadows();const we=y.state.shadowsArray;je.render(we,z,le),ce===!0&&Oe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ce=x.opaque,ue=x.transmissive;if(y.setupLights(),le.isArrayCamera){const ze=le.cameras;if(ue.length>0)for(let nt=0,at=ze.length;nt<at;nt++){const lt=ze[nt];Z2(Ce,ue,z,lt)}te&&st.render(z);for(let nt=0,at=ze.length;nt<at;nt++){const lt=ze[nt];Ji(x,z,lt,lt.viewport)}}else ue.length>0&&Z2(Ce,ue,z,le),te&&st.render(z),Ji(x,z,le);T!==null&&(H.updateMultisampleRenderTarget(T),H.updateRenderTargetMipmap(T)),z.isScene===!0&&z.onAfterRender(C,z,le),Ne.resetDefaultState(),L=-1,P=null,w.pop(),w.length>0?(y=w[w.length-1],ce===!0&&Oe.setGlobalState(C.clippingPlanes,y.state.camera)):y=null,v.pop(),v.length>0?x=v[v.length-1]:x=null};function $r(z,le,we,Ce){if(z.visible===!1)return;if(z.layers.test(le.layers)){if(z.isGroup)we=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(le);else if(z.isLight)y.pushLight(z),z.castShadow&&y.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||Fe.intersectsSprite(z)){Ce&&ie.setFromMatrixPosition(z.matrixWorld).applyMatrix4(Le);const nt=ve.update(z),at=z.material;at.visible&&x.push(z,nt,at,we,ie.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||Fe.intersectsObject(z))){const nt=ve.update(z),at=z.material;if(Ce&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),ie.copy(z.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),ie.copy(nt.boundingSphere.center)),ie.applyMatrix4(z.matrixWorld).applyMatrix4(Le)),Array.isArray(at)){const lt=nt.groups;for(let _t=0,bt=lt.length;_t<bt;_t++){const ht=lt[_t],on=at[ht.materialIndex];on&&on.visible&&x.push(z,nt,on,we,ie.z,ht)}}else at.visible&&x.push(z,nt,at,we,ie.z,null)}}const ze=z.children;for(let nt=0,at=ze.length;nt<at;nt++)$r(ze[nt],le,we,Ce)}function Ji(z,le,we,Ce){const ue=z.opaque,ze=z.transmissive,nt=z.transparent;y.setupLightsView(we),ce===!0&&Oe.setGlobalState(C.clippingPlanes,we),Ce&&ae.viewport(E.copy(Ce)),ue.length>0&&Ho(ue,le,we),ze.length>0&&Ho(ze,le,we),nt.length>0&&Ho(nt,le,we),ae.buffers.depth.setTest(!0),ae.buffers.depth.setMask(!0),ae.buffers.color.setMask(!0),ae.setPolygonOffset(!1)}function Z2(z,le,we,Ce){if((we.isScene===!0?we.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[Ce.id]===void 0&&(y.state.transmissionRenderTarget[Ce.id]=new Fo(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?Jf:Io,minFilter:Xs,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:sn.workingColorSpace}));const ze=y.state.transmissionRenderTarget[Ce.id],nt=Ce.viewport||E;ze.setSize(nt.z,nt.w);const at=C.getRenderTarget();C.setRenderTarget(ze),C.getClearColor(Q),G=C.getClearAlpha(),G<1&&C.setClearColor(16777215,.5),C.clear(),te&&st.render(we);const lt=C.toneMapping;C.toneMapping=ua;const _t=Ce.viewport;if(Ce.viewport!==void 0&&(Ce.viewport=void 0),y.setupLightsView(Ce),ce===!0&&Oe.setGlobalState(C.clippingPlanes,Ce),Ho(z,we,Ce),H.updateMultisampleRenderTarget(ze),H.updateRenderTargetMipmap(ze),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let bt=!1;for(let ht=0,on=le.length;ht<on;ht++){const un=le[ht],pn=un.object,Kt=un.geometry,mt=un.material,ct=un.group;if(mt.side===Bo&&pn.layers.test(Ce.layers)){const nn=mt.side;mt.side=Ii,mt.needsUpdate=!0,J2(pn,we,Ce,Kt,mt,ct),mt.side=nn,mt.needsUpdate=!0,bt=!0}}bt===!0&&(H.updateMultisampleRenderTarget(ze),H.updateRenderTargetMipmap(ze))}C.setRenderTarget(at),C.setClearColor(Q,G),_t!==void 0&&(Ce.viewport=_t),C.toneMapping=lt}function Ho(z,le,we){const Ce=le.isScene===!0?le.overrideMaterial:null;for(let ue=0,ze=z.length;ue<ze;ue++){const nt=z[ue],at=nt.object,lt=nt.geometry,_t=Ce===null?nt.material:Ce,bt=nt.group;at.layers.test(we.layers)&&J2(at,le,we,lt,_t,bt)}}function J2(z,le,we,Ce,ue,ze){z.onBeforeRender(C,le,we,Ce,ue,ze),z.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),ue.onBeforeRender(C,le,we,Ce,z,ze),ue.transparent===!0&&ue.side===Bo&&ue.forceSinglePass===!1?(ue.side=Ii,ue.needsUpdate=!0,C.renderBufferDirect(we,le,Ce,ue,z,ze),ue.side=ha,ue.needsUpdate=!0,C.renderBufferDirect(we,le,Ce,ue,z,ze),ue.side=Bo):C.renderBufferDirect(we,le,Ce,ue,z,ze),z.onAfterRender(C,le,we,Ce,ue,ze)}function Tu(z,le,we){le.isScene!==!0&&(le=de);const Ce=he.get(z),ue=y.state.lights,ze=y.state.shadowsArray,nt=ue.state.version,at=Qe.getParameters(z,ue.state,ze,le,we),lt=Qe.getProgramCacheKey(at);let _t=Ce.programs;Ce.environment=z.isMeshStandardMaterial?le.environment:null,Ce.fog=le.fog,Ce.envMap=(z.isMeshStandardMaterial?ne:D).get(z.envMap||Ce.environment),Ce.envMapRotation=Ce.environment!==null&&z.envMap===null?le.environmentRotation:z.envMapRotation,_t===void 0&&(z.addEventListener("dispose",Lt),_t=new Map,Ce.programs=_t);let bt=_t.get(lt);if(bt!==void 0){if(Ce.currentProgram===bt&&Ce.lightsStateVersion===nt)return tm(z,at),bt}else at.uniforms=Qe.getUniforms(z),z.onBeforeCompile(at,C),bt=Qe.acquireProgram(at,lt),_t.set(lt,bt),Ce.uniforms=at.uniforms;const ht=Ce.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(ht.clippingPlanes=Oe.uniform),tm(z,at),Ce.needsLights=C3(z),Ce.lightsStateVersion=nt,Ce.needsLights&&(ht.ambientLightColor.value=ue.state.ambient,ht.lightProbe.value=ue.state.probe,ht.directionalLights.value=ue.state.directional,ht.directionalLightShadows.value=ue.state.directionalShadow,ht.spotLights.value=ue.state.spot,ht.spotLightShadows.value=ue.state.spotShadow,ht.rectAreaLights.value=ue.state.rectArea,ht.ltc_1.value=ue.state.rectAreaLTC1,ht.ltc_2.value=ue.state.rectAreaLTC2,ht.pointLights.value=ue.state.point,ht.pointLightShadows.value=ue.state.pointShadow,ht.hemisphereLights.value=ue.state.hemi,ht.directionalShadowMap.value=ue.state.directionalShadowMap,ht.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,ht.spotShadowMap.value=ue.state.spotShadowMap,ht.spotLightMatrix.value=ue.state.spotLightMatrix,ht.spotLightMap.value=ue.state.spotLightMap,ht.pointShadowMap.value=ue.state.pointShadowMap,ht.pointShadowMatrix.value=ue.state.pointShadowMatrix),Ce.currentProgram=bt,Ce.uniformsList=null,bt}function em(z){if(z.uniformsList===null){const le=z.currentProgram.getUniforms();z.uniformsList=cv.seqWithValue(le.seq,z.uniforms)}return z.uniformsList}function tm(z,le){const we=he.get(z);we.outputColorSpace=le.outputColorSpace,we.batching=le.batching,we.batchingColor=le.batchingColor,we.instancing=le.instancing,we.instancingColor=le.instancingColor,we.instancingMorph=le.instancingMorph,we.skinning=le.skinning,we.morphTargets=le.morphTargets,we.morphNormals=le.morphNormals,we.morphColors=le.morphColors,we.morphTargetsCount=le.morphTargetsCount,we.numClippingPlanes=le.numClippingPlanes,we.numIntersection=le.numClipIntersection,we.vertexAlphas=le.vertexAlphas,we.vertexTangents=le.vertexTangents,we.toneMapping=le.toneMapping}function x3(z,le,we,Ce,ue){le.isScene!==!0&&(le=de),H.resetTextureUnits();const ze=le.fog,nt=Ce.isMeshStandardMaterial?le.environment:null,at=T===null?C.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Or,lt=(Ce.isMeshStandardMaterial?ne:D).get(Ce.envMap||nt),_t=Ce.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,bt=!!we.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),ht=!!we.morphAttributes.position,on=!!we.morphAttributes.normal,un=!!we.morphAttributes.color;let pn=ua;Ce.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(pn=C.toneMapping);const Kt=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,mt=Kt!==void 0?Kt.length:0,ct=he.get(Ce),nn=y.state.lights;if(ce===!0&&(pe===!0||z!==P)){const fi=z===P&&Ce.id===L;Oe.setState(Ce,z,fi)}let Ft=!1;Ce.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==nn.state.version||ct.outputColorSpace!==at||ue.isBatchedMesh&&ct.batching===!1||!ue.isBatchedMesh&&ct.batching===!0||ue.isBatchedMesh&&ct.batchingColor===!0&&ue.colorTexture===null||ue.isBatchedMesh&&ct.batchingColor===!1&&ue.colorTexture!==null||ue.isInstancedMesh&&ct.instancing===!1||!ue.isInstancedMesh&&ct.instancing===!0||ue.isSkinnedMesh&&ct.skinning===!1||!ue.isSkinnedMesh&&ct.skinning===!0||ue.isInstancedMesh&&ct.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&ct.instancingColor===!1&&ue.instanceColor!==null||ue.isInstancedMesh&&ct.instancingMorph===!0&&ue.morphTexture===null||ue.isInstancedMesh&&ct.instancingMorph===!1&&ue.morphTexture!==null||ct.envMap!==lt||Ce.fog===!0&&ct.fog!==ze||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==Oe.numPlanes||ct.numIntersection!==Oe.numIntersection)||ct.vertexAlphas!==_t||ct.vertexTangents!==bt||ct.morphTargets!==ht||ct.morphNormals!==on||ct.morphColors!==un||ct.toneMapping!==pn||ct.morphTargetsCount!==mt)&&(Ft=!0):(Ft=!0,ct.__version=Ce.version);let vr=ct.currentProgram;Ft===!0&&(vr=Tu(Ce,le,ue));let es=!1,Cn=!1,ul=!1;const Nn=vr.getUniforms(),oo=ct.uniforms;if(ae.useProgram(vr.program)&&(es=!0,Cn=!0,ul=!0),Ce.id!==L&&(L=Ce.id,Cn=!0),es||P!==z){q.reverseDepthBuffer?(Be.copy(z.projectionMatrix),rte(Be),ite(Be),Nn.setValue(O,"projectionMatrix",Be)):Nn.setValue(O,"projectionMatrix",z.projectionMatrix),Nn.setValue(O,"viewMatrix",z.matrixWorldInverse);const fi=Nn.map.cameraPosition;fi!==void 0&&fi.setValue(O,oe.setFromMatrixPosition(z.matrixWorld)),q.logarithmicDepthBuffer&&Nn.setValue(O,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&Nn.setValue(O,"isOrthographic",z.isOrthographicCamera===!0),P!==z&&(P=z,Cn=!0,ul=!0)}if(ue.isSkinnedMesh){Nn.setOptional(O,ue,"bindMatrix"),Nn.setOptional(O,ue,"bindMatrixInverse");const fi=ue.skeleton;fi&&(fi.boneTexture===null&&fi.computeBoneTexture(),Nn.setValue(O,"boneTexture",fi.boneTexture,H))}ue.isBatchedMesh&&(Nn.setOptional(O,ue,"batchingTexture"),Nn.setValue(O,"batchingTexture",ue._matricesTexture,H),Nn.setOptional(O,ue,"batchingIdTexture"),Nn.setValue(O,"batchingIdTexture",ue._indirectTexture,H),Nn.setOptional(O,ue,"batchingColorTexture"),ue._colorsTexture!==null&&Nn.setValue(O,"batchingColorTexture",ue._colorsTexture,H));const dl=we.morphAttributes;if((dl.position!==void 0||dl.normal!==void 0||dl.color!==void 0)&&ut.update(ue,we,vr),(Cn||ct.receiveShadow!==ue.receiveShadow)&&(ct.receiveShadow=ue.receiveShadow,Nn.setValue(O,"receiveShadow",ue.receiveShadow)),Ce.isMeshGouraudMaterial&&Ce.envMap!==null&&(oo.envMap.value=lt,oo.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),Ce.isMeshStandardMaterial&&Ce.envMap===null&&le.environment!==null&&(oo.envMapIntensity.value=le.environmentIntensity),Cn&&(Nn.setValue(O,"toneMappingExposure",C.toneMappingExposure),ct.needsLights&&w3(oo,ul),ze&&Ce.fog===!0&&Te.refreshFogUniforms(oo,ze),Te.refreshMaterialUniforms(oo,Ce,V,k,y.state.transmissionRenderTarget[z.id]),cv.upload(O,em(ct),oo,H)),Ce.isShaderMaterial&&Ce.uniformsNeedUpdate===!0&&(cv.upload(O,em(ct),oo,H),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&Nn.setValue(O,"center",ue.center),Nn.setValue(O,"modelViewMatrix",ue.modelViewMatrix),Nn.setValue(O,"normalMatrix",ue.normalMatrix),Nn.setValue(O,"modelMatrix",ue.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const fi=Ce.uniformsGroups;for(let hi=0,B3=fi.length;hi<B3;hi++){const nm=fi[hi];$.update(nm,vr),$.bind(nm,vr)}}return vr}function w3(z,le){z.ambientLightColor.needsUpdate=le,z.lightProbe.needsUpdate=le,z.directionalLights.needsUpdate=le,z.directionalLightShadows.needsUpdate=le,z.pointLights.needsUpdate=le,z.pointLightShadows.needsUpdate=le,z.spotLights.needsUpdate=le,z.spotLightShadows.needsUpdate=le,z.rectAreaLights.needsUpdate=le,z.hemisphereLights.needsUpdate=le}function C3(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(z,le,we){he.get(z.texture).__webglTexture=le,he.get(z.depthTexture).__webglTexture=we;const Ce=he.get(z);Ce.__hasExternalTextures=!0,Ce.__autoAllocateDepthBuffer=we===void 0,Ce.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ce.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(z,le){const we=he.get(z);we.__webglFramebuffer=le,we.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(z,le=0,we=0){T=z,M=le,b=we;let Ce=!0,ue=null,ze=!1,nt=!1;if(z){const lt=he.get(z);if(lt.__useDefaultFramebuffer!==void 0)ae.bindFramebuffer(O.FRAMEBUFFER,null),Ce=!1;else if(lt.__webglFramebuffer===void 0)H.setupRenderTarget(z);else if(lt.__hasExternalTextures)H.rebindTextures(z,he.get(z.texture).__webglTexture,he.get(z.depthTexture).__webglTexture);else if(z.depthBuffer){const ht=z.depthTexture;if(lt.__boundDepthTexture!==ht){if(ht!==null&&he.has(ht)&&(z.width!==ht.image.width||z.height!==ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");H.setupDepthRenderbuffer(z)}}const _t=z.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(nt=!0);const bt=he.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(bt[le])?ue=bt[le][we]:ue=bt[le],ze=!0):z.samples>0&&H.useMultisampledRTT(z)===!1?ue=he.get(z).__webglMultisampledFramebuffer:Array.isArray(bt)?ue=bt[we]:ue=bt,E.copy(z.viewport),U.copy(z.scissor),j=z.scissorTest}else E.copy(Y).multiplyScalar(V).floor(),U.copy(re).multiplyScalar(V).floor(),j=Se;if(ae.bindFramebuffer(O.FRAMEBUFFER,ue)&&Ce&&ae.drawBuffers(z,ue),ae.viewport(E),ae.scissor(U),ae.setScissorTest(j),ze){const lt=he.get(z.texture);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_CUBE_MAP_POSITIVE_X+le,lt.__webglTexture,we)}else if(nt){const lt=he.get(z.texture),_t=le||0;O.framebufferTextureLayer(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,lt.__webglTexture,we||0,_t)}L=-1},this.readRenderTargetPixels=function(z,le,we,Ce,ue,ze,nt){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let at=he.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&nt!==void 0&&(at=at[nt]),at){ae.bindFramebuffer(O.FRAMEBUFFER,at);try{const lt=z.texture,_t=lt.format,bt=lt.type;if(!q.textureFormatReadable(_t)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!q.textureTypeReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=z.width-Ce&&we>=0&&we<=z.height-ue&&O.readPixels(le,we,Ce,ue,Z.convert(_t),Z.convert(bt),ze)}finally{const lt=T!==null?he.get(T).__webglFramebuffer:null;ae.bindFramebuffer(O.FRAMEBUFFER,lt)}}},this.readRenderTargetPixelsAsync=async function(z,le,we,Ce,ue,ze,nt){if(!(z&&z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let at=he.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&nt!==void 0&&(at=at[nt]),at){const lt=z.texture,_t=lt.format,bt=lt.type;if(!q.textureFormatReadable(_t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!q.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(le>=0&&le<=z.width-Ce&&we>=0&&we<=z.height-ue){ae.bindFramebuffer(O.FRAMEBUFFER,at);const ht=O.createBuffer();O.bindBuffer(O.PIXEL_PACK_BUFFER,ht),O.bufferData(O.PIXEL_PACK_BUFFER,ze.byteLength,O.STREAM_READ),O.readPixels(le,we,Ce,ue,Z.convert(_t),Z.convert(bt),0);const on=T!==null?he.get(T).__webglFramebuffer:null;ae.bindFramebuffer(O.FRAMEBUFFER,on);const un=O.fenceSync(O.SYNC_GPU_COMMANDS_COMPLETE,0);return O.flush(),await nte(O,un,4),O.bindBuffer(O.PIXEL_PACK_BUFFER,ht),O.getBufferSubData(O.PIXEL_PACK_BUFFER,0,ze),O.deleteBuffer(ht),O.deleteSync(un),ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(z,le=null,we=0){z.isTexture!==!0&&(Av("WebGLRenderer: copyFramebufferToTexture function signature has changed."),le=arguments[0]||null,z=arguments[1]);const Ce=Math.pow(2,-we),ue=Math.floor(z.image.width*Ce),ze=Math.floor(z.image.height*Ce),nt=le!==null?le.x:0,at=le!==null?le.y:0;H.setTexture2D(z,0),O.copyTexSubImage2D(O.TEXTURE_2D,we,0,0,nt,at,ue,ze),ae.unbindTexture()},this.copyTextureToTexture=function(z,le,we=null,Ce=null,ue=0){z.isTexture!==!0&&(Av("WebGLRenderer: copyTextureToTexture function signature has changed."),Ce=arguments[0]||null,z=arguments[1],le=arguments[2],ue=arguments[3]||0,we=null);let ze,nt,at,lt,_t,bt;we!==null?(ze=we.max.x-we.min.x,nt=we.max.y-we.min.y,at=we.min.x,lt=we.min.y):(ze=z.image.width,nt=z.image.height,at=0,lt=0),Ce!==null?(_t=Ce.x,bt=Ce.y):(_t=0,bt=0);const ht=Z.convert(le.format),on=Z.convert(le.type);H.setTexture2D(le,0),O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,le.flipY),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),O.pixelStorei(O.UNPACK_ALIGNMENT,le.unpackAlignment);const un=O.getParameter(O.UNPACK_ROW_LENGTH),pn=O.getParameter(O.UNPACK_IMAGE_HEIGHT),Kt=O.getParameter(O.UNPACK_SKIP_PIXELS),mt=O.getParameter(O.UNPACK_SKIP_ROWS),ct=O.getParameter(O.UNPACK_SKIP_IMAGES),nn=z.isCompressedTexture?z.mipmaps[ue]:z.image;O.pixelStorei(O.UNPACK_ROW_LENGTH,nn.width),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,nn.height),O.pixelStorei(O.UNPACK_SKIP_PIXELS,at),O.pixelStorei(O.UNPACK_SKIP_ROWS,lt),z.isDataTexture?O.texSubImage2D(O.TEXTURE_2D,ue,_t,bt,ze,nt,ht,on,nn.data):z.isCompressedTexture?O.compressedTexSubImage2D(O.TEXTURE_2D,ue,_t,bt,nn.width,nn.height,ht,nn.data):O.texSubImage2D(O.TEXTURE_2D,ue,_t,bt,ze,nt,ht,on,nn),O.pixelStorei(O.UNPACK_ROW_LENGTH,un),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,pn),O.pixelStorei(O.UNPACK_SKIP_PIXELS,Kt),O.pixelStorei(O.UNPACK_SKIP_ROWS,mt),O.pixelStorei(O.UNPACK_SKIP_IMAGES,ct),ue===0&&le.generateMipmaps&&O.generateMipmap(O.TEXTURE_2D),ae.unbindTexture()},this.copyTextureToTexture3D=function(z,le,we=null,Ce=null,ue=0){z.isTexture!==!0&&(Av("WebGLRenderer: copyTextureToTexture3D function signature has changed."),we=arguments[0]||null,Ce=arguments[1]||null,z=arguments[2],le=arguments[3],ue=arguments[4]||0);let ze,nt,at,lt,_t,bt,ht,on,un;const pn=z.isCompressedTexture?z.mipmaps[ue]:z.image;we!==null?(ze=we.max.x-we.min.x,nt=we.max.y-we.min.y,at=we.max.z-we.min.z,lt=we.min.x,_t=we.min.y,bt=we.min.z):(ze=pn.width,nt=pn.height,at=pn.depth,lt=0,_t=0,bt=0),Ce!==null?(ht=Ce.x,on=Ce.y,un=Ce.z):(ht=0,on=0,un=0);const Kt=Z.convert(le.format),mt=Z.convert(le.type);let ct;if(le.isData3DTexture)H.setTexture3D(le,0),ct=O.TEXTURE_3D;else if(le.isDataArrayTexture||le.isCompressedArrayTexture)H.setTexture2DArray(le,0),ct=O.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,le.flipY),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),O.pixelStorei(O.UNPACK_ALIGNMENT,le.unpackAlignment);const nn=O.getParameter(O.UNPACK_ROW_LENGTH),Ft=O.getParameter(O.UNPACK_IMAGE_HEIGHT),vr=O.getParameter(O.UNPACK_SKIP_PIXELS),es=O.getParameter(O.UNPACK_SKIP_ROWS),Cn=O.getParameter(O.UNPACK_SKIP_IMAGES);O.pixelStorei(O.UNPACK_ROW_LENGTH,pn.width),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,pn.height),O.pixelStorei(O.UNPACK_SKIP_PIXELS,lt),O.pixelStorei(O.UNPACK_SKIP_ROWS,_t),O.pixelStorei(O.UNPACK_SKIP_IMAGES,bt),z.isDataTexture||z.isData3DTexture?O.texSubImage3D(ct,ue,ht,on,un,ze,nt,at,Kt,mt,pn.data):le.isCompressedArrayTexture?O.compressedTexSubImage3D(ct,ue,ht,on,un,ze,nt,at,Kt,pn.data):O.texSubImage3D(ct,ue,ht,on,un,ze,nt,at,Kt,mt,pn),O.pixelStorei(O.UNPACK_ROW_LENGTH,nn),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,Ft),O.pixelStorei(O.UNPACK_SKIP_PIXELS,vr),O.pixelStorei(O.UNPACK_SKIP_ROWS,es),O.pixelStorei(O.UNPACK_SKIP_IMAGES,Cn),ue===0&&le.generateMipmaps&&O.generateMipmap(ct),ae.unbindTexture()},this.initRenderTarget=function(z){he.get(z).__webglFramebuffer===void 0&&H.setupRenderTarget(z)},this.initTexture=function(z){z.isCubeTexture?H.setTextureCube(z,0):z.isData3DTexture?H.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?H.setTexture2DArray(z,0):H.setTexture2D(z,0),ae.unbindTexture()},this.resetState=function(){M=0,b=0,T=null,ae.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return aa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Cw?"display-p3":"srgb",n.unpackColorSpace=sn.workingColorSpace===b2?"display-p3":"srgb"}}class _w{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new We(e),this.density=n}clone(){return new _w(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Ew{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new We(e),this.near=n,this.far=r}clone(){return new Ew(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class $y extends tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ss,this.environmentIntensity=1,this.environmentRotation=new Ss,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class F2{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Rp,this.updateRanges=[],this.version=0,this.uuid=ys()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new K;class FA{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyMatrix4(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyNormalMatrix(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.transformDirection(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=bi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Dt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=bi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=bi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=bi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=bi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array),s=Dt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new mn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new FA(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class N5 extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let nd;const zh=new K,rd=new K,id=new K,sd=new Ue,Gh=new Ue,sk=new xt,Dg=new K,Kh=new K,Og=new K,VF=new Ue,WB=new Ue,zF=new Ue;class ok extends tn{constructor(e=new N5){if(super(),this.isSprite=!0,this.type="Sprite",nd===void 0){nd=new kt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new F2(n,5);nd.setIndex([0,1,2,0,2,3]),nd.setAttribute("position",new FA(r,3,0,!1)),nd.setAttribute("uv",new FA(r,2,3,!1))}this.geometry=nd,this.material=e,this.center=new Ue(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rd.setFromMatrixScale(this.matrixWorld),sk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),id.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rd.multiplyScalar(-id.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;kg(Dg.set(-.5,-.5,0),id,o,rd,i,s),kg(Kh.set(.5,-.5,0),id,o,rd,i,s),kg(Og.set(.5,.5,0),id,o,rd,i,s),VF.set(0,0),WB.set(1,0),zF.set(1,1);let a=e.ray.intersectTriangle(Dg,Kh,Og,!1,zh);if(a===null&&(kg(Kh.set(-.5,.5,0),id,o,rd,i,s),WB.set(0,1),a=e.ray.intersectTriangle(Dg,Og,Kh,!1,zh),a===null))return;const l=e.ray.origin.distanceTo(zh);l<e.near||l>e.far||n.push({distance:l,point:zh.clone(),uv:Gi.getInterpolation(zh,Dg,Kh,Og,VF,WB,zF,new Ue),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function kg(t,e,n,r,i,s){sd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Gh.x=s*sd.x-i*sd.y,Gh.y=i*sd.x+s*sd.y):Gh.copy(sd),t.copy(e),t.x+=Gh.x,t.y+=Gh.y,t.applyMatrix4(sk)}const Qg=new K,GF=new K;class ak extends tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Qg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Qg);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Qg.setFromMatrixPosition(e.matrixWorld),GF.setFromMatrixPosition(this.matrixWorld);const r=Qg.distanceTo(GF)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const KF=new K,WF=new an,XF=new an,voe=new K,$F=new xt,Hg=new K,XB=new Wr,YF=new xt,$B=new Cu;class D5 extends lr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=GE,this.bindMatrix=new xt,this.bindMatrixInverse=new xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ci),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Hg),this.boundingBox.expandByPoint(Hg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Wr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Hg),this.boundingSphere.expandByPoint(Hg)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),XB.copy(this.boundingSphere),XB.applyMatrix4(i),e.ray.intersectsSphere(XB)!==!1&&(YF.copy(i).invert(),$B.copy(e.ray).applyMatrix4(YF),!(this.boundingBox!==null&&$B.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,$B)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new an,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===GE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===EO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;WF.fromBufferAttribute(i.attributes.skinIndex,e),XF.fromBufferAttribute(i.attributes.skinWeight,e),KF.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=XF.getComponent(s);if(o!==0){const a=WF.getComponent(s);$F.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(voe.copy(KF).applyMatrix4($F),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class bw extends tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class da extends Pn{constructor(e=null,n=1,r=1,i,s,o,a,l,A=Sr,c=Sr,u,d){super(null,o,a,l,A,c,i,s,u,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qF=new xt,yoe=new xt;class U2{constructor(e=[],n=[]){this.uuid=ys(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new xt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:yoe;qF.multiplyMatrices(a,n[s]),qF.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new U2(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new da(n,e,e,Ai,Wi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new bw),this.bones.push(o),this.boneInverses.push(new xt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class uu extends mn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const od=new xt,ZF=new xt,jg=[],JF=new ci,xoe=new xt,Wh=new lr,Xh=new Wr;class O5 extends lr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new uu(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,xoe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ci),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,od),JF.copy(e.boundingBox).applyMatrix4(od),this.boundingBox.union(JF)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Wr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,od),Xh.copy(e.boundingSphere).applyMatrix4(od),this.boundingSphere.union(Xh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Wh.geometry=this.geometry,Wh.material=this.material,Wh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Xh.copy(this.boundingSphere),Xh.applyMatrix4(r),e.ray.intersectsSphere(Xh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,od),ZF.multiplyMatrices(r,od),Wh.matrixWorld=ZF,Wh.raycast(e,jg);for(let o=0,a=jg.length;o<a;o++){const l=jg[o];l.instanceId=s,l.object=this,n.push(l)}jg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new uu(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new da(new Float32Array(i*this.count),i,this.count,vw,Wi));const s=this.morphTexture.source.data.data;let o=0;for(let A=0;A<r.length;A++)o+=r[A];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function woe(t,e){return t.z-e.z}function Coe(t,e){return e.z-t.z}class Boe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r){const i=this.pool,s=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const o=i[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n,o.index=r}reset(){this.list.length=0,this.index=0}}const Tl=new xt,YB=new xt,Soe=new xt,_oe=new We(1,1,1),eU=new xt,qB=new I2,Vg=new ci,nc=new Wr,$h=new K,tU=new K,Eoe=new K,ZB=new Boe,ii=new lr,zg=[];function boe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class lk extends lr{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,r=n*2,i){super(new kt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._availableInstanceIds=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new da(n,e,e,Ai,Wi);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new da(n,e,e,E2,il);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new da(n,e,e,Ai,Wi);r.colorSpace=sn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:A}=o,c=new a.constructor(r*l),u=new mn(c,l,A);n.setAttribute(s,u)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new mn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ci);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Tl),this.getBoundingBoxAt(s,Vg).applyMatrix4(Tl),e.union(Vg)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wr);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Tl),this.getBoundingSphereAt(s,nc).applyMatrix4(Tl),e.union(nc)}}addInstance(e){if(this._drawInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(i=this._availableInstanceIds.pop(),this._drawInfo[i]=r):(i=this._drawInfo.length,this._drawInfo.push(r));const s=this._matricesTexture,o=s.image.data;Soe.toArray(o,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(_oe.toArray(a.image.data,i*4),a.needsUpdate=!0),i}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const A=e.getIndex(),c=A!==null;if(c&&(r===-1?i.indexCount=A.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const u=this._geometryCount;return this._geometryCount++,o.push(i),a.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ci,sphereInitialized:!1,sphere:new Wr}),this.setGeometryAt(u,e),u}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,A=a.vertexCount;for(const m in r.attributes){const g=n.getAttribute(m),x=r.getAttribute(m);boe(g,x,l);const y=g.itemSize;for(let v=g.count,w=A;v<w;v++){const C=l+v;for(let S=0;S<y;S++)x.setComponent(C,S,0)}x.needsUpdate=!0,x.addUpdateRange(l*y,A*y)}if(i){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,x=a.indexCount;g<x;g++)s.setX(m+g,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const u=this._drawRanges[e],d=n.getAttribute("position");return u.count=i?o.count:d.count,this._visibilityChanged=!0,e}deleteInstance(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this._bounds[e],i=r.box,s=this.geometry;if(r.boxInitialized===!1){i.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let A=l.start,c=l.start+l.count;A<c;A++){let u=A;o&&(u=o.getX(u)),i.expandByPoint($h.fromBufferAttribute(a,u))}r.boxInitialized=!0}return n.copy(i),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this._bounds[e],i=r.sphere,s=this.geometry;if(r.sphereInitialized===!1){i.makeEmpty(),this.getBoundingBoxAt(e,Vg),Vg.getCenter(i.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let A=0;for(let c=l.start,u=l.start+l.count;c<u;c++){let d=c;o&&(d=o.getX(d)),$h.fromBufferAttribute(a,d),A=Math.max(A,i.center.distanceToSquared($h))}i.radius=Math.sqrt(A),r.sphereInitialized=!0}return n.copy(i),n}setMatrixAt(e,n){const r=this._drawInfo,i=this._matricesTexture,s=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._drawInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._drawInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._drawInfo;return e>=r.length||r[e].active===!1||n<0||n>=this._geometryCount?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._drawRanges[e];return n.start=r.start,n.count=r.count,n}raycast(e,n){const r=this._drawInfo,i=this._drawRanges,s=this.matrixWorld,o=this.geometry;ii.material=this.material,ii.geometry.index=o.index,ii.geometry.attributes=o.attributes,ii.geometry.boundingBox===null&&(ii.geometry.boundingBox=new ci),ii.geometry.boundingSphere===null&&(ii.geometry.boundingSphere=new Wr);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const A=r[a].geometryIndex,c=i[A];ii.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(a,ii.matrixWorld).premultiply(s),this.getBoundingBoxAt(A,ii.geometry.boundingBox),this.getBoundingSphereAt(A,ii.geometry.boundingSphere),ii.raycast(e,zg);for(let u=0,d=zg.length;u<d;u++){const m=zg[u];m.object=this,m.batchId=a,n.push(m)}zg.length=0}ii.material=null,ii.geometry.index=null,ii.geometry.attributes={},ii.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._drawInfo,A=this._multiDrawStarts,c=this._multiDrawCounts,u=this._drawRanges,d=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data;d&&(eU.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),qB.setFromProjectionMatrix(eU,e.coordinateSystem));let x=0;if(this.sortObjects){YB.copy(this.matrixWorld).invert(),$h.setFromMatrixPosition(r.matrixWorld).applyMatrix4(YB),tU.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(YB);for(let w=0,C=l.length;w<C;w++)if(l[w].visible&&l[w].active){const S=l[w].geometryIndex;this.getMatrixAt(w,Tl),this.getBoundingSphereAt(S,nc).applyMatrix4(Tl);let M=!1;if(d&&(M=!qB.intersectsSphere(nc)),!M){const b=Eoe.subVectors(nc.center,$h).dot(tU);ZB.push(u[S],b,w)}}const y=ZB.list,v=this.customSort;v===null?y.sort(s.transparent?Coe:woe):v.call(this,y,r);for(let w=0,C=y.length;w<C;w++){const S=y[w];A[x]=S.start*a,c[x]=S.count,g[x]=S.index,x++}ZB.reset()}else for(let y=0,v=l.length;y<v;y++)if(l[y].visible&&l[y].active){const w=l[y].geometryIndex;let C=!1;if(d&&(this.getMatrixAt(y,Tl),this.getBoundingSphereAt(w,nc).applyMatrix4(Tl),C=!qB.intersectsSphere(nc)),!C){const S=u[w];A[x]=S.start*a,c[x]=S.count,g[x]=y,x++}}m.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class di extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new We(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Yy=new K,qy=new K,nU=new xt,Yh=new Cu,Gg=new Wr,JB=new K,rU=new K;class sl extends tn{constructor(e=new kt,n=new di){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Yy.fromBufferAttribute(n,i-1),qy.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Yy.distanceTo(qy);e.setAttribute("lineDistance",new dt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Gg.copy(r.boundingSphere),Gg.applyMatrix4(i),Gg.radius+=s,e.ray.intersectsSphere(Gg)===!1)return;nU.copy(i).invert(),Yh.copy(e.ray).applyMatrix4(nU);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,A=this.isLineSegments?2:1,c=r.index,d=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let x=m,y=g-1;x<y;x+=A){const v=c.getX(x),w=c.getX(x+1),C=Kg(this,e,Yh,l,v,w);C&&n.push(C)}if(this.isLineLoop){const x=c.getX(g-1),y=c.getX(m),v=Kg(this,e,Yh,l,x,y);v&&n.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let x=m,y=g-1;x<y;x+=A){const v=Kg(this,e,Yh,l,x,x+1);v&&n.push(v)}if(this.isLineLoop){const x=Kg(this,e,Yh,l,g-1,m);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Kg(t,e,n,r,i,s){const o=t.geometry.attributes.position;if(Yy.fromBufferAttribute(o,i),qy.fromBufferAttribute(o,s),n.distanceSqToSegment(Yy,qy,JB,rU)>r)return;JB.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(JB);if(!(l<e.near||l>e.far))return{distance:l,point:rU.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const iU=new K,sU=new K;class Do extends sl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)iU.fromBufferAttribute(n,i),sU.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+iU.distanceTo(sU);e.setAttribute("lineDistance",new dt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class k5 extends sl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Mw extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const oU=new xt,qE=new Cu,Wg=new Wr,Xg=new K;class Q5 extends tn{constructor(e=new kt,n=new Mw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Wg.copy(r.boundingSphere),Wg.applyMatrix4(i),Wg.radius+=s,e.ray.intersectsSphere(Wg)===!1)return;oU.copy(i).invert(),qE.copy(e.ray).applyMatrix4(oU);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,A=r.index,u=r.attributes.position;if(A!==null){const d=Math.max(0,o.start),m=Math.min(A.count,o.start+o.count);for(let g=d,x=m;g<x;g++){const y=A.getX(g);Xg.fromBufferAttribute(u,y),aU(Xg,y,l,i,e,n,this)}}else{const d=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=d,x=m;g<x;g++)Xg.fromBufferAttribute(u,g),aU(Xg,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function aU(t,e,n,r,i,s,o){const a=qE.distanceSqToPoint(t);if(a<n){const l=new K;qE.closestPointToPoint(t,l),l.applyMatrix4(r);const A=i.ray.origin.distanceTo(l);if(A<i.near||A>i.far)return;s.push({distance:A,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class Moe extends Pn{constructor(e,n,r,i,s,o,a,l,A){super(e,n,r,i,s,o,a,l,A),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:tr,this.magFilter=s!==void 0?s:tr,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Toe extends Pn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Sr,this.minFilter=Sr,this.generateMipmaps=!1,this.needsUpdate=!0}}class Tw extends Pn{constructor(e,n,r,i,s,o,a,l,A,c,u,d){super(null,o,a,l,A,c,i,s,u,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Ioe extends Tw{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=fs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Foe extends Tw{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,rl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Uoe extends Pn{constructor(e,n,r,i,s,o,a,l,A){super(e,n,r,i,s,o,a,l,A),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Oo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,A;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),A=r[i]-o,A<0)a=i+1;else if(A>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],d=r[i+1]-c,m=(o-c)/d;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Ue:new K);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new K,i=[],s=[],o=[],a=new K,l=new xt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new K)}s[0]=new K,o[0]=new K;let A=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=A&&(A=c,r.set(1,0,0)),u<=A&&(A=u,r.set(0,1,0)),d<=A&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Jn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Jn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Iw extends Oo{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new Ue){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),A=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=l-this.aX,m=A-this.aY;l=d*c-m*u+this.aX,A=d*u+m*c+this.aY}return r.set(l,A)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Ak extends Iw{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function H5(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,A){i(o,a,A*(a-s),A*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,A,c,u){let d=(o-s)/A-(a-s)/(A+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+u)+(l-a)/u;d*=c,m*=c,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const $g=new K,eS=new H5,tS=new H5,nS=new H5;class ck extends Oo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new K){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let A,c;this.closed||a>0?A=i[(a-1)%s]:($g.subVectors(i[0],i[1]).add(i[0]),A=$g);const u=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:($g.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=$g),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(A.distanceToSquared(u),m),x=Math.pow(u.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(c),m);x<1e-4&&(x=1),g<1e-4&&(g=x),y<1e-4&&(y=x),eS.initNonuniformCatmullRom(A.x,u.x,d.x,c.x,g,x,y),tS.initNonuniformCatmullRom(A.y,u.y,d.y,c.y,g,x,y),nS.initNonuniformCatmullRom(A.z,u.z,d.z,c.z,g,x,y)}else this.curveType==="catmullrom"&&(eS.initCatmullRom(A.x,u.x,d.x,c.x,this.tension),tS.initCatmullRom(A.y,u.y,d.y,c.y,this.tension),nS.initCatmullRom(A.z,u.z,d.z,c.z,this.tension));return r.set(eS.calc(l),tS.calc(l),nS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new K().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lU(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Loe(t,e){const n=1-t;return n*n*e}function Roe(t,e){return 2*(1-t)*t*e}function Poe(t,e){return t*t*e}function z0(t,e,n,r){return Loe(t,e)+Roe(t,n)+Poe(t,r)}function Noe(t,e){const n=1-t;return n*n*n*e}function Doe(t,e){const n=1-t;return 3*n*n*t*e}function Ooe(t,e){return 3*(1-t)*t*t*e}function koe(t,e){return t*t*t*e}function G0(t,e,n,r,i){return Noe(t,e)+Doe(t,n)+Ooe(t,r)+koe(t,i)}class j5 extends Oo{constructor(e=new Ue,n=new Ue,r=new Ue,i=new Ue){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ue){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(G0(e,i.x,s.x,o.x,a.x),G0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uk extends Oo{constructor(e=new K,n=new K,r=new K,i=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new K){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(G0(e,i.x,s.x,o.x,a.x),G0(e,i.y,s.y,o.y,a.y),G0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class V5 extends Oo{constructor(e=new Ue,n=new Ue){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dk extends Oo{constructor(e=new K,n=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new K){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new K){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z5 extends Oo{constructor(e=new Ue,n=new Ue,r=new Ue){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ue){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(z0(e,i.x,s.x,o.x),z0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class G5 extends Oo{constructor(e=new K,n=new K,r=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new K){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(z0(e,i.x,s.x,o.x),z0(e,i.y,s.y,o.y),z0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class K5 extends Oo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ue){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],A=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return r.set(lU(a,l.x,A.x,c.x,u.x),lU(a,l.y,A.y,c.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ue().fromArray(i))}return this}}var Zy=Object.freeze({__proto__:null,ArcCurve:Ak,CatmullRomCurve3:ck,CubicBezierCurve:j5,CubicBezierCurve3:uk,EllipseCurve:Iw,LineCurve:V5,LineCurve3:dk,QuadraticBezierCurve:z5,QuadraticBezierCurve3:G5,SplineCurve:K5});class fk extends Oo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Zy[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),A=l===0?0:1-o/l;return a.getPointAt(A,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let A=0;A<l.length;A++){const c=l[A];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Zy[i.type]().fromJSON(i))}return this}}class Dp extends fk{constructor(e){super(),this.type="Path",this.currentPoint=new Ue,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new V5(this.currentPoint.clone(),new Ue(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new z5(this.currentPoint.clone(),new Ue(e,n),new Ue(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new j5(this.currentPoint.clone(),new Ue(e,n),new Ue(r,i),new Ue(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new K5(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const A=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+A,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const A=new Iw(e,n,r,i,s,o,a,l);if(this.curves.length>0){const u=A.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(A);const c=A.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class L2 extends kt{constructor(e=[new Ue(0,-.5),new Ue(.5,0),new Ue(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Jn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],A=[],c=1/n,u=new K,d=new Ue,m=new K,g=new K,x=new K;let y=0,v=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,v=e[w+1].y-e[w].y,m.x=v*1,m.y=-y,m.z=v*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[w+1].x-e[w].x,v=e[w+1].y-e[w].y,m.x=v*1,m.y=-y,m.z=v*0,g.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(g)}for(let w=0;w<=n;w++){const C=r+w*c*i,S=Math.sin(C),M=Math.cos(C);for(let b=0;b<=e.length-1;b++){u.x=e[b].x*S,u.y=e[b].y,u.z=e[b].x*M,o.push(u.x,u.y,u.z),d.x=w/n,d.y=b/(e.length-1),a.push(d.x,d.y);const T=l[3*b+0]*S,L=l[3*b+1],P=l[3*b+0]*M;A.push(T,L,P)}}for(let w=0;w<n;w++)for(let C=0;C<e.length-1;C++){const S=C+w*e.length,M=S,b=S+e.length,T=S+e.length+1,L=S+1;s.push(M,b,L),s.push(T,L,b)}this.setIndex(s),this.setAttribute("position",new dt(o,3)),this.setAttribute("uv",new dt(a,2)),this.setAttribute("normal",new dt(A,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L2(e.points,e.segments,e.phiStart,e.phiLength)}}class Fw extends L2{constructor(e=1,n=1,r=4,i=8){const s=new Dp;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Fw(e.radius,e.length,e.capSegments,e.radialSegments)}}class Uw extends kt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],A=new K,c=new Ue;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,d=3;u<=n;u++,d+=3){const m=r+u/n*i;A.x=e*Math.cos(m),A.y=e*Math.sin(m),o.push(A.x,A.y,A.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,l.push(c.x,c.y)}for(let u=1;u<=n;u++)s.push(u,u+1,0);this.setIndex(s),this.setAttribute("position",new dt(o,3)),this.setAttribute("normal",new dt(a,3)),this.setAttribute("uv",new dt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class nh extends kt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const A=this;i=Math.floor(i),s=Math.floor(s);const c=[],u=[],d=[],m=[];let g=0;const x=[],y=r/2;let v=0;w(),o===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(c),this.setAttribute("position",new dt(u,3)),this.setAttribute("normal",new dt(d,3)),this.setAttribute("uv",new dt(m,2));function w(){const S=new K,M=new K;let b=0;const T=(n-e)/r;for(let L=0;L<=s;L++){const P=[],E=L/s,U=E*(n-e)+e;for(let j=0;j<=i;j++){const Q=j/i,G=Q*l+a,J=Math.sin(G),k=Math.cos(G);M.x=U*J,M.y=-E*r+y,M.z=U*k,u.push(M.x,M.y,M.z),S.set(J,T,k).normalize(),d.push(S.x,S.y,S.z),m.push(Q,1-E),P.push(g++)}x.push(P)}for(let L=0;L<i;L++)for(let P=0;P<s;P++){const E=x[P][L],U=x[P+1][L],j=x[P+1][L+1],Q=x[P][L+1];e>0&&(c.push(E,U,Q),b+=3),n>0&&(c.push(U,j,Q),b+=3)}A.addGroup(v,b,0),v+=b}function C(S){const M=g,b=new Ue,T=new K;let L=0;const P=S===!0?e:n,E=S===!0?1:-1;for(let j=1;j<=i;j++)u.push(0,y*E,0),d.push(0,E,0),m.push(.5,.5),g++;const U=g;for(let j=0;j<=i;j++){const G=j/i*l+a,J=Math.cos(G),k=Math.sin(G);T.x=P*k,T.y=y*E,T.z=P*J,u.push(T.x,T.y,T.z),d.push(0,E,0),b.x=J*.5+.5,b.y=k*.5*E+.5,m.push(b.x,b.y),g++}for(let j=0;j<i;j++){const Q=M+j,G=U+j;S===!0?c.push(G,G+1,Q):c.push(G+1,G,Q),L+=3}A.addGroup(v,L,S===!0?1:2),v+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lw extends nh{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Lw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kA extends kt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),A(r),c(),this.setAttribute("position",new dt(s,3)),this.setAttribute("normal",new dt(s.slice(),3)),this.setAttribute("uv",new dt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const C=new K,S=new K,M=new K;for(let b=0;b<n.length;b+=3)m(n[b+0],C),m(n[b+1],S),m(n[b+2],M),l(C,S,M,w)}function l(w,C,S,M){const b=M+1,T=[];for(let L=0;L<=b;L++){T[L]=[];const P=w.clone().lerp(S,L/b),E=C.clone().lerp(S,L/b),U=b-L;for(let j=0;j<=U;j++)j===0&&L===b?T[L][j]=P:T[L][j]=P.clone().lerp(E,j/U)}for(let L=0;L<b;L++)for(let P=0;P<2*(b-L)-1;P++){const E=Math.floor(P/2);P%2===0?(d(T[L][E+1]),d(T[L+1][E]),d(T[L][E])):(d(T[L][E+1]),d(T[L+1][E+1]),d(T[L+1][E]))}}function A(w){const C=new K;for(let S=0;S<s.length;S+=3)C.x=s[S+0],C.y=s[S+1],C.z=s[S+2],C.normalize().multiplyScalar(w),s[S+0]=C.x,s[S+1]=C.y,s[S+2]=C.z}function c(){const w=new K;for(let C=0;C<s.length;C+=3){w.x=s[C+0],w.y=s[C+1],w.z=s[C+2];const S=y(w)/2/Math.PI+.5,M=v(w)/Math.PI+.5;o.push(S,1-M)}g(),u()}function u(){for(let w=0;w<o.length;w+=6){const C=o[w+0],S=o[w+2],M=o[w+4],b=Math.max(C,S,M),T=Math.min(C,S,M);b>.9&&T<.1&&(C<.2&&(o[w+0]+=1),S<.2&&(o[w+2]+=1),M<.2&&(o[w+4]+=1))}}function d(w){s.push(w.x,w.y,w.z)}function m(w,C){const S=w*3;C.x=e[S+0],C.y=e[S+1],C.z=e[S+2]}function g(){const w=new K,C=new K,S=new K,M=new K,b=new Ue,T=new Ue,L=new Ue;for(let P=0,E=0;P<s.length;P+=9,E+=6){w.set(s[P+0],s[P+1],s[P+2]),C.set(s[P+3],s[P+4],s[P+5]),S.set(s[P+6],s[P+7],s[P+8]),b.set(o[E+0],o[E+1]),T.set(o[E+2],o[E+3]),L.set(o[E+4],o[E+5]),M.copy(w).add(C).add(S).divideScalar(3);const U=y(M);x(b,E+0,w,U),x(T,E+2,C,U),x(L,E+4,S,U)}}function x(w,C,S,M){M<0&&w.x===1&&(o[C]=w.x-1),S.x===0&&S.z===0&&(o[C]=M/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function v(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kA(e.vertices,e.indices,e.radius,e.details)}}class Rw extends kA{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Rw(e.radius,e.detail)}}const Yg=new K,qg=new K,rS=new K,Zg=new Gi;class hk extends kt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Wc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,A=[0,0,0],c=["a","b","c"],u=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(A[0]=o.getX(g),A[1]=o.getX(g+1),A[2]=o.getX(g+2)):(A[0]=g,A[1]=g+1,A[2]=g+2);const{a:x,b:y,c:v}=Zg;if(x.fromBufferAttribute(a,A[0]),y.fromBufferAttribute(a,A[1]),v.fromBufferAttribute(a,A[2]),Zg.getNormal(rS),u[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,u[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,u[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let w=0;w<3;w++){const C=(w+1)%3,S=u[w],M=u[C],b=Zg[c[w]],T=Zg[c[C]],L=`${S}_${M}`,P=`${M}_${S}`;P in d&&d[P]?(rS.dot(d[P].normal)<=s&&(m.push(b.x,b.y,b.z),m.push(T.x,T.y,T.z)),d[P]=null):L in d||(d[L]={index0:A[w],index1:A[C],normal:rS.clone()})}}for(const g in d)if(d[g]){const{index0:x,index1:y}=d[g];Yg.fromBufferAttribute(a,x),qg.fromBufferAttribute(a,y),m.push(Yg.x,Yg.y,Yg.z),m.push(qg.x,qg.y,qg.z)}this.setAttribute("position",new dt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $c extends Dp{constructor(e){super(e),this.uuid=ys(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Dp().fromJSON(i))}return this}}const Qoe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=pk(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,A,c,u,d,m;if(r&&(s=Goe(t,e,s,n)),t.length>80*n){a=A=t[0],l=c=t[1];for(let g=n;g<i;g+=n)u=t[g],d=t[g+1],u<a&&(a=u),d<l&&(l=d),u>A&&(A=u),d>c&&(c=d);m=Math.max(A-a,c-l),m=m!==0?32767/m:0}return Op(s,o,n,a,l,m,0),o}};function pk(t,e,n,r,i){let s,o;if(i===nae(t,e,n,r)>0)for(s=e;s<n;s+=r)o=AU(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=AU(s,t[s],t[s+1],o);return o&&Pw(o,o.next)&&(Qp(o),o=o.next),o}function du(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Pw(n,n.next)||zn(n.prev,n,n.next)===0)){if(Qp(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Op(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Yoe(t,r,i,s);let a=t,l,A;for(;t.prev!==t.next;){if(l=t.prev,A=t.next,s?joe(t,r,i,s):Hoe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(A.i/n|0),Qp(t),t=A.next,a=A.next;continue}if(t=A,t===a){o?o===1?(t=Voe(du(t),e,n),Op(t,e,n,r,i,s,2)):o===2&&zoe(t,e,n,r,i,s):Op(du(t),e,n,r,i,s,1);break}}}function Hoe(t){const e=t.prev,n=t,r=t.next;if(zn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,A=r.y,c=i<s?i<o?i:o:s<o?s:o,u=a<l?a<A?a:A:l<A?l:A,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>A?a:A:l>A?l:A;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=u&&g.y<=m&&Dd(i,a,s,l,o,A,g.x,g.y)&&zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function joe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,A=o.x,c=i.y,u=s.y,d=o.y,m=a<l?a<A?a:A:l<A?l:A,g=c<u?c<d?c:d:u<d?u:d,x=a>l?a>A?a:A:l>A?l:A,y=c>u?c>d?c:d:u>d?u:d,v=ZE(m,g,e,n,r),w=ZE(x,y,e,n,r);let C=t.prevZ,S=t.nextZ;for(;C&&C.z>=v&&S&&S.z<=w;){if(C.x>=m&&C.x<=x&&C.y>=g&&C.y<=y&&C!==i&&C!==o&&Dd(a,c,l,u,A,d,C.x,C.y)&&zn(C.prev,C,C.next)>=0||(C=C.prevZ,S.x>=m&&S.x<=x&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&Dd(a,c,l,u,A,d,S.x,S.y)&&zn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;C&&C.z>=v;){if(C.x>=m&&C.x<=x&&C.y>=g&&C.y<=y&&C!==i&&C!==o&&Dd(a,c,l,u,A,d,C.x,C.y)&&zn(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;S&&S.z<=w;){if(S.x>=m&&S.x<=x&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&Dd(a,c,l,u,A,d,S.x,S.y)&&zn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Voe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Pw(i,s)&&mk(i,r,r.next,s)&&kp(i,s)&&kp(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Qp(r),Qp(r.next),r=t=s),r=r.next}while(r!==t);return du(r)}function zoe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Joe(o,a)){let l=gk(o,a);o=du(o,o.next),l=du(l,l.next),Op(o,e,n,r,i,s,0),Op(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Goe(t,e,n,r){const i=[];let s,o,a,l,A;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,A=pk(t,a,l,r,!1),A===A.next&&(A.steiner=!0),i.push(Zoe(A));for(i.sort(Koe),s=0;s<i.length;s++)n=Woe(i[s],n);return n}function Koe(t,e){return t.x-e.x}function Woe(t,e){const n=Xoe(t,e);if(!n)return e;const r=gk(n,t);return du(r,r.next),du(n,n.next)}function Xoe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const d=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,A=i.y;let c=1/0,u;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Dd(o<A?s:r,o,l,A,o<A?r:s,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(s-n.x),kp(n,t)&&(u<c||u===c&&(n.x>i.x||n.x===i.x&&$oe(i,n)))&&(i=n,c=u)),n=n.next;while(n!==a);return i}function $oe(t,e){return zn(t.prev,t,e.prev)<0&&zn(e.next,t,t.next)<0}function Yoe(t,e,n,r){let i=t;do i.z===0&&(i.z=ZE(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qoe(i)}function qoe(t){let e,n,r,i,s,o,a,l,A=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<A&&(a++,r=r.nextZ,!!r);e++);for(l=A;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,A*=2}while(o>1);return t}function ZE(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Zoe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Dd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Joe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eae(t,e)&&(kp(t,e)&&kp(e,t)&&tae(t,e)&&(zn(t.prev,t,e.prev)||zn(t,e.prev,e))||Pw(t,e)&&zn(t.prev,t,t.next)>0&&zn(e.prev,e,e.next)>0)}function zn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Pw(t,e){return t.x===e.x&&t.y===e.y}function mk(t,e,n,r){const i=e1(zn(t,e,n)),s=e1(zn(t,e,r)),o=e1(zn(n,r,t)),a=e1(zn(n,r,e));return!!(i!==s&&o!==a||i===0&&Jg(t,n,e)||s===0&&Jg(t,r,e)||o===0&&Jg(n,t,r)||a===0&&Jg(n,e,r))}function Jg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function e1(t){return t>0?1:t<0?-1:0}function eae(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mk(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function kp(t,e){return zn(t.prev,t,t.next)<0?zn(t,e,t.next)>=0&&zn(t,t.prev,e)>=0:zn(t,e,t.prev)<0||zn(t,t.next,e)<0}function tae(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function gk(t,e){const n=new JE(t.i,t.x,t.y),r=new JE(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function AU(t,e,n,r){const i=new JE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function JE(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nae(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class fa{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return fa.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];cU(e),uU(r,e);let o=e.length;n.forEach(cU);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,uU(r,n[l]);const a=Qoe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function cU(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function uU(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Nw extends kt{constructor(e=new $c([new Ue(.5,.5),new Ue(-.5,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const A=e[a];o(A)}this.setAttribute("position",new dt(i,3)),this.setAttribute("uv",new dt(s,2)),this.computeVertexNormals();function o(a){const l=[],A=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,u=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:rae;let C,S=!1,M,b,T,L;v&&(C=v.getSpacedPoints(c),S=!0,d=!1,M=v.computeFrenetFrames(c,!1),b=new K,T=new K,L=new K),d||(y=0,m=0,g=0,x=0);const P=a.extractPoints(A);let E=P.shape;const U=P.holes;if(!fa.isClockWise(E)){E=E.reverse();for(let fe=0,O=U.length;fe<O;fe++){const Ie=U[fe];fa.isClockWise(Ie)&&(U[fe]=Ie.reverse())}}const Q=fa.triangulateShape(E,U),G=E;for(let fe=0,O=U.length;fe<O;fe++){const Ie=U[fe];E=E.concat(Ie)}function J(fe,O,Ie){return O||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().addScaledVector(O,Ie)}const k=E.length,V=Q.length;function N(fe,O,Ie){let Pe,q,ae;const be=fe.x-O.x,he=fe.y-O.y,H=Ie.x-fe.x,D=Ie.y-fe.y,ne=be*be+he*he,xe=be*D-he*H;if(Math.abs(xe)>Number.EPSILON){const ge=Math.sqrt(ne),ve=Math.sqrt(H*H+D*D),Qe=O.x-he/ge,Te=O.y+be/ge,ke=Ie.x-D/ve,St=Ie.y+H/ve,Oe=((ke-Qe)*D-(St-Te)*H)/(be*D-he*H);Pe=Qe+be*Oe-fe.x,q=Te+he*Oe-fe.y;const je=Pe*Pe+q*q;if(je<=2)return new Ue(Pe,q);ae=Math.sqrt(je/2)}else{let ge=!1;be>Number.EPSILON?H>Number.EPSILON&&(ge=!0):be<-Number.EPSILON?H<-Number.EPSILON&&(ge=!0):Math.sign(he)===Math.sign(D)&&(ge=!0),ge?(Pe=-he,q=be,ae=Math.sqrt(ne)):(Pe=be,q=he,ae=Math.sqrt(ne/2))}return new Ue(Pe/ae,q/ae)}const W=[];for(let fe=0,O=G.length,Ie=O-1,Pe=fe+1;fe<O;fe++,Ie++,Pe++)Ie===O&&(Ie=0),Pe===O&&(Pe=0),W[fe]=N(G[fe],G[Ie],G[Pe]);const Y=[];let re,Se=W.concat();for(let fe=0,O=U.length;fe<O;fe++){const Ie=U[fe];re=[];for(let Pe=0,q=Ie.length,ae=q-1,be=Pe+1;Pe<q;Pe++,ae++,be++)ae===q&&(ae=0),be===q&&(be=0),re[Pe]=N(Ie[Pe],Ie[ae],Ie[be]);Y.push(re),Se=Se.concat(re)}for(let fe=0;fe<y;fe++){const O=fe/y,Ie=m*Math.cos(O*Math.PI/2),Pe=g*Math.sin(O*Math.PI/2)+x;for(let q=0,ae=G.length;q<ae;q++){const be=J(G[q],W[q],Pe);Le(be.x,be.y,-Ie)}for(let q=0,ae=U.length;q<ae;q++){const be=U[q];re=Y[q];for(let he=0,H=be.length;he<H;he++){const D=J(be[he],re[he],Pe);Le(D.x,D.y,-Ie)}}}const Fe=g+x;for(let fe=0;fe<k;fe++){const O=d?J(E[fe],Se[fe],Fe):E[fe];S?(T.copy(M.normals[0]).multiplyScalar(O.x),b.copy(M.binormals[0]).multiplyScalar(O.y),L.copy(C[0]).add(T).add(b),Le(L.x,L.y,L.z)):Le(O.x,O.y,0)}for(let fe=1;fe<=c;fe++)for(let O=0;O<k;O++){const Ie=d?J(E[O],Se[O],Fe):E[O];S?(T.copy(M.normals[fe]).multiplyScalar(Ie.x),b.copy(M.binormals[fe]).multiplyScalar(Ie.y),L.copy(C[fe]).add(T).add(b),Le(L.x,L.y,L.z)):Le(Ie.x,Ie.y,u/c*fe)}for(let fe=y-1;fe>=0;fe--){const O=fe/y,Ie=m*Math.cos(O*Math.PI/2),Pe=g*Math.sin(O*Math.PI/2)+x;for(let q=0,ae=G.length;q<ae;q++){const be=J(G[q],W[q],Pe);Le(be.x,be.y,u+Ie)}for(let q=0,ae=U.length;q<ae;q++){const be=U[q];re=Y[q];for(let he=0,H=be.length;he<H;he++){const D=J(be[he],re[he],Pe);S?Le(D.x,D.y+C[c-1].y,C[c-1].x+Ie):Le(D.x,D.y,u+Ie)}}}ce(),pe();function ce(){const fe=i.length/3;if(d){let O=0,Ie=k*O;for(let Pe=0;Pe<V;Pe++){const q=Q[Pe];oe(q[2]+Ie,q[1]+Ie,q[0]+Ie)}O=c+y*2,Ie=k*O;for(let Pe=0;Pe<V;Pe++){const q=Q[Pe];oe(q[0]+Ie,q[1]+Ie,q[2]+Ie)}}else{for(let O=0;O<V;O++){const Ie=Q[O];oe(Ie[2],Ie[1],Ie[0])}for(let O=0;O<V;O++){const Ie=Q[O];oe(Ie[0]+k*c,Ie[1]+k*c,Ie[2]+k*c)}}r.addGroup(fe,i.length/3-fe,0)}function pe(){const fe=i.length/3;let O=0;Be(G,O),O+=G.length;for(let Ie=0,Pe=U.length;Ie<Pe;Ie++){const q=U[Ie];Be(q,O),O+=q.length}r.addGroup(fe,i.length/3-fe,1)}function Be(fe,O){let Ie=fe.length;for(;--Ie>=0;){const Pe=Ie;let q=Ie-1;q<0&&(q=fe.length-1);for(let ae=0,be=c+y*2;ae<be;ae++){const he=k*ae,H=k*(ae+1),D=O+Pe+he,ne=O+q+he,xe=O+q+H,ge=O+Pe+H;ie(D,ne,xe,ge)}}}function Le(fe,O,Ie){l.push(fe),l.push(O),l.push(Ie)}function oe(fe,O,Ie){de(fe),de(O),de(Ie);const Pe=i.length/3,q=w.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);te(q[0]),te(q[1]),te(q[2])}function ie(fe,O,Ie,Pe){de(fe),de(O),de(Pe),de(O),de(Ie),de(Pe);const q=i.length/3,ae=w.generateSideWallUV(r,i,q-6,q-3,q-2,q-1);te(ae[0]),te(ae[1]),te(ae[3]),te(ae[1]),te(ae[2]),te(ae[3])}function de(fe){i.push(l[fe*3+0]),i.push(l[fe*3+1]),i.push(l[fe*3+2])}function te(fe){s.push(fe.x),s.push(fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return iae(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Zy[i.type]().fromJSON(i)),new Nw(r,e.options)}}const rae={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],A=e[i*3],c=e[i*3+1];return[new Ue(s,o),new Ue(a,l),new Ue(A,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],A=e[r*3],c=e[r*3+1],u=e[r*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],x=e[s*3],y=e[s*3+1],v=e[s*3+2];return Math.abs(a-c)<Math.abs(o-A)?[new Ue(o,1-l),new Ue(A,1-u),new Ue(d,1-g),new Ue(x,1-v)]:[new Ue(a,1-l),new Ue(c,1-u),new Ue(m,1-g),new Ue(y,1-v)]}};function iae(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Dw extends kA{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Dw(e.radius,e.detail)}}class R2 extends kA{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new R2(e.radius,e.detail)}}class Ow extends kt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],A=[],c=[];let u=e;const d=(n-e)/i,m=new K,g=new Ue;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const v=s+y/r*o;m.x=u*Math.cos(v),m.y=u*Math.sin(v),l.push(m.x,m.y,m.z),A.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}u+=d}for(let x=0;x<i;x++){const y=x*(r+1);for(let v=0;v<r;v++){const w=v+y,C=w,S=w+r+1,M=w+r+2,b=w+1;a.push(C,S,b),a.push(S,M,b)}}this.setIndex(a),this.setAttribute("position",new dt(l,3)),this.setAttribute("normal",new dt(A,3)),this.setAttribute("uv",new dt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ow(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class kw extends kt{constructor(e=new $c([new Ue(0,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)A(e);else for(let c=0;c<e.length;c++)A(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new dt(i,3)),this.setAttribute("normal",new dt(s,3)),this.setAttribute("uv",new dt(o,2));function A(c){const u=i.length/3,d=c.extractPoints(n);let m=d.shape;const g=d.holes;fa.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,v=g.length;y<v;y++){const w=g[y];fa.isClockWise(w)===!0&&(g[y]=w.reverse())}const x=fa.triangulateShape(m,g);for(let y=0,v=g.length;y<v;y++){const w=g[y];m=m.concat(w)}for(let y=0,v=m.length;y<v;y++){const w=m[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,v=x.length;y<v;y++){const w=x[y],C=w[0]+u,S=w[1]+u,M=w[2]+u;r.push(C,S,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return sae(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new kw(r,e.curveSegments)}}function sae(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class P2 extends kt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let A=0;const c=[],u=new K,d=new K,m=[],g=[],x=[],y=[];for(let v=0;v<=r;v++){const w=[],C=v/r;let S=0;v===0&&o===0?S=.5/n:v===r&&l===Math.PI&&(S=-.5/n);for(let M=0;M<=n;M++){const b=M/n;u.x=-e*Math.cos(i+b*s)*Math.sin(o+C*a),u.y=e*Math.cos(o+C*a),u.z=e*Math.sin(i+b*s)*Math.sin(o+C*a),g.push(u.x,u.y,u.z),d.copy(u).normalize(),x.push(d.x,d.y,d.z),y.push(b+S,1-C),w.push(A++)}c.push(w)}for(let v=0;v<r;v++)for(let w=0;w<n;w++){const C=c[v][w+1],S=c[v][w],M=c[v+1][w],b=c[v+1][w+1];(v!==0||o>0)&&m.push(C,S,b),(v!==r-1||l<Math.PI)&&m.push(S,M,b)}this.setIndex(m),this.setAttribute("position",new dt(g,3)),this.setAttribute("normal",new dt(x,3)),this.setAttribute("uv",new dt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P2(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Qw extends kA{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Qw(e.radius,e.detail)}}class Hw extends kt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],A=[],c=new K,u=new K,d=new K;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const x=g/i*s,y=m/r*Math.PI*2;u.x=(e+n*Math.cos(y))*Math.cos(x),u.y=(e+n*Math.cos(y))*Math.sin(x),u.z=n*Math.sin(y),a.push(u.x,u.y,u.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),d.subVectors(u,c).normalize(),l.push(d.x,d.y,d.z),A.push(g/i),A.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const x=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,w=(i+1)*m+g;o.push(x,y,w),o.push(y,v,w)}this.setIndex(o),this.setAttribute("position",new dt(a,3)),this.setAttribute("normal",new dt(l,3)),this.setAttribute("uv",new dt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jw extends kt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],A=[],c=[],u=new K,d=new K,m=new K,g=new K,x=new K,y=new K,v=new K;for(let C=0;C<=r;++C){const S=C/r*s*Math.PI*2;w(S,s,o,e,m),w(S+.01,s,o,e,g),y.subVectors(g,m),v.addVectors(g,m),x.crossVectors(y,v),v.crossVectors(x,y),x.normalize(),v.normalize();for(let M=0;M<=i;++M){const b=M/i*Math.PI*2,T=-n*Math.cos(b),L=n*Math.sin(b);u.x=m.x+(T*v.x+L*x.x),u.y=m.y+(T*v.y+L*x.y),u.z=m.z+(T*v.z+L*x.z),l.push(u.x,u.y,u.z),d.subVectors(u,m).normalize(),A.push(d.x,d.y,d.z),c.push(C/r),c.push(M/i)}}for(let C=1;C<=r;C++)for(let S=1;S<=i;S++){const M=(i+1)*(C-1)+(S-1),b=(i+1)*C+(S-1),T=(i+1)*C+S,L=(i+1)*(C-1)+S;a.push(M,b,L),a.push(b,T,L)}this.setIndex(a),this.setAttribute("position",new dt(l,3)),this.setAttribute("normal",new dt(A,3)),this.setAttribute("uv",new dt(c,2));function w(C,S,M,b,T){const L=Math.cos(C),P=Math.sin(C),E=M/S*C,U=Math.cos(E);T.x=b*(2+U)*.5*L,T.y=b*(2+U)*P*.5,T.z=b*Math.sin(E)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Vw extends kt{constructor(e=new G5(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new K,l=new K,A=new Ue;let c=new K;const u=[],d=[],m=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new dt(u,3)),this.setAttribute("normal",new dt(d,3)),this.setAttribute("uv",new dt(m,2));function x(){for(let C=0;C<n;C++)y(C);y(s===!1?n:0),w(),v()}function y(C){c=e.getPointAt(C/n,c);const S=o.normals[C],M=o.binormals[C];for(let b=0;b<=i;b++){const T=b/i*Math.PI*2,L=Math.sin(T),P=-Math.cos(T);l.x=P*S.x+L*M.x,l.y=P*S.y+L*M.y,l.z=P*S.z+L*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,u.push(a.x,a.y,a.z)}}function v(){for(let C=1;C<=n;C++)for(let S=1;S<=i;S++){const M=(i+1)*(C-1)+(S-1),b=(i+1)*C+(S-1),T=(i+1)*C+S,L=(i+1)*(C-1)+S;g.push(M,b,L),g.push(b,T,L)}}function w(){for(let C=0;C<=n;C++)for(let S=0;S<=i;S++)A.x=C/n,A.y=S/i,m.push(A.x,A.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Vw(new Zy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class vk extends kt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new K,s=new K;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let A=0,c=l.length;A<c;++A){const u=l[A],d=u.start,m=u.count;for(let g=d,x=d+m;g<x;g+=3)for(let y=0;y<3;y++){const v=a.getX(g+y),w=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,w),dU(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let A=0;A<3;A++){const c=3*a+A,u=3*a+(A+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,u),dU(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new dt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function dU(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var fU=Object.freeze({__proto__:null,BoxGeometry:Bu,CapsuleGeometry:Fw,CircleGeometry:Uw,ConeGeometry:Lw,CylinderGeometry:nh,DodecahedronGeometry:Rw,EdgesGeometry:hk,ExtrudeGeometry:Nw,IcosahedronGeometry:Dw,LatheGeometry:L2,OctahedronGeometry:R2,PlaneGeometry:eh,PolyhedronGeometry:kA,RingGeometry:Ow,ShapeGeometry:kw,SphereGeometry:P2,TetrahedronGeometry:Qw,TorusGeometry:Hw,TorusKnotGeometry:jw,TubeGeometry:Vw,WireframeGeometry:vk});class yk extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xk extends Uo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class N2 extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=OA,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class so extends N2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new We(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new We(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new We(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class wk extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=OA,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=_2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ck extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new We(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=OA,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Bk extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=OA,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Sk extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=OA,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=_2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _k extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=OA,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ek extends di{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function bk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mk(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function e4(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function W5(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function oae(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const A=s.tracks[l],c=A.getValueSize(),u=[],d=[];for(let m=0;m<A.times.length;++m){const g=A.times[m]*i;if(!(g<n||g>=r)){u.push(A.times[m]);for(let x=0;x<c;++x)d.push(A.values[m*c+x])}}u.length!==0&&(A.times=Fc(u,A.times.constructor),A.values=Fc(d,A.values.constructor),o.push(A))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function aae(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const A=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(A===void 0)continue;let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);let d=0;const m=A.getValueSize();A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let x;if(s<=a.times[0]){const v=c,w=u-c;x=a.values.slice(v,w)}else if(s>=a.times[g]){const v=g*u+c,w=v+u-c;x=a.values.slice(v,w)}else{const v=a.createInterpolant(),w=c,C=u-c;v.evaluate(s),x=v.resultBuffer.slice(w,C)}l==="quaternion"&&new Pr().fromArray(x).normalize().conjugate().toArray(x);const y=A.times.length;for(let v=0;v<y;++v){const w=v*m+d;if(l==="quaternion")Pr.multiplyQuaternionsFlat(A.values,w,x,0,A.values,w);else{const C=m-d*2;for(let S=0;S<C;++S)A.values[w+S]-=x[S]}}}return t.blendMode=_5,t}const lae={convertArray:Fc,isTypedArray:bk,getKeyframeOrder:Mk,sortedArray:e4,flattenJSON:W5,subclip:oae,makeClipAdditive:aae};class rh{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Tk extends rh{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mc,endingEnd:Mc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Tc:s=e,a=2*n-r;break;case Ip:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Tc:o=e,l=2*r-n;break;case Ip:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const A=(r-n)*.5,c=this.valueSize;this._weightPrev=A/(n-a),this._weightNext=A/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,A=l-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),x=g*g,y=x*g,v=-d*y+2*d*x-d*g,w=(1+d)*y+(-1.5-2*d)*x+(-.5+d)*g+1,C=(-1-m)*y+(1.5+m)*x+.5*g,S=m*y-m*x;for(let M=0;M!==a;++M)s[M]=v*o[c+M]+w*o[A+M]+C*o[l+M]+S*o[u+M];return s}}class X5 extends rh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,A=l-a,c=(r-n)/(i-n),u=1-c;for(let d=0;d!==a;++d)s[d]=o[A+d]*u+o[l+d]*c;return s}}class Ik extends rh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ko{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fc(n,this.TimeBufferType),this.values=Fc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Fc(e.times,Array),values:Fc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Ik(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new X5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Tk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Ff:n=this.InterpolantFactoryMethodDiscrete;break;case Uf:n=this.InterpolantFactoryMethodLinear;break;case lv:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ff;case this.InterpolantFactoryMethodLinear:return Uf;case this.InterpolantFactoryMethodSmooth:return lv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&bk(i))for(let a=0,l=i.length;a!==l;++a){const A=i[a];if(isNaN(A)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,A),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===lv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const A=e[a],c=e[a+1];if(A!==c&&(a!==1||A!==e[0]))if(i)l=!0;else{const u=a*r,d=u-r,m=u+r;for(let g=0;g!==r;++g){const x=n[u+g];if(x!==n[d+g]||x!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const u=a*r,d=o*r;for(let m=0;m!==r;++m)n[d+m]=n[u+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,A=0;A!==r;++A)n[l+A]=n[a+A];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ko.prototype.TimeBufferType=Float32Array;ko.prototype.ValueBufferType=Float32Array;ko.prototype.DefaultInterpolation=Uf;class Su extends ko{constructor(e,n,r){super(e,n,r)}}Su.prototype.ValueTypeName="bool";Su.prototype.ValueBufferType=Array;Su.prototype.DefaultInterpolation=Ff;Su.prototype.InterpolantFactoryMethodLinear=void 0;Su.prototype.InterpolantFactoryMethodSmooth=void 0;class $5 extends ko{}$5.prototype.ValueTypeName="color";class fu extends ko{}fu.prototype.ValueTypeName="number";class Fk extends rh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let A=e*a;for(let c=A+a;A!==c;A+=4)Pr.slerpFlat(s,0,o,A-a,o,A,l);return s}}class hu extends ko{InterpolantFactoryMethodLinear(e){return new Fk(this.times,this.values,this.getValueSize(),e)}}hu.prototype.ValueTypeName="quaternion";hu.prototype.InterpolantFactoryMethodSmooth=void 0;class _u extends ko{constructor(e,n,r){super(e,n,r)}}_u.prototype.ValueTypeName="string";_u.prototype.ValueBufferType=Array;_u.prototype.DefaultInterpolation=Ff;_u.prototype.InterpolantFactoryMethodLinear=void 0;_u.prototype.InterpolantFactoryMethodSmooth=void 0;class pu extends ko{}pu.prototype.ValueTypeName="vector";class Pf{constructor(e="",n=-1,r=[],i=ww){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ys(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(cae(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(ko.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],A=[];l.push((a+s-1)%s,a,(a+1)%s),A.push(0,1,0);const c=Mk(l);l=e4(l,1,c),A=e4(A,1,c),!i&&l[0]===0&&(l.push(s),A.push(A[0])),o.push(new fu(".morphTargetInfluences["+n[a].name+"]",l,A).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const A=e[a],c=A.name.match(s);if(c&&c.length>1){const u=c[1];let d=i[u];d||(i[u]=d=[]),d.push(A)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(u,d,m,g,x){if(m.length!==0){const y=[],v=[];W5(m,y,v,g),y.length!==0&&x.push(new u(d,y,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const A=e.hierarchy||[];for(let u=0;u<A.length;u++){const d=A[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let x=0;x<d[g].morphTargets.length;x++)m[d[g].morphTargets[x]]=-1;for(const x in m){const y=[],v=[];for(let w=0;w!==d[g].morphTargets.length;++w){const C=d[g];y.push(C.time),v.push(C.morphTarget===x?1:0)}i.push(new fu(".morphTargetInfluence["+x+"]",y,v))}l=m.length*o}else{const m=".bones["+n[u].name+"]";r(pu,m+".position",d,"pos",i),r(hu,m+".quaternion",d,"rot",i),r(pu,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Aae(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fu;case"vector":case"vector2":case"vector3":case"vector4":return pu;case"color":return $5;case"quaternion":return hu;case"bool":case"boolean":return Su;case"string":return _u}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function cae(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Aae(t.type);if(t.times===void 0){const n=[],r=[];W5(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Wa={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Y5{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const A=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,u){return A.push(c,u),this},this.removeHandler=function(c){const u=A.indexOf(c);return u!==-1&&A.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=A.length;u<d;u+=2){const m=A[u],g=A[u+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const Uk=new Y5;class Pi{constructor(e){this.manager=e!==void 0?e:Uk,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Pi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ia={};class uae extends Error{constructor(e,n){super(e),this.response=n}}class Lo extends Pi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Wa.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ia[e]!==void 0){Ia[e].push({onLoad:n,onProgress:r,onError:i});return}Ia[e]=[],Ia[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(A=>{if(A.status===200||A.status===0){if(A.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||A.body===void 0||A.body.getReader===void 0)return A;const c=Ia[e],u=A.body.getReader(),d=A.headers.get("X-File-Size")||A.headers.get("Content-Length"),m=d?parseInt(d):0,g=m!==0;let x=0;const y=new ReadableStream({start(v){w();function w(){u.read().then(({done:C,value:S})=>{if(C)v.close();else{x+=S.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:m});for(let b=0,T=c.length;b<T;b++){const L=c[b];L.onProgress&&L.onProgress(M)}v.enqueue(S),w()}},C=>{v.error(C)})}}});return new Response(y)}else throw new uae(`fetch for "${A.url}" responded with ${A.status}: ${A.statusText}`,A)}).then(A=>{switch(l){case"arraybuffer":return A.arrayBuffer();case"blob":return A.blob();case"document":return A.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return A.json();default:if(a===void 0)return A.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),d=u&&u[1]?u[1].toLowerCase():void 0,m=new TextDecoder(d);return A.arrayBuffer().then(g=>m.decode(g))}}}).then(A=>{Wa.add(e,A);const c=Ia[e];delete Ia[e];for(let u=0,d=c.length;u<d;u++){const m=c[u];m.onLoad&&m.onLoad(A)}}).catch(A=>{const c=Ia[e];if(c===void 0)throw this.manager.itemError(e),A;delete Ia[e];for(let u=0,d=c.length;u<d;u++){const m=c[u];m.onError&&m.onError(A)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class dae extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Pf.parse(e[r]);n.push(i)}return n}}class fae extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new Tw,l=new Lo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let A=0;function c(u){l.load(e[u],function(d){const m=s.parse(d,!0);o[u]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},A+=1,A===6&&(m.mipmapCount===1&&(a.minFilter=tr),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else l.load(e,function(u){const d=s.parse(u,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let x=0;x<d.mipmapCount;x++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+x]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=tr),a.format=d.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Hp extends Pi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Wa.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Np("img");function l(){c(),Wa.add(e,this),n&&n(this),s.manager.itemEnd(e)}function A(u){c(),i&&i(u),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",A,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",A,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class hae extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=new T2;s.colorSpace=Vr;const o=new Hp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(A){o.load(e[A],function(c){s.images[A]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let A=0;A<e.length;++A)l(A);return s}}class pae extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new da,a=new Lo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let A;try{A=s.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}A.image!==void 0?o.image=A.image:A.data!==void 0&&(o.image.width=A.width,o.image.height=A.height,o.image.data=A.data),o.wrapS=A.wrapS!==void 0?A.wrapS:fs,o.wrapT=A.wrapT!==void 0?A.wrapT:fs,o.magFilter=A.magFilter!==void 0?A.magFilter:tr,o.minFilter=A.minFilter!==void 0?A.minFilter:tr,o.anisotropy=A.anisotropy!==void 0?A.anisotropy:1,A.colorSpace!==void 0&&(o.colorSpace=A.colorSpace),A.flipY!==void 0&&(o.flipY=A.flipY),A.format!==void 0&&(o.format=A.format),A.type!==void 0&&(o.type=A.type),A.mipmaps!==void 0&&(o.mipmaps=A.mipmaps,o.minFilter=Xs),A.mipmapCount===1&&(o.minFilter=tr),A.generateMipmaps!==void 0&&(o.generateMipmaps=A.generateMipmaps),o.needsUpdate=!0,n&&n(o,A)},r,i),o}}class Lk extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=new Pn,o=new Hp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class QA extends tn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new We(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Rk extends QA{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new We(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const iS=new xt,hU=new K,pU=new K;class q5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.map=null,this.mapPass=null,this.matrix=new xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new I2,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new an(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;hU.setFromMatrixPosition(e.matrixWorld),n.position.copy(hU),pU.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(pU),n.updateMatrixWorld(),iS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(iS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mae extends q5{constructor(){super(new er(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Lf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Z5 extends QA{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new mae}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const mU=new xt,qh=new K,sS=new K;class gae extends q5{constructor(){super(new er(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ue(4,2),this._viewportCount=6,this._viewports=[new an(2,1,1,1),new an(0,1,1,1),new an(3,1,1,1),new an(1,1,1,1),new an(3,0,1,1),new an(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),qh.setFromMatrixPosition(e.matrixWorld),r.position.copy(qh),sS.copy(r.position),sS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(sS),r.updateMatrixWorld(),i.makeTranslation(-qh.x,-qh.y,-qh.z),mU.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mU)}}class J5 extends QA{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vae extends q5{constructor(){super(new Ya(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eM extends QA{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.shadow=new vae}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Pk extends QA{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Nk extends QA{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Dk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Ok extends QA{constructor(e=new Dk,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class zw extends Pi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Lo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new We().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new We().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ue().fromArray(o.value);break;case"v3":i.uniforms[s].value=new K().fromArray(o.value);break;case"v4":i.uniforms[s].value=new an().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Nt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new xt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ue().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ue().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return zw.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:yk,SpriteMaterial:N5,RawShaderMaterial:xk,ShaderMaterial:Uo,PointsMaterial:Mw,MeshPhysicalMaterial:so,MeshStandardMaterial:N2,MeshPhongMaterial:wk,MeshToonMaterial:Ck,MeshNormalMaterial:Bk,MeshLambertMaterial:Sk,MeshDepthMaterial:R5,MeshDistanceMaterial:P5,MeshBasicMaterial:hs,MeshMatcapMaterial:_k,LineDashedMaterial:Ek,LineBasicMaterial:di,Material:pr};return new n[e]}}class xA{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class kk extends kt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Qk extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],v=s(m,y.buffer),w=Pd(y.type,v),C=new F2(w,y.stride);return C.uuid=y.uuid,n[g]=C,C}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],v=new Uint32Array(y).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new kk:new kt,a=e.data.index;if(a!==void 0){const m=Pd(a.type,a.array);o.setIndex(new mn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let x;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);x=new FA(y,g.itemSize,g.offset,g.normalized)}else{const y=Pd(g.type,g.array),v=g.isInstancedBufferAttribute?uu:mn;x=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),o.setAttribute(m,x)}const A=e.data.morphAttributes;if(A)for(const m in A){const g=A[m],x=[];for(let y=0,v=g.length;y<v;y++){const w=g[y];let C;if(w.isInterleavedBufferAttribute){const S=i(e.data,w.data);C=new FA(S,w.itemSize,w.offset,w.normalized)}else{const S=Pd(w.type,w.array);C=new mn(S,w.itemSize,w.normalized)}w.name!==void 0&&(C.name=w.name),x.push(C)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let m=0,g=u.length;m!==g;++m){const x=u[m];o.addGroup(x.start,x.count,x.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new K;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Wr(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yae extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?xA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Lo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let A=null;try{A=JSON.parse(l)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const c=A.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(A,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?xA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Lo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(A)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),A=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,A);if(this.bindSkeletons(A,c),this.bindLightTargets(A),n!==void 0){let u=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){u=!0;break}u===!1&&n(A)}return A}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),A=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,A),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $c().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new U2().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Qk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in fU?a=fU[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new zw;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Pf.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const A=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A)?A:r.resourcePath+A;return o(c)}else return l.data?{data:Pd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Y5(n);s=new Hp(l),s.setCrossOrigin(this.crossOrigin);for(let A=0,c=e.length;A<c;A++){const u=e[A],d=u.url;if(Array.isArray(d)){const m=[];for(let g=0,x=d.length;g<x;g++){const y=d[g],v=a(y);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new da(v.data,v.width,v.height)))}i[u.uuid]=new Ic(m)}else{const m=a(u.url);i[u.uuid]=new Ic(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Pd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Hp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],A=l.url;if(Array.isArray(A)){const c=[];for(let u=0,d=A.length;u<d;u++){const m=A[u],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new da(g.data,g.width,g.height)))}r[l.uuid]=new Ic(c)}else{const c=await s(l.url);r[l.uuid]=new Ic(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],A=l.data;let c;Array.isArray(A)?(c=new T2,A.length===6&&(c.needsUpdate=!0)):(A&&A.data?c=new da:c=new Pn,A&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,xae)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],gU),c.wrapT=r(a.wrap[1],gU)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,vU)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,vU)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,x=d.length;g<x;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function A(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,u;switch(e.type){case"Scene":o=new $y,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new We(e.background):o.background=A(e.background)),e.environment!==void 0&&(o.environment=A(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Ew(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new _w(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new er(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ya(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Pk(e.color,e.intensity);break;case"DirectionalLight":o=new eM(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new J5(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Nk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Z5(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Rk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Ok().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),u=l(e.material),o=new D5(c,u),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),u=l(e.material),o=new lr(c,u);break;case"InstancedMesh":c=a(e.geometry),u=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new O5(c,u,d),o.instanceMatrix=new uu(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new uu(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":c=a(e.geometry),u=l(e.material),o=new lk(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,u),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new ci;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const v=new Wr;return v.radius=x.sphereRadius,v.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:v}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=A(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=A(e.colorsTexture.uuid));break;case"LOD":o=new ak;break;case"Line":o=new sl(a(e.geometry),l(e.material));break;case"LineLoop":o=new k5(a(e.geometry),l(e.material));break;case"LineSegments":o=new Do(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Q5(a(e.geometry),l(e.material));break;case"Sprite":o=new ok(l(e.material));break;case"Group":o=new Ka;break;case"Bone":o=new bw;break;default:o=new tn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],x=o.getObjectByProperty("uuid",g.object);x!==void 0&&o.addLevel(x,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new tn}})}}const xae={UVMapping:fw,CubeReflectionMapping:rl,CubeRefractionMapping:TA,EquirectangularReflectionMapping:Mp,EquirectangularRefractionMapping:Tp,CubeUVReflectionMapping:Zf},gU={RepeatWrapping:IA,ClampToEdgeWrapping:fs,MirroredRepeatWrapping:Tf},vU={NearestFilter:Sr,NearestMipmapNearestFilter:hw,NearestMipmapLinearFilter:bc,LinearFilter:tr,LinearMipmapNearestFilter:$d,LinearMipmapLinearFilter:Xs};class Hk extends Pi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Wa.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(A=>{n&&n(A),s.manager.itemEnd(e)}).catch(A=>{i&&i(A)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(A){return A.blob()}).then(function(A){return createImageBitmap(A,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(A){return Wa.add(e,A),n&&n(A),s.manager.itemEnd(e),A}).catch(function(A){i&&i(A),Wa.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Wa.add(e,l),s.manager.itemStart(e)}}let t1;class tM{static getContext(){return t1===void 0&&(t1=new(window.AudioContext||window.webkitAudioContext)),t1}static setContext(e){t1=e}}class wae extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const A=l.slice(0);tM.getContext().decodeAudioData(A,function(u){n(u)}).catch(a)}catch(A){a(A)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const yU=new xt,xU=new xt,rc=new xt;class Cae{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new er,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new er,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,rc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Wc*n.fov*.5)/n.zoom;let a,l;xU.elements[12]=-i,yU.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,rc.elements[0]=2*n.near/(l-a),rc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(rc),a=-o*n.aspect-s,l=o*n.aspect-s,rc.elements[0]=2*n.near/(l-a),rc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(rc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xU),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(yU)}}class nM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wU(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=wU();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function wU(){return performance.now()}const ic=new K,CU=new Pr,Bae=new K,sc=new K;class Sae extends tn{constructor(){super(),this.type="AudioListener",this.context=tM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new nM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ic,CU,Bae),sc.set(0,0,-1).applyQuaternion(CU),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(ic.x,i),n.positionY.linearRampToValueAtTime(ic.y,i),n.positionZ.linearRampToValueAtTime(ic.z,i),n.forwardX.linearRampToValueAtTime(sc.x,i),n.forwardY.linearRampToValueAtTime(sc.y,i),n.forwardZ.linearRampToValueAtTime(sc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(ic.x,ic.y,ic.z),n.setOrientation(sc.x,sc.y,sc.z,r.x,r.y,r.z)}}class jk extends tn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const oc=new K,BU=new Pr,_ae=new K,ac=new K;class Eae extends jk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(oc,BU,_ae),ac.set(0,0,1).applyQuaternion(BU);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(oc.x,r),n.positionY.linearRampToValueAtTime(oc.y,r),n.positionZ.linearRampToValueAtTime(oc.z,r),n.orientationX.linearRampToValueAtTime(ac.x,r),n.orientationY.linearRampToValueAtTime(ac.y,r),n.orientationZ.linearRampToValueAtTime(ac.z,r)}else n.setPosition(oc.x,oc.y,oc.z),n.setOrientation(ac.x,ac.y,ac.z)}}class bae{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Vk{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,A=n+n;l!==A;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Pr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Pr.multiplyQuaternionsFlat(e,o,e,n,e,r),Pr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const rM="\\[\\]\\.:\\/",Mae=new RegExp("["+rM+"]","g"),iM="[^"+rM+"]",Tae="[^"+rM.replace("\\.","")+"]",Iae=/((?:WC+[\/:])*)/.source.replace("WC",iM),Fae=/(WCOD+)?/.source.replace("WCOD",Tae),Uae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",iM),Lae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",iM),Rae=new RegExp("^"+Iae+Fae+Uae+Lae+"$"),Pae=["material","materials","bones","map"];class Nae{constructor(e,n,r){const i=r||rn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class rn{constructor(e,n,r){this.path=n,this.parsedPath=r||rn.parseTrackName(n),this.node=rn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new rn.Composite(e,n,r):new rn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Mae,"")}static parseTrackName(e){const n=Rae.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Pae.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=rn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let A=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===A){A=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(A!==void 0){if(e[A]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[A]}}const o=e[i];if(o===void 0){const A=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+A+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rn.Composite=Nae;rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rn.prototype.GetterByBindingType=[rn.prototype._getValue_direct,rn.prototype._getValue_array,rn.prototype._getValue_arrayElement,rn.prototype._getValue_toArray];rn.prototype.SetterByBindingTypeAndVersioning=[[rn.prototype._setValue_direct,rn.prototype._setValue_direct_setNeedsUpdate,rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_array,rn.prototype._setValue_array_setNeedsUpdate,rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_arrayElement,rn.prototype._setValue_arrayElement_setNeedsUpdate,rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_fromArray,rn.prototype._setValue_fromArray_setNeedsUpdate,rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Dae{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ys(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,A=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const d=arguments[c],m=d.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(d);for(let x=0,y=o;x!==y;++x)s[x].push(new rn(d,r[x],i[x]))}else if(g<A){a=e[g];const x=--A,y=e[x];n[y.uuid]=g,e[g]=y,n[m]=x,e[x]=d;for(let v=0,w=o;v!==w;++v){const C=s[v],S=C[x];let M=C[g];C[g]=S,M===void 0&&(M=new rn(d,r[v],i[v])),C[x]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=A}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],A=l.uuid,c=n[A];if(c!==void 0&&c>=s){const u=s++,d=e[u];n[d.uuid]=c,e[c]=d,n[A]=u,e[u]=l;for(let m=0,g=i;m!==g;++m){const x=r[m],y=x[u],v=x[c];x[c]=y,x[u]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const A=arguments[a],c=A.uuid,u=n[c];if(u!==void 0)if(delete n[c],u<s){const d=--s,m=e[d],g=--o,x=e[g];n[m.uuid]=u,e[u]=m,n[x.uuid]=d,e[d]=x,e.pop();for(let y=0,v=i;y!==v;++y){const w=r[y],C=w[d],S=w[g];w[u]=C,w[d]=S,w.pop()}}else{const d=--o,m=e[d];d>0&&(n[m.uuid]=u),e[u]=m,e.pop();for(let g=0,x=i;g!==x;++g){const y=r[g];y[u]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,A=l.length,c=this.nCachedObjects_,u=new Array(A);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(u);for(let d=c,m=l.length;d!==m;++d){const g=l[d];u[d]=new rn(g,e,n)}return u}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],A=e[a];n[A]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class zk{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Mc,endingEnd:Mc};for(let A=0;A!==o;++A){const c=s[A].createInterpolant(null);a[A]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,A=a.sampleValues;return l[0]=s,l[1]=s+r,A[0]=e/o,A[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,A=this._propertyBindings;switch(this.blendMode){case _5:for(let c=0,u=l.length;c!==u;++c)l[c].evaluate(o),A[c].accumulateAdditive(a);break;case ww:default:for(let c=0,u=l.length;c!==u;++c)l[c].evaluate(o),A[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===TO;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===bO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const A=e<0;this._setEndings(A,!A,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Tc,i.endingEnd=Tc):(e?i.endingStart=this.zeroSlopeAtStart?Tc:Mc:i.endingStart=Ip,n?i.endingEnd=this.zeroSlopeAtEnd?Tc:Mc:i.endingEnd=Ip)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Oae=new Float32Array(1);class kae extends No{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,A=this._bindingsByRootAndName;let c=A[l];c===void 0&&(c={},A[l]=c);for(let u=0;u!==s;++u){const d=i[u],m=d.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[u]=g;else{if(g=o[u],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const x=n&&n._propertyBindings[u].binding.parsedPath;g=new Vk(rn.create(r,m,x),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[u]=g}a[u].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,A=l[l.length-1],c=e._byClipCacheIndex;A._byClipCacheIndex=c,l[c]=A,l.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],A=e._cacheIndex;l._cacheIndex=A,n[A]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new X5(new Float32Array(2),new Float32Array(2),1,Oae),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Pf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let A=null;if(r===void 0&&(o!==null?r=o.blendMode:r=ww),l!==void 0){const u=l.actionByRoot[s];if(u!==void 0&&u.blendMode===r)return u;A=l.knownActions[0],o===null&&(o=A._clip)}if(o===null)return null;const c=new zk(this,o,n,r);return this._bindAction(c,A),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Pf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let A=0;A!==r;++A)n[A]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let A=0;A!==l;++A)a[A].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const A=o[a];this._deactivateAction(A);const c=A._cacheIndex,u=n[n.length-1];A._cacheIndex=null,A._byClipCacheIndex=null,u._cacheIndex=c,n[c]=u,n.pop(),this._removeInactiveBindingsForAction(A)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class sM{constructor(e){this.value=e}clone(){return new sM(this.value.clone===void 0?this.value:this.value.clone())}}let Qae=0;class Hae extends No{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Qae++}),this.name="",this.usage=Rp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class jae extends F2{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Vae{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const SU=new xt;class Gk{constructor(e,n,r=0,i=1/0){this.ray=new Cu(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Xc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return SU.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(SU),this}intersectObject(e,n=!0,r=[]){return t4(e,this,r,n),r.sort(_U),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)t4(e[i],this,r,n);return r.sort(_U),r}}function _U(t,e){return t.distance-e.distance}function t4(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)t4(s[o],e,n,!0)}}class n4{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zae{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class oM{constructor(e,n,r,i){oM.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const EU=new Ue;class Gae{constructor(e=new Ue(1/0,1/0),n=new Ue(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=EU.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,EU).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const bU=new K,n1=new K;class Kae{constructor(e=new K,n=new K){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){bU.subVectors(e,this.start),n1.subVectors(this.end,this.start);const r=n1.dot(n1);let s=n1.dot(bU)/r;return n&&(s=Jn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const MU=new K;class Wae extends tn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new kt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const A=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(A),Math.sin(A),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new dt(i,3));const s=new di({fog:!1,toneMapped:!1});this.cone=new Do(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),MU.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(MU),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Il=new K,r1=new xt,oS=new xt;class Xae extends Do{constructor(e){const n=Kk(e),r=new kt,i=[],s=[],o=new We(0,0,1),a=new We(0,1,0);for(let A=0;A<n.length;A++){const c=n[A];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new dt(i,3)),r.setAttribute("color",new dt(s,3));const l=new di({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");oS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(r1.multiplyMatrices(oS,a.matrixWorld),Il.setFromMatrixPosition(r1),i.setXYZ(o,Il.x,Il.y,Il.z),r1.multiplyMatrices(oS,a.parent.matrixWorld),Il.setFromMatrixPosition(r1),i.setXYZ(o+1,Il.x,Il.y,Il.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Kk(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Kk(t.children[n]));return e}class $ae extends lr{constructor(e,n,r){const i=new P2(n,4,2),s=new hs({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Yae=new K,TU=new We,IU=new We;class qae extends tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new R2(n);i.rotateY(Math.PI*.5),this.material=new hs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new mn(o,3)),this.add(new lr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");TU.copy(this.light.color),IU.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?TU:IU;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Yae.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Zae extends Do{constructor(e=10,n=10,r=4473924,i=8947848){r=new We(r),i=new We(i);const s=n/2,o=e/n,a=e/2,l=[],A=[];for(let d=0,m=0,g=-a;d<=n;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const x=d===s?r:i;x.toArray(A,m),m+=3,x.toArray(A,m),m+=3,x.toArray(A,m),m+=3,x.toArray(A,m),m+=3}const c=new kt;c.setAttribute("position",new dt(l,3)),c.setAttribute("color",new dt(A,3));const u=new di({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jae extends Do{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new We(s),o=new We(o);const a=[],l=[];if(n>1)for(let u=0;u<n;u++){const d=u/n*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const x=u&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let u=0;u<r;u++){const d=u&1?s:o,m=e-e/r*u;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),y=Math.sin(x)*m,v=Math.cos(x)*m;a.push(y,0,v),l.push(d.r,d.g,d.b),x=(g+1)/i*(Math.PI*2),y=Math.sin(x)*m,v=Math.cos(x)*m,a.push(y,0,v),l.push(d.r,d.g,d.b)}}const A=new kt;A.setAttribute("position",new dt(a,3)),A.setAttribute("color",new dt(l,3));const c=new di({vertexColors:!0,toneMapped:!1});super(A,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const FU=new K,i1=new K,UU=new K;class ele extends tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new kt;i.setAttribute("position",new dt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new di({fog:!1,toneMapped:!1});this.lightPlane=new sl(i,s),this.add(this.lightPlane),i=new kt,i.setAttribute("position",new dt([0,0,0,0,0,1],3)),this.targetLine=new sl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),FU.setFromMatrixPosition(this.light.matrixWorld),i1.setFromMatrixPosition(this.light.target.matrixWorld),UU.subVectors(i1,FU),this.lightPlane.lookAt(i1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(i1),this.targetLine.scale.z=UU.length()}}const s1=new K,Yn=new M2;class tle extends Do{constructor(e){const n=new kt,r=new di({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,x){l(g),l(x)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new dt(i,3)),n.setAttribute("color",new dt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const A=new We(16755200),c=new We(16711680),u=new We(43775),d=new We(16777215),m=new We(3355443);this.setColors(A,c,u,d,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Yn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ir("c",n,e,Yn,0,0,-1),ir("t",n,e,Yn,0,0,1),ir("n1",n,e,Yn,-r,-i,-1),ir("n2",n,e,Yn,r,-i,-1),ir("n3",n,e,Yn,-r,i,-1),ir("n4",n,e,Yn,r,i,-1),ir("f1",n,e,Yn,-r,-i,1),ir("f2",n,e,Yn,r,-i,1),ir("f3",n,e,Yn,-r,i,1),ir("f4",n,e,Yn,r,i,1),ir("u1",n,e,Yn,r*.7,i*1.1,-1),ir("u2",n,e,Yn,-r*.7,i*1.1,-1),ir("u3",n,e,Yn,0,i*2,-1),ir("cf1",n,e,Yn,-r,0,1),ir("cf2",n,e,Yn,r,0,1),ir("cf3",n,e,Yn,0,-i,1),ir("cf4",n,e,Yn,0,i,1),ir("cn1",n,e,Yn,-r,0,-1),ir("cn2",n,e,Yn,r,0,-1),ir("cn3",n,e,Yn,0,-i,-1),ir("cn4",n,e,Yn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ir(t,e,n,r,i,s,o){s1.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let A=0,c=a.length;A<c;A++)l.setXYZ(a[A],s1.x,s1.y,s1.z)}}const o1=new ci;class nle extends Do{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new kt;s.setIndex(new mn(r,1)),s.setAttribute("position",new mn(i,3)),super(s,new di({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&o1.setFromObject(this.object),o1.isEmpty())return;const n=o1.min,r=o1.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rle extends Do{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new kt;s.setIndex(new mn(r,1)),s.setAttribute("position",new dt(i,3)),super(s,new di({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ile extends sl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new kt;o.setAttribute("position",new dt(s,3)),o.computeBoundingSphere(),super(o,new di({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new kt;l.setAttribute("position",new dt(a,3)),l.computeBoundingSphere(),this.add(new lr(l,new hs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const LU=new K;let a1,aS;class sle extends tn{constructor(e=new K(0,0,1),n=new K(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",a1===void 0&&(a1=new kt,a1.setAttribute("position",new dt([0,0,0,0,1,0],3)),aS=new nh(0,.5,1,5,1),aS.translate(0,-.5,0)),this.position.copy(n),this.line=new sl(a1,new di({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new lr(aS,new hs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{LU.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(LU,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ole extends Do{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new kt;i.setAttribute("position",new dt(n,3)),i.setAttribute("color",new dt(r,3));const s=new di({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new We,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ale{constructor(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Dp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const w=[];for(let C=0,S=v.length;C<S;C++){const M=v[C],b=new $c;b.curves=M.curves,w.push(b)}return w}function r(v,w){const C=w.length;let S=!1;for(let M=C-1,b=0;b<C;M=b++){let T=w[M],L=w[b],P=L.x-T.x,E=L.y-T.y;if(Math.abs(E)>Number.EPSILON){if(E<0&&(T=w[b],P=-P,L=w[M],E=-E),v.y<T.y||v.y>L.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const U=E*(v.x-T.x)-P*(v.y-T.y);if(U===0)return!0;if(U<0)continue;S=!S}}else{if(v.y!==T.y)continue;if(L.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=L.x)return!0}}return S}const i=fa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const A=[];if(s.length===1)return a=s[0],l=new $c,l.curves=a.curves,A.push(l),A;let c=!i(s[0].getPoints());c=e?!c:c;const u=[],d=[];let m=[],g=0,x;d[g]=void 0,m[g]=[];for(let v=0,w=s.length;v<w;v++)a=s[v],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!c&&d[g]&&g++,d[g]={s:new $c,p:x},d[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:x[0]});if(!d[0])return n(s);if(d.length>1){let v=!1,w=0;for(let C=0,S=d.length;C<S;C++)u[C]=[];for(let C=0,S=d.length;C<S;C++){const M=m[C];for(let b=0;b<M.length;b++){const T=M[b];let L=!0;for(let P=0;P<d.length;P++)r(T.p,d[P].p)&&(C!==P&&w++,L?(L=!1,u[P].push(T)):v=!0);L&&u[C].push(T)}}w>0&&v===!1&&(m=u)}let y;for(let v=0,w=d.length;v<w;v++){l=d[v].s,A.push(l),y=m[v];for(let C=0,S=y.length;C<S;C++)l.holes.push(y[C].h)}return A}}class lle extends No{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Ale extends Fo{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:uw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=uw);const cle=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:p5,AddEquation:Vl,AddOperation:yO,AdditiveAnimationBlendMode:_5,AdditiveBlending:jE,AgXToneMapping:SO,AlphaFormat:y5,AlwaysCompare:QO,AlwaysDepth:my,AlwaysStencilFunc:KE,AmbientLight:Pk,AnimationAction:zk,AnimationClip:Pf,AnimationLoader:dae,AnimationMixer:kae,AnimationObjectGroup:Dae,AnimationUtils:lae,ArcCurve:Ak,ArrayCamera:rk,ArrowHelper:sle,AttachedBindMode:GE,Audio:jk,AudioAnalyser:bae,AudioContext:tM,AudioListener:Sae,AudioLoader:wae,AxesHelper:ole,BackSide:Ii,BasicDepthPacking:FO,BasicShadowMap:JD,BatchedMesh:lk,Bone:bw,BooleanKeyframeTrack:Su,Box2:Gae,Box3:ci,Box3Helper:rle,BoxGeometry:Bu,BoxHelper:nle,BufferAttribute:mn,BufferGeometry:kt,BufferGeometryLoader:Qk,ByteType:m5,Cache:Wa,Camera:M2,CameraHelper:tle,CanvasTexture:Uoe,CapsuleGeometry:Fw,CatmullRomCurve3:ck,CineonToneMapping:CO,CircleGeometry:Uw,ClampToEdgeWrapping:fs,Clock:nM,Color:We,ColorKeyframeTrack:$5,ColorManagement:sn,CompressedArrayTexture:Ioe,CompressedCubeTexture:Foe,CompressedTexture:Tw,CompressedTextureLoader:fae,ConeGeometry:Lw,ConstantAlphaFactor:mO,ConstantColorFactor:hO,Controls:lle,CubeCamera:$O,CubeReflectionMapping:rl,CubeRefractionMapping:TA,CubeTexture:T2,CubeTextureLoader:hae,CubeUVReflectionMapping:Zf,CubicBezierCurve:j5,CubicBezierCurve3:uk,CubicInterpolant:Tk,CullFaceBack:HE,CullFaceFront:ZD,CullFaceFrontBack:lee,CullFaceNone:qD,Curve:Oo,CurvePath:fk,CustomBlending:eO,CustomToneMapping:BO,CylinderGeometry:nh,Cylindrical:zae,Data3DTexture:T5,DataArrayTexture:Bw,DataTexture:da,DataTextureLoader:pae,DataUtils:yte,DecrementStencilOp:yee,DecrementWrapStencilOp:wee,DefaultLoadingManager:Uk,DepthFormat:Kc,DepthStencilFormat:cu,DepthTexture:L5,DetachedBindMode:EO,DirectionalLight:eM,DirectionalLightHelper:ele,DiscreteInterpolant:Ik,DisplayP3ColorSpace:Cw,DodecahedronGeometry:Rw,DoubleSide:Bo,DstAlphaFactor:AO,DstColorFactor:uO,DynamicCopyUsage:Nee,DynamicDrawUsage:Iee,DynamicReadUsage:Lee,EdgesGeometry:hk,EllipseCurve:Iw,EqualCompare:NO,EqualDepth:vy,EqualStencilFunc:_ee,EquirectangularReflectionMapping:Mp,EquirectangularRefractionMapping:Tp,Euler:Ss,EventDispatcher:No,ExtrudeGeometry:Nw,FileLoader:Lo,Float16BufferAttribute:_te,Float32BufferAttribute:dt,FloatType:Wi,Fog:Ew,FogExp2:_w,FramebufferTexture:Toe,FrontSide:ha,Frustum:I2,GLBufferAttribute:Vae,GLSL1:Oee,GLSL3:WE,GreaterCompare:DO,GreaterDepth:xy,GreaterEqualCompare:kO,GreaterEqualDepth:yy,GreaterEqualStencilFunc:Tee,GreaterStencilFunc:bee,GridHelper:Zae,Group:Ka,HalfFloatType:Jf,HemisphereLight:Rk,HemisphereLightHelper:qae,IcosahedronGeometry:Dw,ImageBitmapLoader:Hk,ImageLoader:Hp,ImageUtils:zO,IncrementStencilOp:vee,IncrementWrapStencilOp:xee,InstancedBufferAttribute:uu,InstancedBufferGeometry:kk,InstancedInterleavedBuffer:jae,InstancedMesh:O5,Int16BufferAttribute:Bte,Int32BufferAttribute:Ste,Int8BufferAttribute:xte,IntType:pw,InterleavedBuffer:F2,InterleavedBufferAttribute:FA,Interpolant:rh,InterpolateDiscrete:Ff,InterpolateLinear:Uf,InterpolateSmooth:lv,InvertStencilOp:Cee,KeepStencilOp:pc,KeyframeTrack:ko,LOD:ak,LatheGeometry:L2,Layers:Xc,LessCompare:PO,LessDepth:gy,LessEqualCompare:b5,LessEqualDepth:lu,LessEqualStencilFunc:Eee,LessStencilFunc:See,Light:QA,LightProbe:Ok,Line:sl,Line3:Kae,LineBasicMaterial:di,LineCurve:V5,LineCurve3:dk,LineDashedMaterial:Ek,LineLoop:k5,LineSegments:Do,LinearDisplayP3ColorSpace:b2,LinearFilter:tr,LinearInterpolant:X5,LinearMipMapLinearFilter:dee,LinearMipMapNearestFilter:uee,LinearMipmapLinearFilter:Xs,LinearMipmapNearestFilter:$d,LinearSRGBColorSpace:Or,LinearToneMapping:xO,LinearTransfer:Fp,Loader:Pi,LoaderUtils:xA,LoadingManager:Y5,LoopOnce:bO,LoopPingPong:TO,LoopRepeat:MO,LuminanceAlphaFormat:C5,LuminanceFormat:w5,MOUSE:fc,Material:pr,MaterialLoader:zw,MathUtils:HO,Matrix2:oM,Matrix3:Nt,Matrix4:xt,MaxEquation:iO,Mesh:lr,MeshBasicMaterial:hs,MeshDepthMaterial:R5,MeshDistanceMaterial:P5,MeshLambertMaterial:Sk,MeshMatcapMaterial:_k,MeshNormalMaterial:Bk,MeshPhongMaterial:wk,MeshPhysicalMaterial:so,MeshStandardMaterial:N2,MeshToonMaterial:Ck,MinEquation:rO,MirroredRepeatWrapping:Tf,MixOperation:vO,MultiplyBlending:zE,MultiplyOperation:_2,NearestFilter:Sr,NearestMipMapLinearFilter:cee,NearestMipMapNearestFilter:Aee,NearestMipmapLinearFilter:bc,NearestMipmapNearestFilter:hw,NeutralToneMapping:_O,NeverCompare:RO,NeverDepth:py,NeverStencilFunc:Bee,NoBlending:$a,NoColorSpace:ja,NoToneMapping:ua,NormalAnimationBlendMode:ww,NormalBlending:Gc,NotEqualCompare:OO,NotEqualDepth:wy,NotEqualStencilFunc:Mee,NumberKeyframeTrack:fu,Object3D:tn,ObjectLoader:yae,ObjectSpaceNormalMap:LO,OctahedronGeometry:R2,OneFactor:oO,OneMinusConstantAlphaFactor:gO,OneMinusConstantColorFactor:pO,OneMinusDstAlphaFactor:cO,OneMinusDstColorFactor:dO,OneMinusSrcAlphaFactor:hy,OneMinusSrcColorFactor:lO,OrthographicCamera:Ya,P3Primaries:Lp,PCFShadowMap:dw,PCFSoftShadowMap:D0,PMREMGenerator:XE,Path:Dp,PerspectiveCamera:er,Plane:ka,PlaneGeometry:eh,PlaneHelper:ile,PointLight:J5,PointLightHelper:$ae,Points:Q5,PointsMaterial:Mw,PolarGridHelper:Jae,PolyhedronGeometry:kA,PositionalAudio:Eae,PropertyBinding:rn,PropertyMixer:Vk,QuadraticBezierCurve:z5,QuadraticBezierCurve3:G5,Quaternion:Pr,QuaternionKeyframeTrack:hu,QuaternionLinearInterpolant:Fk,RED_GREEN_RGTC2_Format:Ky,RED_RGTC1_Format:S5,REVISION:uw,RGBADepthPacking:UO,RGBAFormat:Ai,RGBAIntegerFormat:xw,RGBA_ASTC_10x10_Format:Qy,RGBA_ASTC_10x5_Format:Dy,RGBA_ASTC_10x6_Format:Oy,RGBA_ASTC_10x8_Format:ky,RGBA_ASTC_12x10_Format:Hy,RGBA_ASTC_12x12_Format:jy,RGBA_ASTC_4x4_Format:Ty,RGBA_ASTC_5x4_Format:Iy,RGBA_ASTC_5x5_Format:Fy,RGBA_ASTC_6x5_Format:Uy,RGBA_ASTC_6x6_Format:Ly,RGBA_ASTC_8x5_Format:Ry,RGBA_ASTC_8x6_Format:Py,RGBA_ASTC_8x8_Format:Ny,RGBA_BPTC_Format:j0,RGBA_ETC2_EAC_Format:My,RGBA_PVRTC_2BPPV1_Format:_y,RGBA_PVRTC_4BPPV1_Format:Sy,RGBA_S3TC_DXT1_Format:k0,RGBA_S3TC_DXT3_Format:Q0,RGBA_S3TC_DXT5_Format:H0,RGBDepthPacking:hee,RGBFormat:x5,RGBIntegerFormat:fee,RGB_BPTC_SIGNED_Format:Vy,RGB_BPTC_UNSIGNED_Format:zy,RGB_ETC1_Format:Ey,RGB_ETC2_Format:by,RGB_PVRTC_2BPPV1_Format:By,RGB_PVRTC_4BPPV1_Format:Cy,RGB_S3TC_DXT1_Format:O0,RGDepthPacking:pee,RGFormat:B5,RGIntegerFormat:yw,RawShaderMaterial:xk,Ray:Cu,Raycaster:Gk,Rec709Primaries:Up,RectAreaLight:Nk,RedFormat:vw,RedIntegerFormat:E2,ReinhardToneMapping:wO,RenderTarget:GO,RepeatWrapping:IA,ReplaceStencilOp:gee,ReverseSubtractEquation:nO,RingGeometry:Ow,SIGNED_RED_GREEN_RGTC2_Format:Wy,SIGNED_RED_RGTC1_Format:Gy,SRGBColorSpace:Vr,SRGBTransfer:Mn,Scene:$y,ShaderChunk:Qt,ShaderLib:wo,ShaderMaterial:Uo,ShadowMaterial:yk,Shape:$c,ShapeGeometry:kw,ShapePath:ale,ShapeUtils:fa,ShortType:g5,Skeleton:U2,SkeletonHelper:Xae,SkinnedMesh:D5,Source:Ic,Sphere:Wr,SphereGeometry:P2,Spherical:n4,SphericalHarmonics3:Dk,SplineCurve:K5,SpotLight:Z5,SpotLightHelper:Wae,Sprite:ok,SpriteMaterial:N5,SrcAlphaFactor:fy,SrcAlphaSaturateFactor:fO,SrcColorFactor:aO,StaticCopyUsage:Pee,StaticDrawUsage:Rp,StaticReadUsage:Uee,StereoCamera:Cae,StreamCopyUsage:Dee,StreamDrawUsage:Fee,StreamReadUsage:Ree,StringKeyframeTrack:_u,SubtractEquation:tO,SubtractiveBlending:VE,TOUCH:hc,TangentSpaceNormalMap:OA,TetrahedronGeometry:Qw,Texture:Pn,TextureLoader:Lk,TextureUtils:loe,TorusGeometry:Hw,TorusKnotGeometry:jw,Triangle:Gi,TriangleFanDrawMode:Xy,TriangleStripDrawMode:E5,TrianglesDrawMode:IO,TubeGeometry:Vw,UVMapping:fw,Uint16BufferAttribute:I5,Uint32BufferAttribute:F5,Uint8BufferAttribute:wte,Uint8ClampedBufferAttribute:Cte,Uniform:sM,UniformsGroup:Hae,UniformsLib:Xe,UniformsUtils:XO,UnsignedByteType:Io,UnsignedInt248Type:Au,UnsignedInt5999Type:v5,UnsignedIntType:il,UnsignedShort4444Type:mw,UnsignedShort5551Type:gw,UnsignedShortType:If,VSMShadowMap:mo,Vector2:Ue,Vector3:K,Vector4:an,VectorKeyframeTrack:pu,VideoTexture:Moe,WebGL3DRenderTarget:Ate,WebGLArrayRenderTarget:lte,WebGLCoordinateSystem:aa,WebGLCubeRenderTarget:YO,WebGLMultipleRenderTargets:Ale,WebGLRenderTarget:Fo,WebGLRenderer:ik,WebGLUtils:nk,WebGPUCoordinateSystem:Pp,WireframeGeometry:vk,WrapAroundEnding:Ip,ZeroCurvatureEnding:Mc,ZeroFactor:sO,ZeroSlopeEnding:Tc,ZeroStencilOp:mee,createCanvasElement:VO},Symbol.toStringTag,{value:"Module"}));var Wk={exports:{}},Eu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Eu.ConcurrentRoot=1;Eu.ContinuousEventPriority=4;Eu.DefaultEventPriority=16;Eu.DiscreteEventPriority=1;Eu.IdleEventPriority=536870912;Eu.LegacyRoot=0;Wk.exports=Eu;var Od=Wk.exports;function ule(t){let e;const n=new Set,r=(A,c)=>{const u=typeof A=="function"?A(e):A;if(u!==e){const d=e;e=c?u:Object.assign({},e,u),n.forEach(m=>m(e,d))}},i=()=>e,s=(A,c=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const g=c(e);if(!u(d,g)){const x=d;A(d=g,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(A,c,u)=>c||u?s(A,c,u):(n.add(A),()=>n.delete(A)),destroy:()=>n.clear()};return e=t(r,i,l),l}const dle=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),RU=dle?F.useEffect:F.useLayoutEffect;function fle(t){const e=typeof t=="function"?ule(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(y=>y+1,0),o=e.getState(),a=F.useRef(o),l=F.useRef(r),A=F.useRef(i),c=F.useRef(!1),u=F.useRef();u.current===void 0&&(u.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||A.current!==i||c.current)&&(d=r(o),m=!i(u.current,d)),RU(()=>{m&&(u.current=d),a.current=o,l.current=r,A.current=i,c.current=!1});const g=F.useRef(o);RU(()=>{const y=()=>{try{const w=e.getState(),C=l.current(w);A.current(u.current,C)||(a.current=w,u.current=C,s())}catch{c.current=!0,s()}},v=e.subscribe(y);return e.getState()!==g.current&&y(),v},[]);const x=m?d:u.current;return F.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const hle=t=>typeof t=="object"&&typeof t.then=="function",Uc=[];function Xk(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function $k(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Uc)if(Xk(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Uc.indexOf(i);s!==-1&&Uc.splice(s,1)},promise:(hle(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Uc.push(i),!n)throw i.promise}const ple=(t,e,n)=>$k(t,e,!1,n),mle=(t,e,n)=>void $k(t,e,!0,n),gle=t=>{if(t===void 0||t.length===0)Uc.splice(0,Uc.length);else{const e=Uc.find(n=>Xk(t,n.keys,n.equal));e&&e.remove()}};var Yk={exports:{}},qk={exports:{}},Zk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var Y=N.length;N.push(W);e:for(;0<Y;){var re=Y-1>>>1,Se=N[re];if(0<i(Se,W))N[re]=W,N[Y]=Se,Y=re;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],Y=N.pop();if(Y!==W){N[0]=Y;e:for(var re=0,Se=N.length,Fe=Se>>>1;re<Fe;){var ce=2*(re+1)-1,pe=N[ce],Be=ce+1,Le=N[Be];if(0>i(pe,Y))Be<Se&&0>i(Le,pe)?(N[re]=Le,N[Be]=Y,re=Be):(N[re]=pe,N[ce]=Y,re=ce);else if(Be<Se&&0>i(Le,Y))N[re]=Le,N[Be]=Y,re=Be;else break e}}return W}function i(N,W){var Y=N.sortIndex-W.sortIndex;return Y!==0?Y:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],A=[],c=1,u=null,d=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(N){for(var W=n(A);W!==null;){if(W.callback===null)r(A);else if(W.startTime<=N)r(A),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(A)}}function S(N){if(x=!1,C(N),!g)if(n(l)!==null)g=!0,k(M);else{var W=n(A);W!==null&&V(S,W.startTime-N)}}function M(N,W){g=!1,x&&(x=!1,v(L),L=-1),m=!0;var Y=d;try{for(C(W),u=n(l);u!==null&&(!(u.expirationTime>W)||N&&!U());){var re=u.callback;if(typeof re=="function"){u.callback=null,d=u.priorityLevel;var Se=re(u.expirationTime<=W);W=t.unstable_now(),typeof Se=="function"?u.callback=Se:u===n(l)&&r(l),C(W)}else r(l);u=n(l)}if(u!==null)var Fe=!0;else{var ce=n(A);ce!==null&&V(S,ce.startTime-W),Fe=!1}return Fe}finally{u=null,d=Y,m=!1}}var b=!1,T=null,L=-1,P=5,E=-1;function U(){return!(t.unstable_now()-E<P)}function j(){if(T!==null){var N=t.unstable_now();E=N;var W=!0;try{W=T(!0,N)}finally{W?Q():(b=!1,T=null)}}else b=!1}var Q;if(typeof w=="function")Q=function(){w(j)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=j,Q=function(){J.postMessage(null)}}else Q=function(){y(j,0)};function k(N){T=N,b||(b=!0,Q())}function V(N,W){L=y(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,k(M))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var Y=d;d=W;try{return N()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=d;d=N;try{return W()}finally{d=Y}},t.unstable_scheduleCallback=function(N,W,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,N){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Y+Se,N={id:c++,callback:W,priorityLevel:N,startTime:Y,expirationTime:Se,sortIndex:-1},Y>re?(N.sortIndex=Y,e(A,N),n(l)===null&&N===n(A)&&(x?(v(L),L=-1):x=!0,V(S,Y-re))):(N.sortIndex=Se,e(l,N),g||m||(g=!0,k(M))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var W=d;return function(){var Y=d;d=W;try{return N.apply(this,arguments)}finally{d=Y}}}})(Zk);qk.exports=Zk;var r4=qk.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vle=function(e){var n={},r=F,i=r4,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,B=1;B<arguments.length;B++)h+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),A=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),M=Symbol.iterator;function b(f){return f===null||typeof f!="object"?null:(f=M&&f[M]||f["@@iterator"],typeof f=="function"?f:null)}function T(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case A:return"Portal";case d:return"Profiler";case u:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case x:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case w:return h=f.displayName||null,h!==null?h:T(f.type)||"Memo";case C:h=f._payload,f=f._init;try{return T(f(h))}catch{}}return null}function L(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(h);case 8:return h===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function P(f){var h=f,B=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(B=h.return),f=h.return;while(f)}return h.tag===3?B:null}function E(f){if(P(f)!==f)throw Error(o(188))}function U(f){var h=f.alternate;if(!h){if(h=P(f),h===null)throw Error(o(188));return h!==f?null:f}for(var B=f,_=h;;){var I=B.return;if(I===null)break;var R=I.alternate;if(R===null){if(_=I.return,_!==null){B=_;continue}break}if(I.child===R.child){for(R=I.child;R;){if(R===B)return E(I),f;if(R===_)return E(I),h;R=R.sibling}throw Error(o(188))}if(B.return!==_.return)B=I,_=R;else{for(var X=!1,se=I.child;se;){if(se===B){X=!0,B=I,_=R;break}if(se===_){X=!0,_=I,B=R;break}se=se.sibling}if(!X){for(se=R.child;se;){if(se===B){X=!0,B=R,_=I;break}if(se===_){X=!0,_=R,B=I;break}se=se.sibling}if(!X)throw Error(o(189))}}if(B.alternate!==_)throw Error(o(190))}if(B.tag!==3)throw Error(o(188));return B.stateNode.current===B?f:h}function j(f){return f=U(f),f!==null?Q(f):null}function Q(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=Q(f);if(h!==null)return h;f=f.sibling}return null}function G(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=G(f);if(h!==null)return h}f=f.sibling}return null}var J=Array.isArray,k=e.getPublicInstance,V=e.getRootHostContext,N=e.getChildHostContext,W=e.prepareForCommit,Y=e.resetAfterCommit,re=e.createInstance,Se=e.appendInitialChild,Fe=e.finalizeInitialChildren,ce=e.prepareUpdate,pe=e.shouldSetTextContent,Be=e.createTextInstance,Le=e.scheduleTimeout,oe=e.cancelTimeout,ie=e.noTimeout,de=e.isPrimaryRenderer,te=e.supportsMutation,fe=e.supportsPersistence,O=e.supportsHydration,Ie=e.getInstanceFromNode,Pe=e.preparePortalMount,q=e.getCurrentEventPriority,ae=e.detachDeletedInstance,be=e.supportsMicrotasks,he=e.scheduleMicrotask,H=e.supportsTestSelectors,D=e.findFiberRoot,ne=e.getBoundingRect,xe=e.getTextContent,ge=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Qe=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,ke=e.appendChild,St=e.appendChildToContainer,Oe=e.commitTextUpdate,je=e.commitMount,st=e.commitUpdate,ut=e.insertBefore,Ye=e.insertInContainerBefore,Tt=e.removeChild,Z=e.removeChildFromContainer,Ne=e.resetTextContent,$=e.hideInstance,De=e.hideTextInstance,me=e.unhideInstance,Re=e.unhideTextInstance,Ke=e.clearContainer,Je=e.cloneInstance,Lt=e.createContainerChildSet,Gt=e.appendChildToContainerChildSet,It=e.finalizeContainerChildren,ft=e.replaceContainerChildren,Xt=e.cloneHiddenInstance,cn=e.cloneHiddenTextInstance,Un=e.canHydrateInstance,Xn=e.canHydrateTextInstance,gr=e.canHydrateSuspenseInstance,$r=e.isSuspenseInstancePending,Ji=e.isSuspenseInstanceFallback,Z2=e.registerSuspenseInstanceRetry,Ho=e.getNextHydratableSibling,J2=e.getFirstHydratableChild,Tu=e.getFirstHydratableChildWithinContainer,em=e.getFirstHydratableChildWithinSuspenseInstance,tm=e.hydrateInstance,x3=e.hydrateTextInstance,w3=e.hydrateSuspenseInstance,C3=e.getNextHydratableInstanceAfterSuspenseInstance,z=e.commitHydratedContainer,le=e.commitHydratedSuspenseInstance,we=e.clearSuspenseBoundary,Ce=e.clearSuspenseBoundaryFromContainer,ue=e.shouldDeleteUnhydratedTailInstances,ze=e.didNotMatchHydratedContainerTextInstance,nt=e.didNotMatchHydratedTextInstance,at;function lt(f){if(at===void 0)try{throw Error()}catch(B){var h=B.stack.trim().match(/\n( *(at )?)/);at=h&&h[1]||""}return`
`+at+f}var _t=!1;function bt(f,h){if(!f||_t)return"";_t=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ve){var _=Ve}Reflect.construct(f,[],h)}else{try{h.call()}catch(Ve){_=Ve}f.call(h.prototype)}else{try{throw Error()}catch(Ve){_=Ve}f()}}catch(Ve){if(Ve&&_&&typeof Ve.stack=="string"){for(var I=Ve.stack.split(`
`),R=_.stack.split(`
`),X=I.length-1,se=R.length-1;1<=X&&0<=se&&I[X]!==R[se];)se--;for(;1<=X&&0<=se;X--,se--)if(I[X]!==R[se]){if(X!==1||se!==1)do if(X--,se--,0>se||I[X]!==R[se]){var Me=`
`+I[X].replace(" at new "," at ");return f.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",f.displayName)),Me}while(1<=X&&0<=se);break}}}finally{_t=!1,Error.prepareStackTrace=B}return(f=f?f.displayName||f.name:"")?lt(f):""}var ht=Object.prototype.hasOwnProperty,on=[],un=-1;function pn(f){return{current:f}}function Kt(f){0>un||(f.current=on[un],on[un]=null,un--)}function mt(f,h){un++,on[un]=f.current,f.current=h}var ct={},nn=pn(ct),Ft=pn(!1),vr=ct;function es(f,h){var B=f.type.contextTypes;if(!B)return ct;var _=f.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===h)return _.__reactInternalMemoizedMaskedChildContext;var I={},R;for(R in B)I[R]=h[R];return _&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=I),I}function Cn(f){return f=f.childContextTypes,f!=null}function ul(){Kt(Ft),Kt(nn)}function Nn(f,h,B){if(nn.current!==ct)throw Error(o(168));mt(nn,h),mt(Ft,B)}function oo(f,h,B){var _=f.stateNode;if(h=h.childContextTypes,typeof _.getChildContext!="function")return B;_=_.getChildContext();for(var I in _)if(!(I in h))throw Error(o(108,L(f)||"Unknown",I));return s({},B,_)}function dl(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ct,vr=nn.current,mt(nn,f),mt(Ft,Ft.current),!0}function fi(f,h,B){var _=f.stateNode;if(!_)throw Error(o(169));B?(f=oo(f,h,vr),_.__reactInternalMemoizedMergedChildContext=f,Kt(Ft),Kt(nn),mt(nn,f)):Kt(Ft),mt(Ft,B)}var hi=Math.clz32?Math.clz32:hz,B3=Math.log,nm=Math.LN2;function hz(f){return f>>>=0,f===0?32:31-(B3(f)/nm|0)|0}var rm=64,im=4194304;function ch(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function sm(f,h){var B=f.pendingLanes;if(B===0)return 0;var _=0,I=f.suspendedLanes,R=f.pingedLanes,X=B&268435455;if(X!==0){var se=X&~I;se!==0?_=ch(se):(R&=X,R!==0&&(_=ch(R)))}else X=B&~I,X!==0?_=ch(X):R!==0&&(_=ch(R));if(_===0)return 0;if(h!==0&&h!==_&&!(h&I)&&(I=_&-_,R=h&-h,I>=R||I===16&&(R&4194240)!==0))return h;if(_&4&&(_|=B&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=_;0<h;)B=31-hi(h),I=1<<B,_|=f[B],h&=~I;return _}function pz(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mz(f,h){for(var B=f.suspendedLanes,_=f.pingedLanes,I=f.expirationTimes,R=f.pendingLanes;0<R;){var X=31-hi(R),se=1<<X,Me=I[X];Me===-1?(!(se&B)||se&_)&&(I[X]=pz(se,h)):Me<=h&&(f.expiredLanes|=se),R&=~se}}function S3(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function _3(f){for(var h=[],B=0;31>B;B++)h.push(f);return h}function uh(f,h,B){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-hi(h),f[h]=B}function gz(f,h){var B=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var _=f.eventTimes;for(f=f.expirationTimes;0<B;){var I=31-hi(B),R=1<<I;h[I]=0,_[I]=-1,f[I]=-1,B&=~R}}function E3(f,h){var B=f.entangledLanes|=h;for(f=f.entanglements;B;){var _=31-hi(B),I=1<<_;I&h|f[_]&h&&(f[_]|=h),B&=~I}}var dn=0;function vT(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var b3=i.unstable_scheduleCallback,yT=i.unstable_cancelCallback,vz=i.unstable_shouldYield,yz=i.unstable_requestPaint,Mr=i.unstable_now,M3=i.unstable_ImmediatePriority,xz=i.unstable_UserBlockingPriority,T3=i.unstable_NormalPriority,wz=i.unstable_IdlePriority,om=null,jo=null;function Cz(f){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(om,f,void 0,(f.current.flags&128)===128)}catch{}}function Bz(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Vo=typeof Object.is=="function"?Object.is:Bz,ya=null,am=!1,I3=!1;function xT(f){ya===null?ya=[f]:ya.push(f)}function Sz(f){am=!0,xT(f)}function zo(){if(!I3&&ya!==null){I3=!0;var f=0,h=dn;try{var B=ya;for(dn=1;f<B.length;f++){var _=B[f];do _=_(!0);while(_!==null)}ya=null,am=!1}catch(I){throw ya!==null&&(ya=ya.slice(f+1)),b3(M3,zo),I}finally{dn=h,I3=!1}}return null}var _z=a.ReactCurrentBatchConfig;function lm(f,h){if(Vo(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var B=Object.keys(f),_=Object.keys(h);if(B.length!==_.length)return!1;for(_=0;_<B.length;_++){var I=B[_];if(!ht.call(h,I)||!Vo(f[I],h[I]))return!1}return!0}function Ez(f){switch(f.tag){case 5:return lt(f.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 2:case 15:return f=bt(f.type,!1),f;case 11:return f=bt(f.type.render,!1),f;case 1:return f=bt(f.type,!0),f;default:return""}}function ao(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var B in f)h[B]===void 0&&(h[B]=f[B]);return h}return h}var Am=pn(null),cm=null,Iu=null,F3=null;function U3(){F3=Iu=cm=null}function wT(f,h,B){de?(mt(Am,h._currentValue),h._currentValue=B):(mt(Am,h._currentValue2),h._currentValue2=B)}function L3(f){var h=Am.current;Kt(Am),de?f._currentValue=h:f._currentValue2=h}function R3(f,h,B){for(;f!==null;){var _=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,_!==null&&(_.childLanes|=h)):_!==null&&(_.childLanes&h)!==h&&(_.childLanes|=h),f===B)break;f=f.return}}function Fu(f,h){cm=f,F3=Iu=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(rs=!0),f.firstContext=null)}function Ms(f){var h=de?f._currentValue:f._currentValue2;if(F3!==f)if(f={context:f,memoizedValue:h,next:null},Iu===null){if(cm===null)throw Error(o(308));Iu=f,cm.dependencies={lanes:0,firstContext:f}}else Iu=Iu.next=f;return h}var Go=null,fl=!1;function P3(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function xa(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function hl(f,h){var B=f.updateQueue;B!==null&&(B=B.shared,cr!==null&&f.mode&1&&!(Wt&2)?(f=B.interleaved,f===null?(h.next=h,Go===null?Go=[B]:Go.push(B)):(h.next=f.next,f.next=h),B.interleaved=h):(f=B.pending,f===null?h.next=h:(h.next=f.next,f.next=h),B.pending=h))}function um(f,h,B){if(h=h.updateQueue,h!==null&&(h=h.shared,(B&4194240)!==0)){var _=h.lanes;_&=f.pendingLanes,B|=_,h.lanes=B,E3(f,B)}}function BT(f,h){var B=f.updateQueue,_=f.alternate;if(_!==null&&(_=_.updateQueue,B===_)){var I=null,R=null;if(B=B.firstBaseUpdate,B!==null){do{var X={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};R===null?I=R=X:R=R.next=X,B=B.next}while(B!==null);R===null?I=R=h:R=R.next=h}else I=R=h;B={baseState:_.baseState,firstBaseUpdate:I,lastBaseUpdate:R,shared:_.shared,effects:_.effects},f.updateQueue=B;return}f=B.lastBaseUpdate,f===null?B.firstBaseUpdate=h:f.next=h,B.lastBaseUpdate=h}function dm(f,h,B,_){var I=f.updateQueue;fl=!1;var R=I.firstBaseUpdate,X=I.lastBaseUpdate,se=I.shared.pending;if(se!==null){I.shared.pending=null;var Me=se,Ve=Me.next;Me.next=null,X===null?R=Ve:X.next=Ve,X=Me;var At=f.alternate;At!==null&&(At=At.updateQueue,se=At.lastBaseUpdate,se!==X&&(se===null?At.firstBaseUpdate=Ve:se.next=Ve,At.lastBaseUpdate=Me))}if(R!==null){var Rt=I.baseState;X=0,At=Ve=Me=null,se=R;do{var wt=se.lane,_n=se.eventTime;if((_&wt)===wt){At!==null&&(At=At.next={eventTime:_n,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var gt=f,Jr=se;switch(wt=h,_n=B,Jr.tag){case 1:if(gt=Jr.payload,typeof gt=="function"){Rt=gt.call(_n,Rt,wt);break e}Rt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Jr.payload,wt=typeof gt=="function"?gt.call(_n,Rt,wt):gt,wt==null)break e;Rt=s({},Rt,wt);break e;case 2:fl=!0}}se.callback!==null&&se.lane!==0&&(f.flags|=64,wt=I.effects,wt===null?I.effects=[se]:wt.push(se))}else _n={eventTime:_n,lane:wt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},At===null?(Ve=At=_n,Me=Rt):At=At.next=_n,X|=wt;if(se=se.next,se===null){if(se=I.shared.pending,se===null)break;wt=se,se=wt.next,wt.next=null,I.lastBaseUpdate=wt,I.shared.pending=null}}while(!0);if(At===null&&(Me=Rt),I.baseState=Me,I.firstBaseUpdate=Ve,I.lastBaseUpdate=At,h=I.shared.interleaved,h!==null){I=h;do X|=I.lane,I=I.next;while(I!==h)}else R===null&&(I.shared.lanes=0);Qu|=X,f.lanes=X,f.memoizedState=Rt}}function ST(f,h,B){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var _=f[h],I=_.callback;if(I!==null){if(_.callback=null,_=B,typeof I!="function")throw Error(o(191,I));I.call(_)}}}var _T=new r.Component().refs;function N3(f,h,B,_){h=f.memoizedState,B=B(_,h),B=B==null?h:s({},h,B),f.memoizedState=B,f.lanes===0&&(f.updateQueue.baseState=B)}var fm={isMounted:function(f){return(f=f._reactInternals)?P(f)===f:!1},enqueueSetState:function(f,h,B){f=f._reactInternals;var _=mi(),I=gl(f),R=xa(_,I);R.payload=h,B!=null&&(R.callback=B),hl(f,R),h=Ls(f,I,_),h!==null&&um(h,f,I)},enqueueReplaceState:function(f,h,B){f=f._reactInternals;var _=mi(),I=gl(f),R=xa(_,I);R.tag=1,R.payload=h,B!=null&&(R.callback=B),hl(f,R),h=Ls(f,I,_),h!==null&&um(h,f,I)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var B=mi(),_=gl(f),I=xa(B,_);I.tag=2,h!=null&&(I.callback=h),hl(f,I),h=Ls(f,_,B),h!==null&&um(h,f,_)}};function ET(f,h,B,_,I,R,X){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(_,R,X):h.prototype&&h.prototype.isPureReactComponent?!lm(B,_)||!lm(I,R):!0}function bT(f,h,B){var _=!1,I=ct,R=h.contextType;return typeof R=="object"&&R!==null?R=Ms(R):(I=Cn(h)?vr:nn.current,_=h.contextTypes,R=(_=_!=null)?es(f,I):ct),h=new h(B,R),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=fm,f.stateNode=h,h._reactInternals=f,_&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=I,f.__reactInternalMemoizedMaskedChildContext=R),h}function MT(f,h,B,_){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(B,_),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(B,_),h.state!==f&&fm.enqueueReplaceState(h,h.state,null)}function D3(f,h,B,_){var I=f.stateNode;I.props=B,I.state=f.memoizedState,I.refs=_T,P3(f);var R=h.contextType;typeof R=="object"&&R!==null?I.context=Ms(R):(R=Cn(h)?vr:nn.current,I.context=es(f,R)),I.state=f.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(N3(f,h,R,B),I.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(h=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),h!==I.state&&fm.enqueueReplaceState(I,I.state,null),dm(f,B,I,_),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308)}var Uu=[],Lu=0,hm=null,pm=0,Ts=[],Is=0,HA=null,wa=1,Ca="";function jA(f,h){Uu[Lu++]=pm,Uu[Lu++]=hm,hm=f,pm=h}function TT(f,h,B){Ts[Is++]=wa,Ts[Is++]=Ca,Ts[Is++]=HA,HA=f;var _=wa;f=Ca;var I=32-hi(_)-1;_&=~(1<<I),B+=1;var R=32-hi(h)+I;if(30<R){var X=I-I%5;R=(_&(1<<X)-1).toString(32),_>>=X,I-=X,wa=1<<32-hi(h)+I|B<<I|_,Ca=R+f}else wa=1<<R|B<<I|_,Ca=f}function O3(f){f.return!==null&&(jA(f,1),TT(f,1,0))}function k3(f){for(;f===hm;)hm=Uu[--Lu],Uu[Lu]=null,pm=Uu[--Lu],Uu[Lu]=null;for(;f===HA;)HA=Ts[--Is],Ts[Is]=null,Ca=Ts[--Is],Ts[Is]=null,wa=Ts[--Is],Ts[Is]=null}var ts=null,ns=null,Dn=!1,dh=!1,lo=null;function IT(f,h){var B=Rs(5,null,null,0);B.elementType="DELETED",B.stateNode=h,B.return=f,h=f.deletions,h===null?(f.deletions=[B],f.flags|=16):h.push(B)}function FT(f,h){switch(f.tag){case 5:return h=Un(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,ts=f,ns=J2(h),!0):!1;case 6:return h=Xn(h,f.pendingProps),h!==null?(f.stateNode=h,ts=f,ns=null,!0):!1;case 13:if(h=gr(h),h!==null){var B=HA!==null?{id:wa,overflow:Ca}:null;return f.memoizedState={dehydrated:h,treeContext:B,retryLane:1073741824},B=Rs(18,null,null,0),B.stateNode=h,B.return=f,f.child=B,ts=f,ns=null,!0}return!1;default:return!1}}function Q3(f){return(f.mode&1)!==0&&(f.flags&128)===0}function H3(f){if(Dn){var h=ns;if(h){var B=h;if(!FT(f,h)){if(Q3(f))throw Error(o(418));h=Ho(B);var _=ts;h&&FT(f,h)?IT(_,B):(f.flags=f.flags&-4097|2,Dn=!1,ts=f)}}else{if(Q3(f))throw Error(o(418));f.flags=f.flags&-4097|2,Dn=!1,ts=f}}}function UT(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ts=f}function fh(f){if(!O||f!==ts)return!1;if(!Dn)return UT(f),Dn=!0,!1;if(f.tag!==3&&(f.tag!==5||ue(f.type)&&!pe(f.type,f.memoizedProps))){var h=ns;if(h){if(Q3(f)){for(f=ns;f;)f=Ho(f);throw Error(o(418))}for(;h;)IT(f,h),h=Ho(h)}}if(UT(f),f.tag===13){if(!O)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));ns=C3(f)}else ns=ts?Ho(f.stateNode):null;return!0}function Ru(){O&&(ns=ts=null,dh=Dn=!1)}function j3(f){lo===null?lo=[f]:lo.push(f)}function hh(f,h,B){if(f=B.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(o(309));var _=B.stateNode}if(!_)throw Error(o(147,f));var I=_,R=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(X){var se=I.refs;se===_T&&(se=I.refs={}),X===null?delete se[R]:se[R]=X},h._stringRef=R,h)}if(typeof f!="string")throw Error(o(284));if(!B._owner)throw Error(o(290,f))}return f}function mm(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function LT(f){var h=f._init;return h(f._payload)}function RT(f){function h(ye,Ae){if(f){var _e=ye.deletions;_e===null?(ye.deletions=[Ae],ye.flags|=16):_e.push(Ae)}}function B(ye,Ae){if(!f)return null;for(;Ae!==null;)h(ye,Ae),Ae=Ae.sibling;return null}function _(ye,Ae){for(ye=new Map;Ae!==null;)Ae.key!==null?ye.set(Ae.key,Ae):ye.set(Ae.index,Ae),Ae=Ae.sibling;return ye}function I(ye,Ae){return ye=yl(ye,Ae),ye.index=0,ye.sibling=null,ye}function R(ye,Ae,_e){return ye.index=_e,f?(_e=ye.alternate,_e!==null?(_e=_e.index,_e<Ae?(ye.flags|=2,Ae):_e):(ye.flags|=2,Ae)):(ye.flags|=1048576,Ae)}function X(ye){return f&&ye.alternate===null&&(ye.flags|=2),ye}function se(ye,Ae,_e,et){return Ae===null||Ae.tag!==6?(Ae=_C(_e,ye.mode,et),Ae.return=ye,Ae):(Ae=I(Ae,_e),Ae.return=ye,Ae)}function Me(ye,Ae,_e,et){var pt=_e.type;return pt===c?At(ye,Ae,_e.props.children,et,_e.key):Ae!==null&&(Ae.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&LT(pt)===Ae.type)?(et=I(Ae,_e.props),et.ref=hh(ye,Ae,_e),et.return=ye,et):(et=Wm(_e.type,_e.key,_e.props,null,ye.mode,et),et.ref=hh(ye,Ae,_e),et.return=ye,et)}function Ve(ye,Ae,_e,et){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==_e.containerInfo||Ae.stateNode.implementation!==_e.implementation?(Ae=EC(_e,ye.mode,et),Ae.return=ye,Ae):(Ae=I(Ae,_e.children||[]),Ae.return=ye,Ae)}function At(ye,Ae,_e,et,pt){return Ae===null||Ae.tag!==7?(Ae=$A(_e,ye.mode,et,pt),Ae.return=ye,Ae):(Ae=I(Ae,_e),Ae.return=ye,Ae)}function Rt(ye,Ae,_e){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=_C(""+Ae,ye.mode,_e),Ae.return=ye,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case l:return _e=Wm(Ae.type,Ae.key,Ae.props,null,ye.mode,_e),_e.ref=hh(ye,null,Ae),_e.return=ye,_e;case A:return Ae=EC(Ae,ye.mode,_e),Ae.return=ye,Ae;case C:var et=Ae._init;return Rt(ye,et(Ae._payload),_e)}if(J(Ae)||b(Ae))return Ae=$A(Ae,ye.mode,_e,null),Ae.return=ye,Ae;mm(ye,Ae)}return null}function wt(ye,Ae,_e,et){var pt=Ae!==null?Ae.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return pt!==null?null:se(ye,Ae,""+_e,et);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===pt?Me(ye,Ae,_e,et):null;case A:return _e.key===pt?Ve(ye,Ae,_e,et):null;case C:return pt=_e._init,wt(ye,Ae,pt(_e._payload),et)}if(J(_e)||b(_e))return pt!==null?null:At(ye,Ae,_e,et,null);mm(ye,_e)}return null}function _n(ye,Ae,_e,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number")return ye=ye.get(_e)||null,se(Ae,ye,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case l:return ye=ye.get(et.key===null?_e:et.key)||null,Me(Ae,ye,et,pt);case A:return ye=ye.get(et.key===null?_e:et.key)||null,Ve(Ae,ye,et,pt);case C:var jt=et._init;return _n(ye,Ae,_e,jt(et._payload),pt)}if(J(et)||b(et))return ye=ye.get(_e)||null,At(Ae,ye,et,pt,null);mm(Ae,et)}return null}function gt(ye,Ae,_e,et){for(var pt=null,jt=null,Pt=Ae,fn=Ae=0,Ir=null;Pt!==null&&fn<_e.length;fn++){Pt.index>fn?(Ir=Pt,Pt=null):Ir=Pt.sibling;var hn=wt(ye,Pt,_e[fn],et);if(hn===null){Pt===null&&(Pt=Ir);break}f&&Pt&&hn.alternate===null&&h(ye,Pt),Ae=R(hn,Ae,fn),jt===null?pt=hn:jt.sibling=hn,jt=hn,Pt=Ir}if(fn===_e.length)return B(ye,Pt),Dn&&jA(ye,fn),pt;if(Pt===null){for(;fn<_e.length;fn++)Pt=Rt(ye,_e[fn],et),Pt!==null&&(Ae=R(Pt,Ae,fn),jt===null?pt=Pt:jt.sibling=Pt,jt=Pt);return Dn&&jA(ye,fn),pt}for(Pt=_(ye,Pt);fn<_e.length;fn++)Ir=_n(Pt,ye,fn,_e[fn],et),Ir!==null&&(f&&Ir.alternate!==null&&Pt.delete(Ir.key===null?fn:Ir.key),Ae=R(Ir,Ae,fn),jt===null?pt=Ir:jt.sibling=Ir,jt=Ir);return f&&Pt.forEach(function(xl){return h(ye,xl)}),Dn&&jA(ye,fn),pt}function Jr(ye,Ae,_e,et){var pt=b(_e);if(typeof pt!="function")throw Error(o(150));if(_e=pt.call(_e),_e==null)throw Error(o(151));for(var jt=pt=null,Pt=Ae,fn=Ae=0,Ir=null,hn=_e.next();Pt!==null&&!hn.done;fn++,hn=_e.next()){Pt.index>fn?(Ir=Pt,Pt=null):Ir=Pt.sibling;var xl=wt(ye,Pt,hn.value,et);if(xl===null){Pt===null&&(Pt=Ir);break}f&&Pt&&xl.alternate===null&&h(ye,Pt),Ae=R(xl,Ae,fn),jt===null?pt=xl:jt.sibling=xl,jt=xl,Pt=Ir}if(hn.done)return B(ye,Pt),Dn&&jA(ye,fn),pt;if(Pt===null){for(;!hn.done;fn++,hn=_e.next())hn=Rt(ye,hn.value,et),hn!==null&&(Ae=R(hn,Ae,fn),jt===null?pt=hn:jt.sibling=hn,jt=hn);return Dn&&jA(ye,fn),pt}for(Pt=_(ye,Pt);!hn.done;fn++,hn=_e.next())hn=_n(Pt,ye,fn,hn.value,et),hn!==null&&(f&&hn.alternate!==null&&Pt.delete(hn.key===null?fn:hn.key),Ae=R(hn,Ae,fn),jt===null?pt=hn:jt.sibling=hn,jt=hn);return f&&Pt.forEach(function(nG){return h(ye,nG)}),Dn&&jA(ye,fn),pt}function Ps(ye,Ae,_e,et){if(typeof _e=="object"&&_e!==null&&_e.type===c&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var pt=_e.key,jt=Ae;jt!==null;){if(jt.key===pt){if(pt=_e.type,pt===c){if(jt.tag===7){B(ye,jt.sibling),Ae=I(jt,_e.props.children),Ae.return=ye,ye=Ae;break e}}else if(jt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&LT(pt)===jt.type){B(ye,jt.sibling),Ae=I(jt,_e.props),Ae.ref=hh(ye,jt,_e),Ae.return=ye,ye=Ae;break e}B(ye,jt);break}else h(ye,jt);jt=jt.sibling}_e.type===c?(Ae=$A(_e.props.children,ye.mode,et,_e.key),Ae.return=ye,ye=Ae):(et=Wm(_e.type,_e.key,_e.props,null,ye.mode,et),et.ref=hh(ye,Ae,_e),et.return=ye,ye=et)}return X(ye);case A:e:{for(jt=_e.key;Ae!==null;){if(Ae.key===jt)if(Ae.tag===4&&Ae.stateNode.containerInfo===_e.containerInfo&&Ae.stateNode.implementation===_e.implementation){B(ye,Ae.sibling),Ae=I(Ae,_e.children||[]),Ae.return=ye,ye=Ae;break e}else{B(ye,Ae);break}else h(ye,Ae);Ae=Ae.sibling}Ae=EC(_e,ye.mode,et),Ae.return=ye,ye=Ae}return X(ye);case C:return jt=_e._init,Ps(ye,Ae,jt(_e._payload),et)}if(J(_e))return gt(ye,Ae,_e,et);if(b(_e))return Jr(ye,Ae,_e,et);mm(ye,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,Ae!==null&&Ae.tag===6?(B(ye,Ae.sibling),Ae=I(Ae,_e),Ae.return=ye,ye=Ae):(B(ye,Ae),Ae=_C(_e,ye.mode,et),Ae.return=ye,ye=Ae),X(ye)):B(ye,Ae)}return Ps}var Pu=RT(!0),PT=RT(!1),ph={},Fs=pn(ph),mh=pn(ph),Nu=pn(ph);function Ko(f){if(f===ph)throw Error(o(174));return f}function V3(f,h){mt(Nu,h),mt(mh,f),mt(Fs,ph),f=V(h),Kt(Fs),mt(Fs,f)}function Du(){Kt(Fs),Kt(mh),Kt(Nu)}function NT(f){var h=Ko(Nu.current),B=Ko(Fs.current);h=N(B,f.type,h),B!==h&&(mt(mh,f),mt(Fs,h))}function z3(f){mh.current===f&&(Kt(Fs),Kt(mh))}var Hn=pn(0);function gm(f){for(var h=f;h!==null;){if(h.tag===13){var B=h.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||$r(B)||Ji(B)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var G3=[];function K3(){for(var f=0;f<G3.length;f++){var h=G3[f];de?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}G3.length=0}var vm=a.ReactCurrentDispatcher,Us=a.ReactCurrentBatchConfig,Ou=0,$n=null,Yr=null,Tr=null,ym=!1,gh=!1,vh=0,bz=0;function qr(){throw Error(o(321))}function W3(f,h){if(h===null)return!1;for(var B=0;B<h.length&&B<f.length;B++)if(!Vo(f[B],h[B]))return!1;return!0}function X3(f,h,B,_,I,R){if(Ou=R,$n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,vm.current=f===null||f.memoizedState===null?Fz:Uz,f=B(_,I),gh){R=0;do{if(gh=!1,vh=0,25<=R)throw Error(o(301));R+=1,Tr=Yr=null,h.updateQueue=null,vm.current=Lz,f=B(_,I)}while(gh)}if(vm.current=Sm,h=Yr!==null&&Yr.next!==null,Ou=0,Tr=Yr=$n=null,ym=!1,h)throw Error(o(300));return f}function $3(){var f=vh!==0;return vh=0,f}function Ba(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?$n.memoizedState=Tr=f:Tr=Tr.next=f,Tr}function Wo(){if(Yr===null){var f=$n.alternate;f=f!==null?f.memoizedState:null}else f=Yr.next;var h=Tr===null?$n.memoizedState:Tr.next;if(h!==null)Tr=h,Yr=f;else{if(f===null)throw Error(o(310));Yr=f,f={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Tr===null?$n.memoizedState=Tr=f:Tr=Tr.next=f}return Tr}function VA(f,h){return typeof h=="function"?h(f):h}function xm(f){var h=Wo(),B=h.queue;if(B===null)throw Error(o(311));B.lastRenderedReducer=f;var _=Yr,I=_.baseQueue,R=B.pending;if(R!==null){if(I!==null){var X=I.next;I.next=R.next,R.next=X}_.baseQueue=I=R,B.pending=null}if(I!==null){R=I.next,_=_.baseState;var se=X=null,Me=null,Ve=R;do{var At=Ve.lane;if((Ou&At)===At)Me!==null&&(Me=Me.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),_=Ve.hasEagerState?Ve.eagerState:f(_,Ve.action);else{var Rt={lane:At,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Me===null?(se=Me=Rt,X=_):Me=Me.next=Rt,$n.lanes|=At,Qu|=At}Ve=Ve.next}while(Ve!==null&&Ve!==R);Me===null?X=_:Me.next=se,Vo(_,h.memoizedState)||(rs=!0),h.memoizedState=_,h.baseState=X,h.baseQueue=Me,B.lastRenderedState=_}if(f=B.interleaved,f!==null){I=f;do R=I.lane,$n.lanes|=R,Qu|=R,I=I.next;while(I!==f)}else I===null&&(B.lanes=0);return[h.memoizedState,B.dispatch]}function wm(f){var h=Wo(),B=h.queue;if(B===null)throw Error(o(311));B.lastRenderedReducer=f;var _=B.dispatch,I=B.pending,R=h.memoizedState;if(I!==null){B.pending=null;var X=I=I.next;do R=f(R,X.action),X=X.next;while(X!==I);Vo(R,h.memoizedState)||(rs=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),B.lastRenderedState=R}return[R,_]}function DT(){}function OT(f,h){var B=$n,_=Wo(),I=h(),R=!Vo(_.memoizedState,I);if(R&&(_.memoizedState=I,rs=!0),_=_.queue,xh(HT.bind(null,B,_,f),[f]),_.getSnapshot!==h||R||Tr!==null&&Tr.memoizedState.tag&1){if(B.flags|=2048,yh(9,QT.bind(null,B,_,I,h),void 0,null),cr===null)throw Error(o(349));Ou&30||kT(B,h,I)}return I}function kT(f,h,B){f.flags|=16384,f={getSnapshot:h,value:B},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.stores=[f]):(B=h.stores,B===null?h.stores=[f]:B.push(f))}function QT(f,h,B,_){h.value=B,h.getSnapshot=_,jT(h)&&Ls(f,1,-1)}function HT(f,h,B){return B(function(){jT(h)&&Ls(f,1,-1)})}function jT(f){var h=f.getSnapshot;f=f.value;try{var B=h();return!Vo(f,B)}catch{return!0}}function Y3(f){var h=Ba();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:VA,lastRenderedState:f},h.queue=f,f=f.dispatch=Iz.bind(null,$n,f),[h.memoizedState,f]}function yh(f,h,B,_){return f={tag:f,create:h,destroy:B,deps:_,next:null},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.lastEffect=f.next=f):(B=h.lastEffect,B===null?h.lastEffect=f.next=f:(_=B.next,B.next=f,f.next=_,h.lastEffect=f)),f}function VT(){return Wo().memoizedState}function Cm(f,h,B,_){var I=Ba();$n.flags|=f,I.memoizedState=yh(1|h,B,void 0,_===void 0?null:_)}function Bm(f,h,B,_){var I=Wo();_=_===void 0?null:_;var R=void 0;if(Yr!==null){var X=Yr.memoizedState;if(R=X.destroy,_!==null&&W3(_,X.deps)){I.memoizedState=yh(h,B,R,_);return}}$n.flags|=f,I.memoizedState=yh(1|h,B,R,_)}function q3(f,h){return Cm(8390656,8,f,h)}function xh(f,h){return Bm(2048,8,f,h)}function zT(f,h){return Bm(4,2,f,h)}function GT(f,h){return Bm(4,4,f,h)}function KT(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function WT(f,h,B){return B=B!=null?B.concat([f]):null,Bm(4,4,KT.bind(null,h,f),B)}function Z3(){}function XT(f,h){var B=Wo();h=h===void 0?null:h;var _=B.memoizedState;return _!==null&&h!==null&&W3(h,_[1])?_[0]:(B.memoizedState=[f,h],f)}function $T(f,h){var B=Wo();h=h===void 0?null:h;var _=B.memoizedState;return _!==null&&h!==null&&W3(h,_[1])?_[0]:(f=f(),B.memoizedState=[f,h],f)}function Mz(f,h){var B=dn;dn=B!==0&&4>B?B:4,f(!0);var _=Us.transition;Us.transition={};try{f(!1),h()}finally{dn=B,Us.transition=_}}function YT(){return Wo().memoizedState}function Tz(f,h,B){var _=gl(f);B={lane:_,action:B,hasEagerState:!1,eagerState:null,next:null},qT(f)?ZT(h,B):(JT(f,h,B),B=mi(),f=Ls(f,_,B),f!==null&&e6(f,h,_))}function Iz(f,h,B){var _=gl(f),I={lane:_,action:B,hasEagerState:!1,eagerState:null,next:null};if(qT(f))ZT(h,I);else{JT(f,h,I);var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var X=h.lastRenderedState,se=R(X,B);if(I.hasEagerState=!0,I.eagerState=se,Vo(se,X))return}catch{}finally{}B=mi(),f=Ls(f,_,B),f!==null&&e6(f,h,_)}}function qT(f){var h=f.alternate;return f===$n||h!==null&&h===$n}function ZT(f,h){gh=ym=!0;var B=f.pending;B===null?h.next=h:(h.next=B.next,B.next=h),f.pending=h}function JT(f,h,B){cr!==null&&f.mode&1&&!(Wt&2)?(f=h.interleaved,f===null?(B.next=B,Go===null?Go=[h]:Go.push(h)):(B.next=f.next,f.next=B),h.interleaved=B):(f=h.pending,f===null?B.next=B:(B.next=f.next,f.next=B),h.pending=B)}function e6(f,h,B){if(B&4194240){var _=h.lanes;_&=f.pendingLanes,B|=_,h.lanes=B,E3(f,B)}}var Sm={readContext:Ms,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},Fz={readContext:Ms,useCallback:function(f,h){return Ba().memoizedState=[f,h===void 0?null:h],f},useContext:Ms,useEffect:q3,useImperativeHandle:function(f,h,B){return B=B!=null?B.concat([f]):null,Cm(4194308,4,KT.bind(null,h,f),B)},useLayoutEffect:function(f,h){return Cm(4194308,4,f,h)},useInsertionEffect:function(f,h){return Cm(4,2,f,h)},useMemo:function(f,h){var B=Ba();return h=h===void 0?null:h,f=f(),B.memoizedState=[f,h],f},useReducer:function(f,h,B){var _=Ba();return h=B!==void 0?B(h):h,_.memoizedState=_.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},_.queue=f,f=f.dispatch=Tz.bind(null,$n,f),[_.memoizedState,f]},useRef:function(f){var h=Ba();return f={current:f},h.memoizedState=f},useState:Y3,useDebugValue:Z3,useDeferredValue:function(f){var h=Y3(f),B=h[0],_=h[1];return q3(function(){var I=Us.transition;Us.transition={};try{_(f)}finally{Us.transition=I}},[f]),B},useTransition:function(){var f=Y3(!1),h=f[0];return f=Mz.bind(null,f[1]),Ba().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,B){var _=$n,I=Ba();if(Dn){if(B===void 0)throw Error(o(407));B=B()}else{if(B=h(),cr===null)throw Error(o(349));Ou&30||kT(_,h,B)}I.memoizedState=B;var R={value:B,getSnapshot:h};return I.queue=R,q3(HT.bind(null,_,R,f),[f]),_.flags|=2048,yh(9,QT.bind(null,_,R,B,h),void 0,null),B},useId:function(){var f=Ba(),h=cr.identifierPrefix;if(Dn){var B=Ca,_=wa;B=(_&~(1<<32-hi(_)-1)).toString(32)+B,h=":"+h+"R"+B,B=vh++,0<B&&(h+="H"+B.toString(32)),h+=":"}else B=bz++,h=":"+h+"r"+B.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},Uz={readContext:Ms,useCallback:XT,useContext:Ms,useEffect:xh,useImperativeHandle:WT,useInsertionEffect:zT,useLayoutEffect:GT,useMemo:$T,useReducer:xm,useRef:VT,useState:function(){return xm(VA)},useDebugValue:Z3,useDeferredValue:function(f){var h=xm(VA),B=h[0],_=h[1];return xh(function(){var I=Us.transition;Us.transition={};try{_(f)}finally{Us.transition=I}},[f]),B},useTransition:function(){var f=xm(VA)[0],h=Wo().memoizedState;return[f,h]},useMutableSource:DT,useSyncExternalStore:OT,useId:YT,unstable_isNewReconciler:!1},Lz={readContext:Ms,useCallback:XT,useContext:Ms,useEffect:xh,useImperativeHandle:WT,useInsertionEffect:zT,useLayoutEffect:GT,useMemo:$T,useReducer:wm,useRef:VT,useState:function(){return wm(VA)},useDebugValue:Z3,useDeferredValue:function(f){var h=wm(VA),B=h[0],_=h[1];return xh(function(){var I=Us.transition;Us.transition={};try{_(f)}finally{Us.transition=I}},[f]),B},useTransition:function(){var f=wm(VA)[0],h=Wo().memoizedState;return[f,h]},useMutableSource:DT,useSyncExternalStore:OT,useId:YT,unstable_isNewReconciler:!1};function J3(f,h){try{var B="",_=h;do B+=Ez(_),_=_.return;while(_);var I=B}catch(R){I=`
Error generating stack: `+R.message+`
`+R.stack}return{value:f,source:h,stack:I}}function eC(f,h){try{console.error(h.value)}catch(B){setTimeout(function(){throw B})}}var Rz=typeof WeakMap=="function"?WeakMap:Map;function t6(f,h,B){B=xa(-1,B),B.tag=3,B.payload={element:null};var _=h.value;return B.callback=function(){Qm||(Qm=!0,vC=_),eC(f,h)},B}function n6(f,h,B){B=xa(-1,B),B.tag=3;var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var I=h.value;B.payload=function(){return _(I)},B.callback=function(){eC(f,h)}}var R=f.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(B.callback=function(){eC(f,h),typeof _!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),B}function r6(f,h,B){var _=f.pingCache;if(_===null){_=f.pingCache=new Rz;var I=new Set;_.set(h,I)}else I=_.get(h),I===void 0&&(I=new Set,_.set(h,I));I.has(B)||(I.add(B),f=Xz.bind(null,f,h,B),h.then(f,f))}function i6(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function s6(f,h,B,_,I){return f.mode&1?(f.flags|=65536,f.lanes=I,f):(f===h?f.flags|=65536:(f.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(h=xa(-1,1),h.tag=2,hl(B,h))),B.lanes|=1),f)}function Xo(f){f.flags|=4}function o6(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var wh,Ch,_m,Em;if(te)wh=function(f,h){for(var B=h.child;B!==null;){if(B.tag===5||B.tag===6)Se(f,B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===h)break;for(;B.sibling===null;){if(B.return===null||B.return===h)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},Ch=function(){},_m=function(f,h,B,_,I){if(f=f.memoizedProps,f!==_){var R=h.stateNode,X=Ko(Fs.current);B=ce(R,B,f,_,I,X),(h.updateQueue=B)&&Xo(h)}},Em=function(f,h,B,_){B!==_&&Xo(h)};else if(fe){wh=function(f,h,B,_){for(var I=h.child;I!==null;){if(I.tag===5){var R=I.stateNode;B&&_&&(R=Xt(R,I.type,I.memoizedProps,I)),Se(f,R)}else if(I.tag===6)R=I.stateNode,B&&_&&(R=cn(R,I.memoizedProps,I)),Se(f,R);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)R=I.child,R!==null&&(R.return=I),wh(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var a6=function(f,h,B,_){for(var I=h.child;I!==null;){if(I.tag===5){var R=I.stateNode;B&&_&&(R=Xt(R,I.type,I.memoizedProps,I)),Gt(f,R)}else if(I.tag===6)R=I.stateNode,B&&_&&(R=cn(R,I.memoizedProps,I)),Gt(f,R);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)R=I.child,R!==null&&(R.return=I),a6(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};Ch=function(f,h){var B=h.stateNode;if(!o6(f,h)){f=B.containerInfo;var _=Lt(f);a6(_,h,!1,!1),B.pendingChildren=_,Xo(h),It(f,_)}},_m=function(f,h,B,_,I){var R=f.stateNode,X=f.memoizedProps;if((f=o6(f,h))&&X===_)h.stateNode=R;else{var se=h.stateNode,Me=Ko(Fs.current),Ve=null;X!==_&&(Ve=ce(se,B,X,_,I,Me)),f&&Ve===null?h.stateNode=R:(R=Je(R,Ve,B,X,_,h,f,se),Fe(R,B,_,I,Me)&&Xo(h),h.stateNode=R,f?Xo(h):wh(R,h,!1,!1))}},Em=function(f,h,B,_){B!==_?(f=Ko(Nu.current),B=Ko(Fs.current),h.stateNode=Be(_,f,B,h),Xo(h)):h.stateNode=f.stateNode}}else Ch=function(){},_m=function(){},Em=function(){};function Bh(f,h){if(!Dn)switch(f.tailMode){case"hidden":h=f.tail;for(var B=null;h!==null;)h.alternate!==null&&(B=h),h=h.sibling;B===null?f.tail=null:B.sibling=null;break;case"collapsed":B=f.tail;for(var _=null;B!==null;)B.alternate!==null&&(_=B),B=B.sibling;_===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:_.sibling=null}}function Zr(f){var h=f.alternate!==null&&f.alternate.child===f.child,B=0,_=0;if(h)for(var I=f.child;I!==null;)B|=I.lanes|I.childLanes,_|=I.subtreeFlags&14680064,_|=I.flags&14680064,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)B|=I.lanes|I.childLanes,_|=I.subtreeFlags,_|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=_,f.childLanes=B,h}function Pz(f,h,B){var _=h.pendingProps;switch(k3(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(h),null;case 1:return Cn(h.type)&&ul(),Zr(h),null;case 3:return _=h.stateNode,Du(),Kt(Ft),Kt(nn),K3(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(fh(h)?Xo(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,lo!==null&&(wC(lo),lo=null))),Ch(f,h),Zr(h),null;case 5:z3(h),B=Ko(Nu.current);var I=h.type;if(f!==null&&h.stateNode!=null)_m(f,h,I,_,B),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!_){if(h.stateNode===null)throw Error(o(166));return Zr(h),null}if(f=Ko(Fs.current),fh(h)){if(!O)throw Error(o(175));f=tm(h.stateNode,h.type,h.memoizedProps,B,f,h,!dh),h.updateQueue=f,f!==null&&Xo(h)}else{var R=re(I,_,B,f,h);wh(R,h,!1,!1),h.stateNode=R,Fe(R,I,_,B,f)&&Xo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Zr(h),null;case 6:if(f&&h.stateNode!=null)Em(f,h,f.memoizedProps,_);else{if(typeof _!="string"&&h.stateNode===null)throw Error(o(166));if(f=Ko(Nu.current),B=Ko(Fs.current),fh(h)){if(!O)throw Error(o(176));if(f=h.stateNode,_=h.memoizedProps,(B=x3(f,_,h,!dh))&&(I=ts,I!==null))switch(R=(I.mode&1)!==0,I.tag){case 3:ze(I.stateNode.containerInfo,f,_,R);break;case 5:nt(I.type,I.memoizedProps,I.stateNode,f,_,R)}B&&Xo(h)}else h.stateNode=Be(_,f,B,h)}return Zr(h),null;case 13:if(Kt(Hn),_=h.memoizedState,Dn&&ns!==null&&h.mode&1&&!(h.flags&128)){for(f=ns;f;)f=Ho(f);return Ru(),h.flags|=98560,h}if(_!==null&&_.dehydrated!==null){if(_=fh(h),f===null){if(!_)throw Error(o(318));if(!O)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));w3(f,h)}else Ru(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Zr(h),null}return lo!==null&&(wC(lo),lo=null),h.flags&128?(h.lanes=B,h):(_=_!==null,B=!1,f===null?fh(h):B=f.memoizedState!==null,_&&!B&&(h.child.flags|=8192,h.mode&1&&(f===null||Hn.current&1?yr===0&&(yr=3):BC())),h.updateQueue!==null&&(h.flags|=4),Zr(h),null);case 4:return Du(),Ch(f,h),f===null&&Pe(h.stateNode.containerInfo),Zr(h),null;case 10:return L3(h.type._context),Zr(h),null;case 17:return Cn(h.type)&&ul(),Zr(h),null;case 19:if(Kt(Hn),I=h.memoizedState,I===null)return Zr(h),null;if(_=(h.flags&128)!==0,R=I.rendering,R===null)if(_)Bh(I,!1);else{if(yr!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(R=gm(f),R!==null){for(h.flags|=128,Bh(I,!1),f=R.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=B,_=h.child;_!==null;)B=_,I=f,B.flags&=14680066,R=B.alternate,R===null?(B.childLanes=0,B.lanes=I,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=R.childLanes,B.lanes=R.lanes,B.child=R.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=R.memoizedProps,B.memoizedState=R.memoizedState,B.updateQueue=R.updateQueue,B.type=R.type,I=R.dependencies,B.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),_=_.sibling;return mt(Hn,Hn.current&1|2),h.child}f=f.sibling}I.tail!==null&&Mr()>gC&&(h.flags|=128,_=!0,Bh(I,!1),h.lanes=4194304)}else{if(!_)if(f=gm(R),f!==null){if(h.flags|=128,_=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),Bh(I,!0),I.tail===null&&I.tailMode==="hidden"&&!R.alternate&&!Dn)return Zr(h),null}else 2*Mr()-I.renderingStartTime>gC&&B!==1073741824&&(h.flags|=128,_=!0,Bh(I,!1),h.lanes=4194304);I.isBackwards?(R.sibling=h.child,h.child=R):(f=I.last,f!==null?f.sibling=R:h.child=R,I.last=R)}return I.tail!==null?(h=I.tail,I.rendering=h,I.tail=h.sibling,I.renderingStartTime=Mr(),h.sibling=null,f=Hn.current,mt(Hn,_?f&1|2:f&1),h):(Zr(h),null);case 22:case 23:return CC(),_=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==_&&(h.flags|=8192),_&&h.mode&1?is&1073741824&&(Zr(h),te&&h.subtreeFlags&6&&(h.flags|=8192)):Zr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var Nz=a.ReactCurrentOwner,rs=!1;function pi(f,h,B,_){h.child=f===null?PT(h,null,B,_):Pu(h,f.child,B,_)}function l6(f,h,B,_,I){B=B.render;var R=h.ref;return Fu(h,I),_=X3(f,h,B,_,R,I),B=$3(),f!==null&&!rs?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~I,Sa(f,h,I)):(Dn&&B&&O3(h),h.flags|=1,pi(f,h,_,I),h.child)}function A6(f,h,B,_,I){if(f===null){var R=B.type;return typeof R=="function"&&!SC(R)&&R.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(h.tag=15,h.type=R,c6(f,h,R,_,I)):(f=Wm(B.type,null,_,h,h.mode,I),f.ref=h.ref,f.return=h,h.child=f)}if(R=f.child,!(f.lanes&I)){var X=R.memoizedProps;if(B=B.compare,B=B!==null?B:lm,B(X,_)&&f.ref===h.ref)return Sa(f,h,I)}return h.flags|=1,f=yl(R,_),f.ref=h.ref,f.return=h,h.child=f}function c6(f,h,B,_,I){if(f!==null&&lm(f.memoizedProps,_)&&f.ref===h.ref)if(rs=!1,(f.lanes&I)!==0)f.flags&131072&&(rs=!0);else return h.lanes=f.lanes,Sa(f,h,I);return tC(f,h,B,_,I)}function u6(f,h,B){var _=h.pendingProps,I=_.children,R=f!==null?f.memoizedState:null;if(_.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},mt(ku,is),is|=B;else if(B&1073741824)h.memoizedState={baseLanes:0,cachePool:null},_=R!==null?R.baseLanes:B,mt(ku,is),is|=_;else return f=R!==null?R.baseLanes|B:B,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,mt(ku,is),is|=f,null;else R!==null?(_=R.baseLanes|B,h.memoizedState=null):_=B,mt(ku,is),is|=_;return pi(f,h,I,B),h.child}function d6(f,h){var B=h.ref;(f===null&&B!==null||f!==null&&f.ref!==B)&&(h.flags|=512,h.flags|=2097152)}function tC(f,h,B,_,I){var R=Cn(B)?vr:nn.current;return R=es(h,R),Fu(h,I),B=X3(f,h,B,_,R,I),_=$3(),f!==null&&!rs?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~I,Sa(f,h,I)):(Dn&&_&&O3(h),h.flags|=1,pi(f,h,B,I),h.child)}function f6(f,h,B,_,I){if(Cn(B)){var R=!0;dl(h)}else R=!1;if(Fu(h,I),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),bT(h,B,_),D3(h,B,_,I),_=!0;else if(f===null){var X=h.stateNode,se=h.memoizedProps;X.props=se;var Me=X.context,Ve=B.contextType;typeof Ve=="object"&&Ve!==null?Ve=Ms(Ve):(Ve=Cn(B)?vr:nn.current,Ve=es(h,Ve));var At=B.getDerivedStateFromProps,Rt=typeof At=="function"||typeof X.getSnapshotBeforeUpdate=="function";Rt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(se!==_||Me!==Ve)&&MT(h,X,_,Ve),fl=!1;var wt=h.memoizedState;X.state=wt,dm(h,_,X,I),Me=h.memoizedState,se!==_||wt!==Me||Ft.current||fl?(typeof At=="function"&&(N3(h,B,At,_),Me=h.memoizedState),(se=fl||ET(h,B,se,_,wt,Me,Ve))?(Rt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=_,h.memoizedState=Me),X.props=_,X.state=Me,X.context=Ve,_=se):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),_=!1)}else{X=h.stateNode,CT(f,h),se=h.memoizedProps,Ve=h.type===h.elementType?se:ao(h.type,se),X.props=Ve,Rt=h.pendingProps,wt=X.context,Me=B.contextType,typeof Me=="object"&&Me!==null?Me=Ms(Me):(Me=Cn(B)?vr:nn.current,Me=es(h,Me));var _n=B.getDerivedStateFromProps;(At=typeof _n=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(se!==Rt||wt!==Me)&&MT(h,X,_,Me),fl=!1,wt=h.memoizedState,X.state=wt,dm(h,_,X,I);var gt=h.memoizedState;se!==Rt||wt!==gt||Ft.current||fl?(typeof _n=="function"&&(N3(h,B,_n,_),gt=h.memoizedState),(Ve=fl||ET(h,B,Ve,_,wt,gt,Me)||!1)?(At||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(_,gt,Me),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(_,gt,Me)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||se===f.memoizedProps&&wt===f.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&wt===f.memoizedState||(h.flags|=1024),h.memoizedProps=_,h.memoizedState=gt),X.props=_,X.state=gt,X.context=Me,_=Ve):(typeof X.componentDidUpdate!="function"||se===f.memoizedProps&&wt===f.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&wt===f.memoizedState||(h.flags|=1024),_=!1)}return nC(f,h,B,_,R,I)}function nC(f,h,B,_,I,R){d6(f,h);var X=(h.flags&128)!==0;if(!_&&!X)return I&&fi(h,B,!1),Sa(f,h,R);_=h.stateNode,Nz.current=h;var se=X&&typeof B.getDerivedStateFromError!="function"?null:_.render();return h.flags|=1,f!==null&&X?(h.child=Pu(h,f.child,null,R),h.child=Pu(h,null,se,R)):pi(f,h,se,R),h.memoizedState=_.state,I&&fi(h,B,!0),h.child}function h6(f){var h=f.stateNode;h.pendingContext?Nn(f,h.pendingContext,h.pendingContext!==h.context):h.context&&Nn(f,h.context,!1),V3(f,h.containerInfo)}function p6(f,h,B,_,I){return Ru(),j3(I),h.flags|=256,pi(f,h,B,_),h.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function Mm(f){return{baseLanes:f,cachePool:null}}function m6(f,h,B){var _=h.pendingProps,I=Hn.current,R=!1,X=(h.flags&128)!==0,se;if((se=X)||(se=f!==null&&f.memoizedState===null?!1:(I&2)!==0),se?(R=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(I|=1),mt(Hn,I&1),f===null)return H3(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?Ji(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(I=_.children,f=_.fallback,R?(_=h.mode,R=h.child,I={mode:"hidden",children:I},!(_&1)&&R!==null?(R.childLanes=0,R.pendingProps=I):R=Xm(I,_,0,null),f=$A(f,_,B,null),R.return=h,f.return=h,R.sibling=f,h.child=R,h.child.memoizedState=Mm(B),h.memoizedState=bm,f):rC(h,I));if(I=f.memoizedState,I!==null){if(se=I.dehydrated,se!==null){if(X)return h.flags&256?(h.flags&=-257,Tm(f,h,B,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(R=_.fallback,I=h.mode,_=Xm({mode:"visible",children:_.children},I,0,null),R=$A(R,I,B,null),R.flags|=2,_.return=h,R.return=h,_.sibling=R,h.child=_,h.mode&1&&Pu(h,f.child,null,B),h.child.memoizedState=Mm(B),h.memoizedState=bm,R);if(!(h.mode&1))h=Tm(f,h,B,null);else if(Ji(se))h=Tm(f,h,B,Error(o(419)));else if(_=(B&f.childLanes)!==0,rs||_){if(_=cr,_!==null){switch(B&-B){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}_=R&(_.suspendedLanes|B)?0:R,_!==0&&_!==I.retryLane&&(I.retryLane=_,Ls(f,_,-1))}BC(),h=Tm(f,h,B,Error(o(421)))}else $r(se)?(h.flags|=128,h.child=f.child,h=$z.bind(null,f),Z2(se,h),h=null):(B=I.treeContext,O&&(ns=em(se),ts=h,Dn=!0,lo=null,dh=!1,B!==null&&(Ts[Is++]=wa,Ts[Is++]=Ca,Ts[Is++]=HA,wa=B.id,Ca=B.overflow,HA=h)),h=rC(h,h.pendingProps.children),h.flags|=4096);return h}return R?(_=v6(f,h,_.children,_.fallback,B),R=h.child,I=f.child.memoizedState,R.memoizedState=I===null?Mm(B):{baseLanes:I.baseLanes|B,cachePool:null},R.childLanes=f.childLanes&~B,h.memoizedState=bm,_):(B=g6(f,h,_.children,B),h.memoizedState=null,B)}return R?(_=v6(f,h,_.children,_.fallback,B),R=h.child,I=f.child.memoizedState,R.memoizedState=I===null?Mm(B):{baseLanes:I.baseLanes|B,cachePool:null},R.childLanes=f.childLanes&~B,h.memoizedState=bm,_):(B=g6(f,h,_.children,B),h.memoizedState=null,B)}function rC(f,h){return h=Xm({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function g6(f,h,B,_){var I=f.child;return f=I.sibling,B=yl(I,{mode:"visible",children:B}),!(h.mode&1)&&(B.lanes=_),B.return=h,B.sibling=null,f!==null&&(_=h.deletions,_===null?(h.deletions=[f],h.flags|=16):_.push(f)),h.child=B}function v6(f,h,B,_,I){var R=h.mode;f=f.child;var X=f.sibling,se={mode:"hidden",children:B};return!(R&1)&&h.child!==f?(B=h.child,B.childLanes=0,B.pendingProps=se,h.deletions=null):(B=yl(f,se),B.subtreeFlags=f.subtreeFlags&14680064),X!==null?_=yl(X,_):(_=$A(_,R,I,null),_.flags|=2),_.return=h,B.return=h,B.sibling=_,h.child=B,_}function Tm(f,h,B,_){return _!==null&&j3(_),Pu(h,f.child,null,B),f=rC(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function y6(f,h,B){f.lanes|=h;var _=f.alternate;_!==null&&(_.lanes|=h),R3(f.return,h,B)}function iC(f,h,B,_,I){var R=f.memoizedState;R===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:_,tail:B,tailMode:I}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=_,R.tail=B,R.tailMode=I)}function x6(f,h,B){var _=h.pendingProps,I=_.revealOrder,R=_.tail;if(pi(f,h,_.children,B),_=Hn.current,_&2)_=_&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&y6(f,B,h);else if(f.tag===19)y6(f,B,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}_&=1}if(mt(Hn,_),!(h.mode&1))h.memoizedState=null;else switch(I){case"forwards":for(B=h.child,I=null;B!==null;)f=B.alternate,f!==null&&gm(f)===null&&(I=B),B=B.sibling;B=I,B===null?(I=h.child,h.child=null):(I=B.sibling,B.sibling=null),iC(h,!1,I,B,R);break;case"backwards":for(B=null,I=h.child,h.child=null;I!==null;){if(f=I.alternate,f!==null&&gm(f)===null){h.child=I;break}f=I.sibling,I.sibling=B,B=I,I=f}iC(h,!0,B,null,R);break;case"together":iC(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Sa(f,h,B){if(f!==null&&(h.dependencies=f.dependencies),Qu|=h.lanes,!(B&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,B=yl(f,f.pendingProps),h.child=B,B.return=h;f.sibling!==null;)f=f.sibling,B=B.sibling=yl(f,f.pendingProps),B.return=h;B.sibling=null}return h.child}function Dz(f,h,B){switch(h.tag){case 3:h6(h),Ru();break;case 5:NT(h);break;case 1:Cn(h.type)&&dl(h);break;case 4:V3(h,h.stateNode.containerInfo);break;case 10:wT(h,h.type._context,h.memoizedProps.value);break;case 13:var _=h.memoizedState;if(_!==null)return _.dehydrated!==null?(mt(Hn,Hn.current&1),h.flags|=128,null):B&h.child.childLanes?m6(f,h,B):(mt(Hn,Hn.current&1),f=Sa(f,h,B),f!==null?f.sibling:null);mt(Hn,Hn.current&1);break;case 19:if(_=(B&h.childLanes)!==0,f.flags&128){if(_)return x6(f,h,B);h.flags|=128}var I=h.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),mt(Hn,Hn.current),_)break;return null;case 22:case 23:return h.lanes=0,u6(f,h,B)}return Sa(f,h,B)}function Oz(f,h){switch(k3(h),h.tag){case 1:return Cn(h.type)&&ul(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Du(),Kt(Ft),Kt(nn),K3(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return z3(h),null;case 13:if(Kt(Hn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Ru()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Kt(Hn),null;case 4:return Du(),null;case 10:return L3(h.type._context),null;case 22:case 23:return CC(),null;case 24:return null;default:return null}}var Im=!1,zA=!1,kz=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Fm(f,h){var B=f.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(_){Oi(f,h,_)}else B.current=null}function sC(f,h,B){try{B()}catch(_){Oi(f,h,_)}}var w6=!1;function Qz(f,h){for(W(f.containerInfo),qe=h;qe!==null;)if(f=qe,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,qe=h;else for(;qe!==null;){f=qe;try{var B=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var _=B.memoizedProps,I=B.memoizedState,R=f.stateNode,X=R.getSnapshotBeforeUpdate(f.elementType===f.type?_:ao(f.type,_),I);R.__reactInternalSnapshotBeforeUpdate=X}break;case 3:te&&Ke(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){Oi(f,f.return,se)}if(h=f.sibling,h!==null){h.return=f.return,qe=h;break}qe=f.return}return B=w6,w6=!1,B}function GA(f,h,B){var _=h.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var I=_=_.next;do{if((I.tag&f)===f){var R=I.destroy;I.destroy=void 0,R!==void 0&&sC(h,B,R)}I=I.next}while(I!==_)}}function Sh(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var B=h=h.next;do{if((B.tag&f)===f){var _=B.create;B.destroy=_()}B=B.next}while(B!==h)}}function oC(f){var h=f.ref;if(h!==null){var B=f.stateNode;switch(f.tag){case 5:f=k(B);break;default:f=B}typeof h=="function"?h(f):h.current=f}}function C6(f,h,B){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(om,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var _=f=f.next;do{var I=_,R=I.destroy;I=I.tag,R!==void 0&&(I&2||I&4)&&sC(h,B,R),_=_.next}while(_!==f)}break;case 1:if(Fm(h,B),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(X){Oi(h,B,X)}break;case 5:Fm(h,B);break;case 4:te?M6(f,h,B):fe&&fe&&(h=h.stateNode.containerInfo,B=Lt(h),ft(h,B))}}function B6(f,h,B){for(var _=h;;)if(C6(f,_,B),_.child===null||te&&_.tag===4){if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function S6(f){var h=f.alternate;h!==null&&(f.alternate=null,S6(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&ae(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function _6(f){return f.tag===5||f.tag===3||f.tag===4}function E6(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||_6(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function b6(f){if(te){e:{for(var h=f.return;h!==null;){if(_6(h))break e;h=h.return}throw Error(o(160))}var B=h;switch(B.tag){case 5:h=B.stateNode,B.flags&32&&(Ne(h),B.flags&=-33),B=E6(f),lC(f,B,h);break;case 3:case 4:h=B.stateNode.containerInfo,B=E6(f),aC(f,B,h);break;default:throw Error(o(161))}}}function aC(f,h,B){var _=f.tag;if(_===5||_===6)f=f.stateNode,h?Ye(B,f,h):St(B,f);else if(_!==4&&(f=f.child,f!==null))for(aC(f,h,B),f=f.sibling;f!==null;)aC(f,h,B),f=f.sibling}function lC(f,h,B){var _=f.tag;if(_===5||_===6)f=f.stateNode,h?ut(B,f,h):ke(B,f);else if(_!==4&&(f=f.child,f!==null))for(lC(f,h,B),f=f.sibling;f!==null;)lC(f,h,B),f=f.sibling}function M6(f,h,B){for(var _=h,I=!1,R,X;;){if(!I){I=_.return;e:for(;;){if(I===null)throw Error(o(160));switch(R=I.stateNode,I.tag){case 5:X=!1;break e;case 3:R=R.containerInfo,X=!0;break e;case 4:R=R.containerInfo,X=!0;break e}I=I.return}I=!0}if(_.tag===5||_.tag===6)B6(f,_,B),X?Z(R,_.stateNode):Tt(R,_.stateNode);else if(_.tag===18)X?Ce(R,_.stateNode):we(R,_.stateNode);else if(_.tag===4){if(_.child!==null){R=_.stateNode.containerInfo,X=!0,_.child.return=_,_=_.child;continue}}else if(C6(f,_,B),_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return,_.tag===4&&(I=!1)}_.sibling.return=_.return,_=_.sibling}}function AC(f,h){if(te){switch(h.tag){case 0:case 11:case 14:case 15:GA(3,h,h.return),Sh(3,h),GA(5,h,h.return);return;case 1:return;case 5:var B=h.stateNode;if(B!=null){var _=h.memoizedProps;f=f!==null?f.memoizedProps:_;var I=h.type,R=h.updateQueue;h.updateQueue=null,R!==null&&st(B,R,I,f,_,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));B=h.memoizedProps,Oe(h.stateNode,f!==null?f.memoizedProps:B,B);return;case 3:O&&f!==null&&f.memoizedState.isDehydrated&&z(h.stateNode.containerInfo);return;case 12:return;case 13:Um(h);return;case 19:Um(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:GA(3,h,h.return),Sh(3,h),GA(5,h,h.return);return;case 12:return;case 13:Um(h);return;case 19:Um(h);return;case 3:O&&f!==null&&f.memoizedState.isDehydrated&&z(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,ft(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Um(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var B=f.stateNode;B===null&&(B=f.stateNode=new kz),h.forEach(function(_){var I=Yz.bind(null,f,_);B.has(_)||(B.add(_),_.then(I,I))})}}function Hz(f,h){for(qe=h;qe!==null;){h=qe;var B=h.deletions;if(B!==null)for(var _=0;_<B.length;_++){var I=B[_];try{var R=f;te?M6(R,I,h):B6(R,I,h);var X=I.alternate;X!==null&&(X.return=null),I.return=null}catch(pt){Oi(I,h,pt)}}if(B=h.child,h.subtreeFlags&12854&&B!==null)B.return=h,qe=B;else for(;qe!==null;){h=qe;try{var se=h.flags;if(se&32&&te&&Ne(h.stateNode),se&512){var Me=h.alternate;if(Me!==null){var Ve=Me.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(se&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var At=h.alternate;(At===null||At.memoizedState===null)&&(mC=Mr())}break;case 22:var Rt=h.memoizedState!==null,wt=h.alternate,_n=wt!==null&&wt.memoizedState!==null;if(B=h,te){e:if(_=B,I=Rt,R=null,te)for(var gt=_;;){if(gt.tag===5){if(R===null){R=gt;var Jr=gt.stateNode;I?$(Jr):me(gt.stateNode,gt.memoizedProps)}}else if(gt.tag===6){if(R===null){var Ps=gt.stateNode;I?De(Ps):Re(Ps,gt.memoizedProps)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===_)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===_)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===_)break e;R===gt&&(R=null),gt=gt.return}R===gt&&(R=null),gt.sibling.return=gt.return,gt=gt.sibling}}if(Rt&&!_n&&B.mode&1){qe=B;for(var ye=B.child;ye!==null;){for(B=qe=ye;qe!==null;){_=qe;var Ae=_.child;switch(_.tag){case 0:case 11:case 14:case 15:GA(4,_,_.return);break;case 1:Fm(_,_.return);var _e=_.stateNode;if(typeof _e.componentWillUnmount=="function"){var et=_.return;try{_e.props=_.memoizedProps,_e.state=_.memoizedState,_e.componentWillUnmount()}catch(pt){Oi(_,et,pt)}}break;case 5:Fm(_,_.return);break;case 22:if(_.memoizedState!==null){F6(B);continue}}Ae!==null?(Ae.return=_,qe=Ae):F6(B)}ye=ye.sibling}}}switch(se&4102){case 2:b6(h),h.flags&=-3;break;case 6:b6(h),h.flags&=-3,AC(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,AC(h.alternate,h);break;case 4:AC(h.alternate,h)}}catch(pt){Oi(h,h.return,pt)}if(B=h.sibling,B!==null){B.return=h.return,qe=B;break}qe=h.return}}}function jz(f,h,B){qe=f,T6(f)}function T6(f,h,B){for(var _=(f.mode&1)!==0;qe!==null;){var I=qe,R=I.child;if(I.tag===22&&_){var X=I.memoizedState!==null||Im;if(!X){var se=I.alternate,Me=se!==null&&se.memoizedState!==null||zA;se=Im;var Ve=zA;if(Im=X,(zA=Me)&&!Ve)for(qe=I;qe!==null;)X=qe,Me=X.child,X.tag===22&&X.memoizedState!==null?U6(I):Me!==null?(Me.return=X,qe=Me):U6(I);for(;R!==null;)qe=R,T6(R),R=R.sibling;qe=I,Im=se,zA=Ve}I6(f)}else I.subtreeFlags&8772&&R!==null?(R.return=I,qe=R):I6(f)}}function I6(f){for(;qe!==null;){var h=qe;if(h.flags&8772){var B=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:zA||Sh(5,h);break;case 1:var _=h.stateNode;if(h.flags&4&&!zA)if(B===null)_.componentDidMount();else{var I=h.elementType===h.type?B.memoizedProps:ao(h.type,B.memoizedProps);_.componentDidUpdate(I,B.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&ST(h,R,_);break;case 3:var X=h.updateQueue;if(X!==null){if(B=null,h.child!==null)switch(h.child.tag){case 5:B=k(h.child.stateNode);break;case 1:B=h.child.stateNode}ST(h,X,B)}break;case 5:var se=h.stateNode;B===null&&h.flags&4&&je(se,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(O&&h.memoizedState===null){var Me=h.alternate;if(Me!==null){var Ve=Me.memoizedState;if(Ve!==null){var At=Ve.dehydrated;At!==null&&le(At)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}zA||h.flags&512&&oC(h)}catch(Rt){Oi(h,h.return,Rt)}}if(h===f){qe=null;break}if(B=h.sibling,B!==null){B.return=h.return,qe=B;break}qe=h.return}}function F6(f){for(;qe!==null;){var h=qe;if(h===f){qe=null;break}var B=h.sibling;if(B!==null){B.return=h.return,qe=B;break}qe=h.return}}function U6(f){for(;qe!==null;){var h=qe;try{switch(h.tag){case 0:case 11:case 15:var B=h.return;try{Sh(4,h)}catch(Me){Oi(h,B,Me)}break;case 1:var _=h.stateNode;if(typeof _.componentDidMount=="function"){var I=h.return;try{_.componentDidMount()}catch(Me){Oi(h,I,Me)}}var R=h.return;try{oC(h)}catch(Me){Oi(h,R,Me)}break;case 5:var X=h.return;try{oC(h)}catch(Me){Oi(h,X,Me)}}}catch(Me){Oi(h,h.return,Me)}if(h===f){qe=null;break}var se=h.sibling;if(se!==null){se.return=h.return,qe=se;break}qe=h.return}}var Lm=0,Rm=1,Pm=2,Nm=3,Dm=4;if(typeof Symbol=="function"&&Symbol.for){var _h=Symbol.for;Lm=_h("selector.component"),Rm=_h("selector.has_pseudo_class"),Pm=_h("selector.role"),Nm=_h("selector.test_id"),Dm=_h("selector.text")}function cC(f){var h=Ie(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=D(f),f===null)throw Error(o(362));return f.stateNode.current}function uC(f,h){switch(h.$$typeof){case Lm:if(f.type===h.value)return!0;break;case Rm:e:{h=h.value,f=[f,0];for(var B=0;B<f.length;){var _=f[B++],I=f[B++],R=h[I];if(_.tag!==5||!ge(_)){for(;R!=null&&uC(_,R);)I++,R=h[I];if(I===h.length){h=!0;break e}else for(_=_.child;_!==null;)f.push(_,I),_=_.sibling}}h=!1}return h;case Pm:if(f.tag===5&&ve(f.stateNode,h.value))return!0;break;case Dm:if((f.tag===5||f.tag===6)&&(f=xe(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Nm:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function dC(f){switch(f.$$typeof){case Lm:return"<"+(T(f.value)||"Unknown")+">";case Rm:return":has("+(dC(f)||"")+")";case Pm:return'[role="'+f.value+'"]';case Dm:return'"'+f.value+'"';case Nm:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function L6(f,h){var B=[];f=[f,0];for(var _=0;_<f.length;){var I=f[_++],R=f[_++],X=h[R];if(I.tag!==5||!ge(I)){for(;X!=null&&uC(I,X);)R++,X=h[R];if(R===h.length)B.push(I);else for(I=I.child;I!==null;)f.push(I,R),I=I.sibling}}return B}function fC(f,h){if(!H)throw Error(o(363));f=cC(f),f=L6(f,h),h=[],f=Array.from(f);for(var B=0;B<f.length;){var _=f[B++];if(_.tag===5)ge(_)||h.push(_.stateNode);else for(_=_.child;_!==null;)f.push(_),_=_.sibling}return h}var Vz=Math.ceil,Om=a.ReactCurrentDispatcher,hC=a.ReactCurrentOwner,rr=a.ReactCurrentBatchConfig,Wt=0,cr=null,ur=null,Qr=0,is=0,ku=pn(0),yr=0,Eh=null,Qu=0,km=0,pC=0,bh=null,Ni=null,mC=0,gC=1/0;function Hu(){gC=Mr()+500}var Qm=!1,vC=null,pl=null,Hm=!1,ml=null,jm=0,Mh=0,yC=null,Vm=-1,zm=0;function mi(){return Wt&6?Mr():Vm!==-1?Vm:Vm=Mr()}function gl(f){return f.mode&1?Wt&2&&Qr!==0?Qr&-Qr:_z.transition!==null?(zm===0&&(f=rm,rm<<=1,!(rm&4194240)&&(rm=64),zm=f),zm):(f=dn,f!==0?f:q()):1}function Ls(f,h,B){if(50<Mh)throw Mh=0,yC=null,Error(o(185));var _=Gm(f,h);return _===null?null:(uh(_,h,B),(!(Wt&2)||_!==cr)&&(_===cr&&(!(Wt&2)&&(km|=h),yr===4&&vl(_,Qr)),Di(_,B),h===1&&Wt===0&&!(f.mode&1)&&(Hu(),am&&zo())),_)}function Gm(f,h){f.lanes|=h;var B=f.alternate;for(B!==null&&(B.lanes|=h),B=f,f=f.return;f!==null;)f.childLanes|=h,B=f.alternate,B!==null&&(B.childLanes|=h),B=f,f=f.return;return B.tag===3?B.stateNode:null}function Di(f,h){var B=f.callbackNode;mz(f,h);var _=sm(f,f===cr?Qr:0);if(_===0)B!==null&&yT(B),f.callbackNode=null,f.callbackPriority=0;else if(h=_&-_,f.callbackPriority!==h){if(B!=null&&yT(B),h===1)f.tag===0?Sz(P6.bind(null,f)):xT(P6.bind(null,f)),be?he(function(){Wt===0&&zo()}):b3(M3,zo),B=null;else{switch(vT(_)){case 1:B=M3;break;case 4:B=xz;break;case 16:B=T3;break;case 536870912:B=wz;break;default:B=T3}B=z6(B,R6.bind(null,f))}f.callbackPriority=h,f.callbackNode=B}}function R6(f,h){if(Vm=-1,zm=0,Wt&6)throw Error(o(327));var B=f.callbackNode;if(XA()&&f.callbackNode!==B)return null;var _=sm(f,f===cr?Qr:0);if(_===0)return null;if(_&30||_&f.expiredLanes||h)h=Km(f,_);else{h=_;var I=Wt;Wt|=2;var R=O6();(cr!==f||Qr!==h)&&(Hu(),KA(f,h));do try{Kz();break}catch(se){D6(f,se)}while(!0);U3(),Om.current=R,Wt=I,ur!==null?h=0:(cr=null,Qr=0,h=yr)}if(h!==0){if(h===2&&(I=S3(f),I!==0&&(_=I,h=xC(f,I))),h===1)throw B=Eh,KA(f,0),vl(f,_),Di(f,Mr()),B;if(h===6)vl(f,_);else{if(I=f.current.alternate,!(_&30)&&!zz(I)&&(h=Km(f,_),h===2&&(R=S3(f),R!==0&&(_=R,h=xC(f,R))),h===1))throw B=Eh,KA(f,0),vl(f,_),Di(f,Mr()),B;switch(f.finishedWork=I,f.finishedLanes=_,h){case 0:case 1:throw Error(o(345));case 2:WA(f,Ni);break;case 3:if(vl(f,_),(_&130023424)===_&&(h=mC+500-Mr(),10<h)){if(sm(f,0)!==0)break;if(I=f.suspendedLanes,(I&_)!==_){mi(),f.pingedLanes|=f.suspendedLanes&I;break}f.timeoutHandle=Le(WA.bind(null,f,Ni),h);break}WA(f,Ni);break;case 4:if(vl(f,_),(_&4194240)===_)break;for(h=f.eventTimes,I=-1;0<_;){var X=31-hi(_);R=1<<X,X=h[X],X>I&&(I=X),_&=~R}if(_=I,_=Mr()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*Vz(_/1960))-_,10<_){f.timeoutHandle=Le(WA.bind(null,f,Ni),_);break}WA(f,Ni);break;case 5:WA(f,Ni);break;default:throw Error(o(329))}}}return Di(f,Mr()),f.callbackNode===B?R6.bind(null,f):null}function xC(f,h){var B=bh;return f.current.memoizedState.isDehydrated&&(KA(f,h).flags|=256),f=Km(f,h),f!==2&&(h=Ni,Ni=B,h!==null&&wC(h)),f}function wC(f){Ni===null?Ni=f:Ni.push.apply(Ni,f)}function zz(f){for(var h=f;;){if(h.flags&16384){var B=h.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var _=0;_<B.length;_++){var I=B[_],R=I.getSnapshot;I=I.value;try{if(!Vo(R(),I))return!1}catch{return!1}}}if(B=h.child,h.subtreeFlags&16384&&B!==null)B.return=h,h=B;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function vl(f,h){for(h&=~pC,h&=~km,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var B=31-hi(h),_=1<<B;f[B]=-1,h&=~_}}function P6(f){if(Wt&6)throw Error(o(327));XA();var h=sm(f,0);if(!(h&1))return Di(f,Mr()),null;var B=Km(f,h);if(f.tag!==0&&B===2){var _=S3(f);_!==0&&(h=_,B=xC(f,_))}if(B===1)throw B=Eh,KA(f,0),vl(f,h),Di(f,Mr()),B;if(B===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,WA(f,Ni),Di(f,Mr()),null}function N6(f){ml!==null&&ml.tag===0&&!(Wt&6)&&XA();var h=Wt;Wt|=1;var B=rr.transition,_=dn;try{if(rr.transition=null,dn=1,f)return f()}finally{dn=_,rr.transition=B,Wt=h,!(Wt&6)&&zo()}}function CC(){is=ku.current,Kt(ku)}function KA(f,h){f.finishedWork=null,f.finishedLanes=0;var B=f.timeoutHandle;if(B!==ie&&(f.timeoutHandle=ie,oe(B)),ur!==null)for(B=ur.return;B!==null;){var _=B;switch(k3(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&ul();break;case 3:Du(),Kt(Ft),Kt(nn),K3();break;case 5:z3(_);break;case 4:Du();break;case 13:Kt(Hn);break;case 19:Kt(Hn);break;case 10:L3(_.type._context);break;case 22:case 23:CC()}B=B.return}if(cr=f,ur=f=yl(f.current,null),Qr=is=h,yr=0,Eh=null,pC=km=Qu=0,Ni=bh=null,Go!==null){for(h=0;h<Go.length;h++)if(B=Go[h],_=B.interleaved,_!==null){B.interleaved=null;var I=_.next,R=B.pending;if(R!==null){var X=R.next;R.next=I,_.next=X}B.pending=_}Go=null}return f}function D6(f,h){do{var B=ur;try{if(U3(),vm.current=Sm,ym){for(var _=$n.memoizedState;_!==null;){var I=_.queue;I!==null&&(I.pending=null),_=_.next}ym=!1}if(Ou=0,Tr=Yr=$n=null,gh=!1,vh=0,hC.current=null,B===null||B.return===null){yr=1,Eh=h,ur=null;break}e:{var R=f,X=B.return,se=B,Me=h;if(h=Qr,se.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ve=Me,At=se,Rt=At.tag;if(!(At.mode&1)&&(Rt===0||Rt===11||Rt===15)){var wt=At.alternate;wt?(At.updateQueue=wt.updateQueue,At.memoizedState=wt.memoizedState,At.lanes=wt.lanes):(At.updateQueue=null,At.memoizedState=null)}var _n=i6(X);if(_n!==null){_n.flags&=-257,s6(_n,X,se,R,h),_n.mode&1&&r6(R,Ve,h),h=_n,Me=Ve;var gt=h.updateQueue;if(gt===null){var Jr=new Set;Jr.add(Me),h.updateQueue=Jr}else gt.add(Me);break e}else{if(!(h&1)){r6(R,Ve,h),BC();break e}Me=Error(o(426))}}else if(Dn&&se.mode&1){var Ps=i6(X);if(Ps!==null){!(Ps.flags&65536)&&(Ps.flags|=256),s6(Ps,X,se,R,h),j3(Me);break e}}R=Me,yr!==4&&(yr=2),bh===null?bh=[R]:bh.push(R),Me=J3(Me,se),se=X;do{switch(se.tag){case 3:se.flags|=65536,h&=-h,se.lanes|=h;var ye=t6(se,Me,h);BT(se,ye);break e;case 1:R=Me;var Ae=se.type,_e=se.stateNode;if(!(se.flags&128)&&(typeof Ae.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(pl===null||!pl.has(_e)))){se.flags|=65536,h&=-h,se.lanes|=h;var et=n6(se,R,h);BT(se,et);break e}}se=se.return}while(se!==null)}Q6(B)}catch(pt){h=pt,ur===B&&B!==null&&(ur=B=B.return);continue}break}while(!0)}function O6(){var f=Om.current;return Om.current=Sm,f===null?Sm:f}function BC(){(yr===0||yr===3||yr===2)&&(yr=4),cr===null||!(Qu&268435455)&&!(km&268435455)||vl(cr,Qr)}function Km(f,h){var B=Wt;Wt|=2;var _=O6();cr===f&&Qr===h||KA(f,h);do try{Gz();break}catch(I){D6(f,I)}while(!0);if(U3(),Wt=B,Om.current=_,ur!==null)throw Error(o(261));return cr=null,Qr=0,yr}function Gz(){for(;ur!==null;)k6(ur)}function Kz(){for(;ur!==null&&!vz();)k6(ur)}function k6(f){var h=V6(f.alternate,f,is);f.memoizedProps=f.pendingProps,h===null?Q6(f):ur=h,hC.current=null}function Q6(f){var h=f;do{var B=h.alternate;if(f=h.return,h.flags&32768){if(B=Oz(B,h),B!==null){B.flags&=32767,ur=B;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{yr=6,ur=null;return}}else if(B=Pz(B,h,is),B!==null){ur=B;return}if(h=h.sibling,h!==null){ur=h;return}ur=h=f}while(h!==null);yr===0&&(yr=5)}function WA(f,h){var B=dn,_=rr.transition;try{rr.transition=null,dn=1,Wz(f,h,B)}finally{rr.transition=_,dn=B}return null}function Wz(f,h,B){do XA();while(ml!==null);if(Wt&6)throw Error(o(327));var _=f.finishedWork,I=f.finishedLanes;if(_===null)return null;if(f.finishedWork=null,f.finishedLanes=0,_===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var R=_.lanes|_.childLanes;if(gz(f,R),f===cr&&(ur=cr=null,Qr=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||Hm||(Hm=!0,z6(T3,function(){return XA(),null})),R=(_.flags&15990)!==0,_.subtreeFlags&15990||R){R=rr.transition,rr.transition=null;var X=dn;dn=1;var se=Wt;Wt|=4,hC.current=null,Qz(f,_),Hz(f,_),Y(f.containerInfo),f.current=_,jz(_),yz(),Wt=se,dn=X,rr.transition=R}else f.current=_;if(Hm&&(Hm=!1,ml=f,jm=I),R=f.pendingLanes,R===0&&(pl=null),Cz(_.stateNode),Di(f,Mr()),h!==null)for(B=f.onRecoverableError,_=0;_<h.length;_++)B(h[_]);if(Qm)throw Qm=!1,f=vC,vC=null,f;return jm&1&&f.tag!==0&&XA(),R=f.pendingLanes,R&1?f===yC?Mh++:(Mh=0,yC=f):Mh=0,zo(),null}function XA(){if(ml!==null){var f=vT(jm),h=rr.transition,B=dn;try{if(rr.transition=null,dn=16>f?16:f,ml===null)var _=!1;else{if(f=ml,ml=null,jm=0,Wt&6)throw Error(o(331));var I=Wt;for(Wt|=4,qe=f.current;qe!==null;){var R=qe,X=R.child;if(qe.flags&16){var se=R.deletions;if(se!==null){for(var Me=0;Me<se.length;Me++){var Ve=se[Me];for(qe=Ve;qe!==null;){var At=qe;switch(At.tag){case 0:case 11:case 15:GA(8,At,R)}var Rt=At.child;if(Rt!==null)Rt.return=At,qe=Rt;else for(;qe!==null;){At=qe;var wt=At.sibling,_n=At.return;if(S6(At),At===Ve){qe=null;break}if(wt!==null){wt.return=_n,qe=wt;break}qe=_n}}}var gt=R.alternate;if(gt!==null){var Jr=gt.child;if(Jr!==null){gt.child=null;do{var Ps=Jr.sibling;Jr.sibling=null,Jr=Ps}while(Jr!==null)}}qe=R}}if(R.subtreeFlags&2064&&X!==null)X.return=R,qe=X;else e:for(;qe!==null;){if(R=qe,R.flags&2048)switch(R.tag){case 0:case 11:case 15:GA(9,R,R.return)}var ye=R.sibling;if(ye!==null){ye.return=R.return,qe=ye;break e}qe=R.return}}var Ae=f.current;for(qe=Ae;qe!==null;){X=qe;var _e=X.child;if(X.subtreeFlags&2064&&_e!==null)_e.return=X,qe=_e;else e:for(X=Ae;qe!==null;){if(se=qe,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:Sh(9,se)}}catch(pt){Oi(se,se.return,pt)}if(se===X){qe=null;break e}var et=se.sibling;if(et!==null){et.return=se.return,qe=et;break e}qe=se.return}}if(Wt=I,zo(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(om,f)}catch{}_=!0}return _}finally{dn=B,rr.transition=h}}return!1}function H6(f,h,B){h=J3(B,h),h=t6(f,h,1),hl(f,h),h=mi(),f=Gm(f,1),f!==null&&(uh(f,1,h),Di(f,h))}function Oi(f,h,B){if(f.tag===3)H6(f,f,B);else for(;h!==null;){if(h.tag===3){H6(h,f,B);break}else if(h.tag===1){var _=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(pl===null||!pl.has(_))){f=J3(B,f),f=n6(h,f,1),hl(h,f),f=mi(),h=Gm(h,1),h!==null&&(uh(h,1,f),Di(h,f));break}}h=h.return}}function Xz(f,h,B){var _=f.pingCache;_!==null&&_.delete(h),h=mi(),f.pingedLanes|=f.suspendedLanes&B,cr===f&&(Qr&B)===B&&(yr===4||yr===3&&(Qr&130023424)===Qr&&500>Mr()-mC?KA(f,0):pC|=B),Di(f,h)}function j6(f,h){h===0&&(f.mode&1?(h=im,im<<=1,!(im&130023424)&&(im=4194304)):h=1);var B=mi();f=Gm(f,h),f!==null&&(uh(f,h,B),Di(f,B))}function $z(f){var h=f.memoizedState,B=0;h!==null&&(B=h.retryLane),j6(f,B)}function Yz(f,h){var B=0;switch(f.tag){case 13:var _=f.stateNode,I=f.memoizedState;I!==null&&(B=I.retryLane);break;case 19:_=f.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(h),j6(f,B)}var V6;V6=function(f,h,B){if(f!==null)if(f.memoizedProps!==h.pendingProps||Ft.current)rs=!0;else{if(!(f.lanes&B)&&!(h.flags&128))return rs=!1,Dz(f,h,B);rs=!!(f.flags&131072)}else rs=!1,Dn&&h.flags&1048576&&TT(h,pm,h.index);switch(h.lanes=0,h.tag){case 2:var _=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var I=es(h,nn.current);Fu(h,B),I=X3(null,h,_,f,I,B);var R=$3();return h.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Cn(_)?(R=!0,dl(h)):R=!1,h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,P3(h),I.updater=fm,h.stateNode=I,I._reactInternals=h,D3(h,_,f,B),h=nC(null,h,_,!0,R,B)):(h.tag=0,Dn&&R&&O3(h),pi(null,h,I,B),h=h.child),h;case 16:_=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,I=_._init,_=I(_._payload),h.type=_,I=h.tag=Zz(_),f=ao(_,f),I){case 0:h=tC(null,h,_,f,B);break e;case 1:h=f6(null,h,_,f,B);break e;case 11:h=l6(null,h,_,f,B);break e;case 14:h=A6(null,h,_,ao(_.type,f),B);break e}throw Error(o(306,_,""))}return h;case 0:return _=h.type,I=h.pendingProps,I=h.elementType===_?I:ao(_,I),tC(f,h,_,I,B);case 1:return _=h.type,I=h.pendingProps,I=h.elementType===_?I:ao(_,I),f6(f,h,_,I,B);case 3:e:{if(h6(h),f===null)throw Error(o(387));_=h.pendingProps,R=h.memoizedState,I=R.element,CT(f,h),dm(h,_,null,B);var X=h.memoizedState;if(_=X.element,O&&R.isDehydrated)if(R={element:_,isDehydrated:!1,cache:X.cache,transitions:X.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){I=Error(o(423)),h=p6(f,h,_,B,I);break e}else if(_!==I){I=Error(o(424)),h=p6(f,h,_,B,I);break e}else for(O&&(ns=Tu(h.stateNode.containerInfo),ts=h,Dn=!0,lo=null,dh=!1),B=PT(h,null,_,B),h.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(Ru(),_===I){h=Sa(f,h,B);break e}pi(f,h,_,B)}h=h.child}return h;case 5:return NT(h),f===null&&H3(h),_=h.type,I=h.pendingProps,R=f!==null?f.memoizedProps:null,X=I.children,pe(_,I)?X=null:R!==null&&pe(_,R)&&(h.flags|=32),d6(f,h),pi(f,h,X,B),h.child;case 6:return f===null&&H3(h),null;case 13:return m6(f,h,B);case 4:return V3(h,h.stateNode.containerInfo),_=h.pendingProps,f===null?h.child=Pu(h,null,_,B):pi(f,h,_,B),h.child;case 11:return _=h.type,I=h.pendingProps,I=h.elementType===_?I:ao(_,I),l6(f,h,_,I,B);case 7:return pi(f,h,h.pendingProps,B),h.child;case 8:return pi(f,h,h.pendingProps.children,B),h.child;case 12:return pi(f,h,h.pendingProps.children,B),h.child;case 10:e:{if(_=h.type._context,I=h.pendingProps,R=h.memoizedProps,X=I.value,wT(h,_,X),R!==null)if(Vo(R.value,X)){if(R.children===I.children&&!Ft.current){h=Sa(f,h,B);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var se=R.dependencies;if(se!==null){X=R.child;for(var Me=se.firstContext;Me!==null;){if(Me.context===_){if(R.tag===1){Me=xa(-1,B&-B),Me.tag=2;var Ve=R.updateQueue;if(Ve!==null){Ve=Ve.shared;var At=Ve.pending;At===null?Me.next=Me:(Me.next=At.next,At.next=Me),Ve.pending=Me}}R.lanes|=B,Me=R.alternate,Me!==null&&(Me.lanes|=B),R3(R.return,B,h),se.lanes|=B;break}Me=Me.next}}else if(R.tag===10)X=R.type===h.type?null:R.child;else if(R.tag===18){if(X=R.return,X===null)throw Error(o(341));X.lanes|=B,se=X.alternate,se!==null&&(se.lanes|=B),R3(X,B,h),X=R.sibling}else X=R.child;if(X!==null)X.return=R;else for(X=R;X!==null;){if(X===h){X=null;break}if(R=X.sibling,R!==null){R.return=X.return,X=R;break}X=X.return}R=X}pi(f,h,I.children,B),h=h.child}return h;case 9:return I=h.type,_=h.pendingProps.children,Fu(h,B),I=Ms(I),_=_(I),h.flags|=1,pi(f,h,_,B),h.child;case 14:return _=h.type,I=ao(_,h.pendingProps),I=ao(_.type,I),A6(f,h,_,I,B);case 15:return c6(f,h,h.type,h.pendingProps,B);case 17:return _=h.type,I=h.pendingProps,I=h.elementType===_?I:ao(_,I),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Cn(_)?(f=!0,dl(h)):f=!1,Fu(h,B),bT(h,_,I),D3(h,_,I,B),nC(null,h,_,!0,f,B);case 19:return x6(f,h,B);case 22:return u6(f,h,B)}throw Error(o(156,h.tag))};function z6(f,h){return b3(f,h)}function qz(f,h,B,_){this.tag=f,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(f,h,B,_){return new qz(f,h,B,_)}function SC(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Zz(f){if(typeof f=="function")return SC(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===w)return 14}return 2}function yl(f,h){var B=f.alternate;return B===null?(B=Rs(f.tag,h,f.key,f.mode),B.elementType=f.elementType,B.type=f.type,B.stateNode=f.stateNode,B.alternate=f,f.alternate=B):(B.pendingProps=h,B.type=f.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=f.flags&14680064,B.childLanes=f.childLanes,B.lanes=f.lanes,B.child=f.child,B.memoizedProps=f.memoizedProps,B.memoizedState=f.memoizedState,B.updateQueue=f.updateQueue,h=f.dependencies,B.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},B.sibling=f.sibling,B.index=f.index,B.ref=f.ref,B}function Wm(f,h,B,_,I,R){var X=2;if(_=f,typeof f=="function")SC(f)&&(X=1);else if(typeof f=="string")X=5;else e:switch(f){case c:return $A(B.children,I,R,h);case u:X=8,I|=8;break;case d:return f=Rs(12,B,h,I|2),f.elementType=d,f.lanes=R,f;case y:return f=Rs(13,B,h,I),f.elementType=y,f.lanes=R,f;case v:return f=Rs(19,B,h,I),f.elementType=v,f.lanes=R,f;case S:return Xm(B,I,R,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:X=10;break e;case g:X=9;break e;case x:X=11;break e;case w:X=14;break e;case C:X=16,_=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=Rs(X,B,h,I),h.elementType=f,h.type=_,h.lanes=R,h}function $A(f,h,B,_){return f=Rs(7,f,_,h),f.lanes=B,f}function Xm(f,h,B,_){return f=Rs(22,f,_,h),f.elementType=S,f.lanes=B,f.stateNode={},f}function _C(f,h,B){return f=Rs(6,f,null,h),f.lanes=B,f}function EC(f,h,B){return h=Rs(4,f.children!==null?f.children:[],f.key,h),h.lanes=B,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Jz(f,h,B,_,I){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ie,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_3(0),this.expirationTimes=_3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_3(0),this.identifierPrefix=_,this.onRecoverableError=I,O&&(this.mutableSourceEagerHydrationData=null)}function G6(f,h,B,_,I,R,X,se,Me){return f=new Jz(f,h,B,se,Me),h===1?(h=1,R===!0&&(h|=8)):h=0,R=Rs(3,null,null,h),f.current=R,R.stateNode=f,R.memoizedState={element:_,isDehydrated:B,cache:null,transitions:null},P3(R),f}function K6(f){if(!f)return ct;f=f._reactInternals;e:{if(P(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Cn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var B=f.type;if(Cn(B))return oo(f,B,h)}return h}function W6(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=j(h),f===null?null:f.stateNode}function X6(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var B=f.retryLane;f.retryLane=B!==0&&B<h?B:h}}function bC(f,h){X6(f,h),(f=f.alternate)&&X6(f,h)}function eG(f){return f=j(f),f===null?null:f.stateNode}function tG(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var h=mi();Ls(f,134217728,h),bC(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=mi(),B=gl(f);Ls(f,B,h),bC(f,B)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var B=ch(h.pendingLanes);B!==0&&(E3(h,B|1),Di(h,Mr()),!(Wt&6)&&(Hu(),zo()))}break;case 13:var _=mi();N6(function(){return Ls(f,1,_)}),bC(f,1)}},n.batchedUpdates=function(f,h){var B=Wt;Wt|=1;try{return f(h)}finally{Wt=B,Wt===0&&(Hu(),am&&zo())}},n.createComponentSelector=function(f){return{$$typeof:Lm,value:f}},n.createContainer=function(f,h,B,_,I,R,X){return G6(f,h,!1,null,B,_,I,R,X)},n.createHasPseudoClassSelector=function(f){return{$$typeof:Rm,value:f}},n.createHydrationContainer=function(f,h,B,_,I,R,X,se,Me){return f=G6(B,_,!0,f,I,R,X,se,Me),f.context=K6(null),B=f.current,_=mi(),I=gl(B),R=xa(_,I),R.callback=h??null,hl(B,R),f.current.lanes=I,uh(f,I,_),Di(f,_),f},n.createPortal=function(f,h,B){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:_==null?null:""+_,children:f,containerInfo:h,implementation:B}},n.createRoleSelector=function(f){return{$$typeof:Pm,value:f}},n.createTestNameSelector=function(f){return{$$typeof:Nm,value:f}},n.createTextSelector=function(f){return{$$typeof:Dm,value:f}},n.deferredUpdates=function(f){var h=dn,B=rr.transition;try{return rr.transition=null,dn=16,f()}finally{dn=h,rr.transition=B}},n.discreteUpdates=function(f,h,B,_,I){var R=dn,X=rr.transition;try{return rr.transition=null,dn=1,f(h,B,_,I)}finally{dn=R,rr.transition=X,Wt===0&&Hu()}},n.findAllNodes=fC,n.findBoundingRects=function(f,h){if(!H)throw Error(o(363));h=fC(f,h),f=[];for(var B=0;B<h.length;B++)f.push(ne(h[B]));for(h=f.length-1;0<h;h--){B=f[h];for(var _=B.x,I=_+B.width,R=B.y,X=R+B.height,se=h-1;0<=se;se--)if(h!==se){var Me=f[se],Ve=Me.x,At=Ve+Me.width,Rt=Me.y,wt=Rt+Me.height;if(_>=Ve&&R>=Rt&&I<=At&&X<=wt){f.splice(h,1);break}else if(_!==Ve||B.width!==Me.width||wt<R||Rt>X){if(!(R!==Rt||B.height!==Me.height||At<_||Ve>I)){Ve>_&&(Me.width+=Ve-_,Me.x=_),At<I&&(Me.width=I-Ve),f.splice(h,1);break}}else{Rt>R&&(Me.height+=Rt-R,Me.y=R),wt<X&&(Me.height=X-Rt),f.splice(h,1);break}}}return f},n.findHostInstance=W6,n.findHostInstanceWithNoPortals=function(f){return f=U(f),f=f!==null?G(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return W6(f)},n.flushControlled=function(f){var h=Wt;Wt|=1;var B=rr.transition,_=dn;try{rr.transition=null,dn=1,f()}finally{dn=_,rr.transition=B,Wt=h,Wt===0&&(Hu(),zo())}},n.flushPassiveEffects=XA,n.flushSync=N6,n.focusWithin=function(f,h){if(!H)throw Error(o(363));for(f=cC(f),h=L6(f,h),h=Array.from(h),f=0;f<h.length;){var B=h[f++];if(!ge(B)){if(B.tag===5&&Qe(B.stateNode))return!0;for(B=B.child;B!==null;)h.push(B),B=B.sibling}}return!1},n.getCurrentUpdatePriority=function(){return dn},n.getFindAllNodesFailureDescription=function(f,h){if(!H)throw Error(o(363));var B=0,_=[];f=[cC(f),0];for(var I=0;I<f.length;){var R=f[I++],X=f[I++],se=h[X];if((R.tag!==5||!ge(R))&&(uC(R,se)&&(_.push(dC(se)),X++,X>B&&(B=X)),X<h.length))for(R=R.child;R!==null;)f.push(R,X),R=R.sibling}if(B<h.length){for(f=[];B<h.length;B++)f.push(dC(h[B]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return k(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:eG,findFiberByHostInstance:f.findFiberByHostInstance||tG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{om=h.inject(f),jo=h}catch{}f=!!h.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,h,B,_){if(!H)throw Error(o(363));f=fC(f,h);var I=Te(f,B,_).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(f,h){var B=h._getVersion;B=B(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,B]:f.mutableSourceEagerHydrationData.push(h,B)},n.runWithPriority=function(f,h){var B=dn;try{return dn=f,h()}finally{dn=B}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,h,B,_){var I=h.current,R=mi(),X=gl(I);return B=K6(B),h.context===null?h.context=B:h.pendingContext=B,h=xa(R,X),h.payload={element:f},_=_===void 0?null:_,_!==null&&(h.callback=_),hl(I,h),f=Ls(I,X,R),f!==null&&um(f,I,X),X},n};Yk.exports=vle;var yle=Yk.exports;const xle=vu(yle),aM={},wle=t=>void Object.assign(aM,t);function Cle(t,e){function n(c,{args:u=[],attach:d,...m},g){let x=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;y=gd(v,{type:c,root:g,attach:d,primitive:!0})}else{const v=aM[x];if(!v)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");y=gd(new v(...u),{type:c,root:g,attach:d,memoizedProps:{args:u}})}return y.__r3f.attach===void 0&&(y instanceof kt?y.__r3f.attach="geometry":y instanceof pr&&(y.__r3f.attach="material")),x!=="inject"&&cS(y,m),y}function r(c,u){let d=!1;if(u){var m,g;(m=u.__r3f)!=null&&m.attach?AS(c,u,u.__r3f.attach):u.isObject3D&&c.isObject3D&&(c.add(u),d=!0),d||(g=c.__r3f)==null||g.objects.push(u),u.__r3f||gd(u,{}),u.__r3f.parent=c,s4(u),vd(u)}}function i(c,u,d){let m=!1;if(u){var g,x;if((g=u.__r3f)!=null&&g.attach)AS(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){u.parent=c,u.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:u});const y=c.children.filter(w=>w!==u),v=y.indexOf(d);c.children=[...y.slice(0,v),u,...y.slice(v)],m=!0}m||(x=c.__r3f)==null||x.objects.push(u),u.__r3f||gd(u,{}),u.__r3f.parent=c,s4(u),vd(u)}}function s(c,u,d=!1){c&&[...c].forEach(m=>o(u,m,d))}function o(c,u,d){if(u){var m,g,x;if(u.__r3f&&(u.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==u)),(g=u.__r3f)!=null&&g.attach)kU(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){var y;c.remove(u),(y=u.__r3f)!=null&&y.root&&Fle(uv(u),u)}const w=(x=u.__r3f)==null?void 0:x.primitive,C=!w&&(d===void 0?u.dispose!==null:d);if(!w){var v;s((v=u.__r3f)==null?void 0:v.objects,u,C),s(u.children,u,C)}if(delete u.__r3f,C&&u.dispose&&u.type!=="Scene"){const S=()=>{try{u.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?r4.unstable_scheduleCallback(r4.unstable_IdlePriority,S):S()}vd(c)}}function a(c,u,d,m){var g;const x=(g=c.__r3f)==null?void 0:g.parent;if(!x)return;const y=n(u,d,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(y,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(y,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(x,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&uv(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>{};return{reconciler:xle({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,u)=>{if(!u)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,u))},removeChildFromContainer:(c,u)=>{u&&o(c.getState().scene,u)},insertInContainerBefore:(c,u,d)=>{if(!u||!d)return;const m=c.getState().scene;m.__r3f&&i(m,u,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var u;return!!((u=c==null?void 0:c.__r3f)!=null?u:{}).handlers},prepareUpdate(c,u,d,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:v,...w}=m,{args:C=[],children:S,...M}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,L)=>T!==C[L]))return[!0];const b=sQ(c,w,M,!0);return b.changes.length?[!1,b]:null}},commitUpdate(c,[u,d],m,g,x,y){u?a(c,m,x,y):cS(c,d)},commitMount(c,u,d,m){var g;const x=(g=c.__r3f)!=null?g:{};c.raycast&&x.handlers&&x.eventCount&&uv(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>gd(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var u;const{attach:d,parent:m}=(u=c.__r3f)!=null?u:{};d&&m&&kU(m,c,d),c.isObject3D&&(c.visible=!1),vd(c)},unhideInstance(c,u){var d;const{attach:m,parent:g}=(d=c.__r3f)!=null?d:{};m&&g&&AS(g,c,m),(c.isObject3D&&u.visible==null||u.visible)&&(c.visible=!0),vd(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Od.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Tn.fun(performance.now)?performance.now:Tn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Tn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Tn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:cS}}var PU,NU;const lS=t=>"colorSpace"in t||"outputColorSpace"in t,Jk=()=>{var t;return(t=aM.ColorManagement)!=null?t:null},eQ=t=>t&&t.isOrthographicCamera,Ble=t=>t&&t.hasOwnProperty("current"),D2=typeof window<"u"&&((PU=window.document)!=null&&PU.createElement||((NU=window.navigator)==null?void 0:NU.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function tQ(t){const e=F.useRef(t);return D2(()=>void(e.current=t),[t]),e}function Sle({set:t}){return D2(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let nQ=class extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};nQ.getDerivedStateFromError=()=>({error:!0});const rQ="__default",DU=new Map,_le=t=>t&&!!t.memoized&&!!t.changes;function iQ(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Zh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function uv(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Tn={obj:t=>t===Object(t)&&!Tn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Tn.str(t)||Tn.num(t)||Tn.boo(t))return t===e;const s=Tn.obj(t);if(s&&r==="reference")return t===e;const o=Tn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Tn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Tn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Ele(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function ble(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function gd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function i4(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const OU=/-\d+$/;function AS(t,e,n){if(Tn.str(n)){if(OU.test(n)){const s=n.replace(OU,""),{target:o,key:a}=i4(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=i4(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function kU(t,e,n){var r,i;if(Tn.str(n)){const{target:s,key:o}=i4(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function sQ(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},A=!1){const c=t.__r3f,u=Object.entries(i),d=[];if(A){const g=Object.keys(l);for(let x=0;x<g.length;x++)i.hasOwnProperty(g[x])||u.unshift([g[x],rQ+"remove"])}u.forEach(([g,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&g==="object"||Tn.equ(x,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return d.push([g,x,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),d.push([g,x,!1,v]);for(const w in i){const C=i[w];w.startsWith(`${g}-`)&&d.push([w,C,!1,w.split("-")])}});const m={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(m.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(m.attach=c.memoizedProps.attach),{memoized:m,changes:d}}const Mle=typeof process<"u"&&!1;function cS(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=_le(e)?e:sQ(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let c=0;c<a.length;c++){let[u,d,m,g]=a[c];if(lS(t)){const w="srgb",C="srgb-linear";u==="encoding"?(u="colorSpace",d=d===3001?w:C):u==="outputEncoding"&&(u="outputColorSpace",d=d===3001?w:C)}let x=t,y=x[u];if(g.length&&(y=g.reduce((v,w)=>v[w],t),!(y&&y.set))){const[v,...w]=g.reverse();x=w.reverse().reduce((C,S)=>C[S],t),u=v}if(d===rQ+"remove")if(x.constructor){let v=DU.get(x.constructor);v||(v=new x.constructor,DU.set(x.constructor,v)),d=v[u]}else d=0;if(m&&r)d?r.handlers[u]=d:delete r.handlers[u],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Xc)){if(Array.isArray(d))y.fromArray?y.fromArray(d):y.set(...d);else if(y.copy&&d&&d.constructor&&(Mle?y.constructor.name===d.constructor.name:y.constructor===d.constructor))y.copy(d);else if(d!==void 0){const v=y instanceof We;!v&&y.setScalar?y.setScalar(d):y instanceof Xc&&d instanceof Xc?y.mask=d.mask:y.set(d),!Jk()&&s&&!s.linear&&v&&y.convertSRGBToLinear()}}else if(x[u]=d,x[u]instanceof Pn&&x[u].format===Ai&&x[u].type===Io&&s){const v=x[u];lS(v)&&lS(s.gl)?v.colorSpace=s.gl.outputColorSpace:v.encoding=s.gl.outputEncoding}vd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const c=uv(t).getState().internal,u=c.interaction.indexOf(t);u>-1&&c.interaction.splice(u,1),r.eventCount&&c.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&s4(t),t}function vd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function s4(t){t.onUpdate==null||t.onUpdate(t)}function Tle(t,e){t.manual||(eQ(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function l1(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ile(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Od.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Od.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Od.ContinuousEventPriority;default:return Od.DefaultEventPriority}}function oQ(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Fle(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{oQ(n.capturedMap,e,r,i)})}function Ule(t){function e(l){const{internal:A}=t.getState(),c=l.offsetX-A.initialClick[0],u=l.offsetY-A.initialClick[1];return Math.round(Math.sqrt(c*c+u*u))}function n(l){return l.filter(A=>["Move","Over","Enter","Out","Leave"].some(c=>{var u;return(u=A.__r3f)==null?void 0:u.handlers["onPointer"+c]}))}function r(l,A){const c=t.getState(),u=new Set,d=[],m=A?A(c.internal.interaction):c.internal.interaction;for(let v=0;v<m.length;v++){const w=Zh(m[v]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const w=Zh(v);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var C;w.events.compute==null||w.events.compute(l,w,(C=w.previousRoot)==null?void 0:C.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(v,!0):[]}let x=m.flatMap(g).sort((v,w)=>{const C=Zh(v.object),S=Zh(w.object);return!C||!S?v.distance-w.distance:S.events.priority-C.events.priority||v.distance-w.distance}).filter(v=>{const w=l1(v);return u.has(w)?!1:(u.add(w),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const v of x){let w=v.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&d.push({...v,eventObject:w}),w=w.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())u.has(l1(v.intersection))||d.push(v.intersection);return d}function i(l,A,c,u){const d=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const x=Zh(g.object)||d,{raycaster:y,pointer:v,camera:w,internal:C}=x,S=new K(v.x,v.y,0).unproject(w),M=E=>{var U,j;return(U=(j=C.capturedMap.get(E))==null?void 0:j.has(g.eventObject))!=null?U:!1},b=E=>{const U={intersection:g,target:A.target};C.capturedMap.has(E)?C.capturedMap.get(E).set(g.eventObject,U):C.capturedMap.set(E,new Map([[g.eventObject,U]])),A.target.setPointerCapture(E)},T=E=>{const U=C.capturedMap.get(E);U&&oQ(C.capturedMap,g.eventObject,U,E)};let L={};for(let E in A){let U=A[E];typeof U!="function"&&(L[E]=U)}let P={...g,...L,pointer:v,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:S,ray:y.ray,camera:w,stopPropagation(){const E="pointerId"in A&&C.capturedMap.get(A.pointerId);if((!E||E.has(g.eventObject))&&(P.stopped=m.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(U=>U.eventObject===g.eventObject))){const U=l.slice(0,l.indexOf(g));s([...U,g])}},target:{hasPointerCapture:M,setPointerCapture:b,releasePointerCapture:T},currentTarget:{hasPointerCapture:M,setPointerCapture:b,releasePointerCapture:T},nativeEvent:A};if(u(P),m.stopped===!0)break}}return l}function s(l){const{internal:A}=t.getState();for(const c of A.hovered.values())if(!l.length||!l.find(u=>u.object===c.object&&u.index===c.index&&u.instanceId===c.instanceId)){const d=c.eventObject.__r3f,m=d==null?void 0:d.handlers;if(A.hovered.delete(l1(c)),d!=null&&d.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,A){for(let c=0;c<A.length;c++){const u=A[c].__r3f;u==null||u.handlers.onPointerMissed==null||u.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return A=>{const{internal:c}=t.getState();"pointerId"in A&&c.capturedMap.has(A.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(A.pointerId)&&(c.capturedMap.delete(A.pointerId),s([]))})}}return function(c){const{onPointerMissed:u,internal:d}=t.getState();d.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=y.map(C=>C.eventObject)),g&&!y.length&&v<=2&&(o(c,d.interaction),u&&u(c)),m&&s(y);function w(C){const S=C.eventObject,M=S.__r3f,b=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const T=l1(C),L=d.hovered.get(T);L?L.stopped&&C.stopPropagation():(d.hovered.set(T,C),b.onPointerOver==null||b.onPointerOver(C),b.onPointerEnter==null||b.onPointerEnter(C))}b.onPointerMove==null||b.onPointerMove(C)}else{const T=b[l];T?(!g||d.initialHits.includes(S))&&(o(c,d.interaction.filter(L=>!d.initialHits.includes(L))),T(C)):g&&d.initialHits.includes(S)&&o(c,d.interaction.filter(L=>!d.initialHits.includes(L)))}}i(y,c,v,w)}}return{handlePointer:a}}const aQ=t=>!!(t!=null&&t.render),lQ=F.createContext(null),Lle=(t,e)=>{const n=fle((a,l)=>{const A=new K,c=new K,u=new K;function d(v=l().camera,w=c,C=l().size){const{width:S,height:M,top:b,left:T}=C,L=S/M;w instanceof K?u.copy(w):u.set(...w);const P=v.getWorldPosition(A).distanceTo(u);if(eQ(v))return{width:S/v.zoom,height:M/v.zoom,top:b,left:T,factor:1,distance:P,aspect:L};{const E=v.fov*Math.PI/180,U=2*Math.tan(E/2)*P,j=U*(S/M);return{width:j,height:U,top:b,left:T,factor:S/j,distance:P,aspect:L}}}let m;const g=v=>a(w=>({performance:{...w.performance,current:v}})),x=new Ue;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,w)=>e(v,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new nM,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>a(w=>({...w,events:{...w.events,...v}})),setSize:(v,w,C,S,M)=>{const b=l().camera,T={width:v,height:w,top:S||0,left:M||0,updateStyle:C};a(L=>({size:T,viewport:{...L.viewport,...d(b,c,T)}}))},setDpr:v=>a(w=>{const C=iQ(v);return{viewport:{...w.viewport,dpr:C,initialDpr:w.viewport.initialDpr||C}}}),setFrameloop:(v="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,v!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,w,C)=>{const S=l().internal;return S.priority=S.priority+(w>0?1:0),S.subscribers.push({ref:v,priority:w,store:C}),S.subscribers=S.subscribers.sort((M,b)=>M.priority-b.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(w>0?1:0),M.subscribers=M.subscribers.filter(b=>b.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:A,gl:c,set:u}=n.getState();if(l.width!==i.width||l.height!==i.height||A.dpr!==s){var d;i=l,s=A.dpr,Tle(a,l),c.setPixelRatio(A.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,u(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let A1,Rle=new Set,Ple=new Set,Nle=new Set;function uS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Jh(t,e){switch(t){case"before":return uS(Rle,e);case"after":return uS(Ple,e);case"tail":return uS(Nle,e)}}let dS,fS;function hS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),dS=e.internal.subscribers,A1=0;A1<dS.length;A1++)fS=dS[A1],fS.ref.current(fS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Dle(t){let e=!1,n=!1,r,i,s;function o(A){i=requestAnimationFrame(o),e=!0,r=0,Jh("before",A),n=!0;for(const u of t.values()){var c;s=u.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((c=s.gl.xr)!=null&&c.isPresenting)&&(r+=hS(A,s))}if(n=!1,Jh("after",A),r===0)return Jh("tail",A),e=!1,cancelAnimationFrame(i)}function a(A,c=1){var u;if(!A)return t.forEach(d=>a(d.store.getState(),c));(u=A.gl.xr)!=null&&u.isPresenting||!A.internal.active||A.frameloop==="never"||(c>1?A.internal.frames=Math.min(60,A.internal.frames+c):n?A.internal.frames=2:A.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(A,c=!0,u,d){if(c&&Jh("before",A),u)hS(A,u,d);else for(const m of t.values())hS(A,m.store.getState());c&&Jh("after",A)}return{loop:o,invalidate:a,advance:l}}function AQ(){const t=F.useContext(lQ);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Fl(t=n=>n,e){return AQ()(t,e)}function Ole(t,e=0){const n=AQ(),r=n.getState().internal.subscribe,i=tQ(t);return D2(()=>r(i,e,n),[e,r,n]),null}const QU=new WeakMap;function cQ(t,e){return function(n,...r){let i=QU.get(n);return i||(i=new n,QU.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Ele(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function cl(t,e,n,r){const i=Array.isArray(e)?e:[e],s=ple(cQ(n,r),[t,...i],{equal:Tn.equ});return Array.isArray(e)?s:s[0]}cl.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return mle(cQ(n),[t,...r])};cl.clear=function(t,e){const n=Array.isArray(e)?e:[e];return gle([t,...n])};const Nf=new Map,{invalidate:HU,advance:jU}=Dle(Nf),{reconciler:Jy,applyProps:ad}=Cle(Nf,Ile),ld={objects:"shallow",strict:!1},kle=(t,e)=>{const n=typeof t=="function"?t(e):t;return aQ(n)?n:new ik({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Qle(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Hle(t){const e=Nf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Lle(HU,jU),o=n||Jy.createContainer(s,Od.ConcurrentRoot,null,!1,null,"",i,null);e||Nf.set(t,{fiber:o,store:s});let a,l=!1,A;return{configure(c={}){let{gl:u,size:d,scene:m,events:g,onCreated:x,shadows:y=!1,linear:v=!1,flat:w=!1,legacy:C=!1,orthographic:S=!1,frameloop:M="always",dpr:b=[1,2],performance:T,raycaster:L,camera:P,onPointerMissed:E}=c,U=s.getState(),j=U.gl;U.gl||U.set({gl:j=kle(u,t)});let Q=U.raycaster;Q||U.set({raycaster:Q=new Gk});const{params:G,...J}=L||{};if(Tn.equ(J,Q,ld)||ad(Q,{...J}),Tn.equ(G,Q.params,ld)||ad(Q,{params:{...Q.params,...G}}),!U.camera||U.camera===A&&!Tn.equ(A,P,ld)){A=P;const Y=P instanceof M2,re=Y?P:S?new Ya(0,0,0,0,.1,1e3):new er(75,0,.1,1e3);Y||(re.position.z=5,P&&(ad(re,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(re.manual=!0,re.updateProjectionMatrix())),!U.camera&&!(P!=null&&P.rotation)&&re.lookAt(0,0,0)),U.set({camera:re}),Q.camera=re}if(!U.scene){let Y;m instanceof $y?Y=m:(Y=new $y,m&&ad(Y,m)),U.set({scene:gd(Y)})}if(!U.xr){var k;const Y=(Fe,ce)=>{const pe=s.getState();pe.frameloop!=="never"&&jU(Fe,!0,pe,ce)},re=()=>{const Fe=s.getState();Fe.gl.xr.enabled=Fe.gl.xr.isPresenting,Fe.gl.xr.setAnimationLoop(Fe.gl.xr.isPresenting?Y:null),Fe.gl.xr.isPresenting||HU(Fe)},Se={connect(){const Fe=s.getState().gl;Fe.xr.addEventListener("sessionstart",re),Fe.xr.addEventListener("sessionend",re)},disconnect(){const Fe=s.getState().gl;Fe.xr.removeEventListener("sessionstart",re),Fe.xr.removeEventListener("sessionend",re)}};typeof((k=j.xr)==null?void 0:k.addEventListener)=="function"&&Se.connect(),U.set({xr:Se})}if(j.shadowMap){const Y=j.shadowMap.enabled,re=j.shadowMap.type;if(j.shadowMap.enabled=!!y,Tn.boo(y))j.shadowMap.type=D0;else if(Tn.str(y)){var V;const Se={basic:JD,percentage:dw,soft:D0,variance:mo};j.shadowMap.type=(V=Se[y])!=null?V:D0}else Tn.obj(y)&&Object.assign(j.shadowMap,y);(Y!==j.shadowMap.enabled||re!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const N=Jk();N&&("enabled"in N?N.enabled=!C:"legacyMode"in N&&(N.legacyMode=C)),l||ad(j,{outputEncoding:v?3e3:3001,toneMapping:w?ua:p5}),U.legacy!==C&&U.set(()=>({legacy:C})),U.linear!==v&&U.set(()=>({linear:v})),U.flat!==w&&U.set(()=>({flat:w})),u&&!Tn.fun(u)&&!aQ(u)&&!Tn.equ(u,j,ld)&&ad(j,u),g&&!U.events.handlers&&U.set({events:g(s)});const W=Qle(t,d);return Tn.equ(W,U.size,ld)||U.setSize(W.width,W.height,W.updateStyle,W.top,W.left),b&&U.viewport.dpr!==iQ(b)&&U.setDpr(b),U.frameloop!==M&&U.setFrameloop(M),U.onPointerMissed||U.set({onPointerMissed:E}),T&&!Tn.equ(T,U.performance,ld)&&U.set(Y=>({performance:{...Y.performance,...T}})),a=x,l=!0,this},render(c){return l||this.configure(),Jy.updateContainer(p.jsx(jle,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){uQ(t)}}}function jle({store:t,children:e,onCreated:n,rootElement:r}){return D2(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),p.jsx(lQ.Provider,{value:t,children:e})}function uQ(t,e){const n=Nf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Jy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ble(i),Nf.delete(t)}catch{}},500)})}}Jy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});const pS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Vle(t){const{handlePointer:e}=Ule(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(pS).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,A]=pS[o];n.addEventListener(l,a,{passive:A})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=pS[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function o4(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var A=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return A.clear=function(){r&&(clearTimeout(r),r=null)},A.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},A}o4.debounce=o4;var zle=o4;const VU=vu(zle);var Gle=Object.defineProperty,Kle=Object.defineProperties,Wle=Object.getOwnPropertyDescriptors,zU=Object.getOwnPropertySymbols,Xle=Object.prototype.hasOwnProperty,$le=Object.prototype.propertyIsEnumerable,GU=(t,e,n)=>e in t?Gle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KU=(t,e)=>{for(var n in e||(e={}))Xle.call(e,n)&&GU(t,n,e[n]);if(zU)for(var n of zU(e))$le.call(e,n)&&GU(t,n,e[n]);return t},Yle=(t,e)=>Kle(t,Wle(e)),WU,XU;typeof window<"u"&&((WU=window.document)!=null&&WU.createElement||((XU=window.navigator)==null?void 0:XU.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function dQ(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=dQ(r,e,n);if(i)return i;r=r.sibling}}function fQ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const $U=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=$U;return}return $U.apply(this,arguments)};const lM=fQ(F.createContext(null));class hQ extends F.Component{render(){return F.createElement(lM.Provider,{value:this._reactInternals},this.props.children)}}function qle(){const t=F.useContext(lM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=dQ(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Zle(){const t=qle(),[e]=F.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==lM&&!e.has(i)&&e.set(i,F.useContext(fQ(i)))}n=n.return}return e}function Jle(){const t=Zle();return F.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>F.createElement(e,null,F.createElement(n.Provider,Yle(KU({},r),{value:t.get(n)}))),e=>F.createElement(hQ,KU({},e))),[t])}function eAe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[s,o]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,A=t?typeof t=="number"?t:t.resize:null,c=F.useRef(!1);F.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[u,d,m]=F.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:w,top:C,width:S,height:M,bottom:b,right:T,x:L,y:P}=a.current.element.getBoundingClientRect(),E={left:w,top:C,width:S,height:M,bottom:b,right:T,x:L,y:P};a.current.element instanceof HTMLElement&&r&&(E.height=a.current.element.offsetHeight,E.width=a.current.element.offsetWidth),Object.freeze(E),c.current&&!iAe(a.current.lastBounds,E)&&o(a.current.lastBounds=E)};return[v,A?VU(v,A):v,l?VU(v,l):v]},[o,r,l,A]);function g(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){var v;a.current.element&&(a.current.resizeObserver=new i(d),(v=a.current.resizeObserver)==null||v.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=v=>{!v||v===a.current.element||(g(),a.current.element=v,a.current.scrollContainers=pQ(v),x())};return nAe(m,!!e),tAe(d),F.useEffect(()=>{g(),x()},[e,m,d]),F.useEffect(()=>g,[]),[y,s,u]}function tAe(t){F.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function nAe(t,e){F.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function pQ(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...pQ(t.parentElement)]}const rAe=["x","y","top","bottom","left","right","width","height"],iAe=(t,e)=>rAe.every(n=>t[n]===e[n]),sAe=F.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Vle,eventSource:a,eventPrefix:l,shadows:A,linear:c,flat:u,legacy:d,orthographic:m,frameloop:g,dpr:x,performance:y,raycaster:v,camera:w,scene:C,onPointerMissed:S,onCreated:M,...b},T){F.useMemo(()=>wle(cle),[]);const L=Jle(),[P,E]=eAe({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=F.useRef(null),j=F.useRef(null);F.useImperativeHandle(T,()=>U.current);const Q=tQ(S),[G,J]=F.useState(!1),[k,V]=F.useState(!1);if(G)throw G;if(k)throw k;const N=F.useRef(null);D2(()=>{const Y=U.current;E.width>0&&E.height>0&&Y&&(N.current||(N.current=Hle(Y)),N.current.configure({gl:s,events:o,shadows:A,linear:c,flat:u,legacy:d,orthographic:m,frameloop:g,dpr:x,performance:y,raycaster:v,camera:w,scene:C,size:E,onPointerMissed:(...re)=>Q.current==null?void 0:Q.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(a?Ble(a)?a.current:a:j.current),l&&re.setEvents({compute:(Se,Fe)=>{const ce=Se[l+"X"],pe=Se[l+"Y"];Fe.pointer.set(ce/Fe.size.width*2-1,-(pe/Fe.size.height)*2+1),Fe.raycaster.setFromCamera(Fe.pointer,Fe.camera)}}),M==null||M(re)}}),N.current.render(p.jsx(L,{children:p.jsx(nQ,{set:V,children:p.jsx(F.Suspense,{fallback:p.jsx(Sle,{set:J}),children:e})})})))}),F.useEffect(()=>{const Y=U.current;if(Y)return()=>uQ(Y)},[]);const W=a?"none":"auto";return p.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i},...b,children:p.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:p.jsx("canvas",{ref:U,style:{display:"block"},children:n})})})}),mQ=F.forwardRef(function(e,n){return p.jsx(hQ,{children:p.jsx(sAe,{...e,ref:n})})});function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(null,arguments)}var oAe=Object.defineProperty,aAe=(t,e,n)=>e in t?oAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ct=(t,e,n)=>(aAe(t,typeof e!="symbol"?e+"":e,n),n);const c1=new Cu,YU=new ka,lAe=Math.cos(70*(Math.PI/180)),qU=(t,e)=>(t%e+e)%e;let AAe=class extends No{constructor(e,n){super(),Ct(this,"object"),Ct(this,"domElement"),Ct(this,"enabled",!0),Ct(this,"target",new K),Ct(this,"minDistance",0),Ct(this,"maxDistance",1/0),Ct(this,"minZoom",0),Ct(this,"maxZoom",1/0),Ct(this,"minPolarAngle",0),Ct(this,"maxPolarAngle",Math.PI),Ct(this,"minAzimuthAngle",-1/0),Ct(this,"maxAzimuthAngle",1/0),Ct(this,"enableDamping",!1),Ct(this,"dampingFactor",.05),Ct(this,"enableZoom",!0),Ct(this,"zoomSpeed",1),Ct(this,"enableRotate",!0),Ct(this,"rotateSpeed",1),Ct(this,"enablePan",!0),Ct(this,"panSpeed",1),Ct(this,"screenSpacePanning",!0),Ct(this,"keyPanSpeed",7),Ct(this,"zoomToCursor",!1),Ct(this,"autoRotate",!1),Ct(this,"autoRotateSpeed",2),Ct(this,"reverseOrbit",!1),Ct(this,"reverseHorizontalOrbit",!1),Ct(this,"reverseVerticalOrbit",!1),Ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ct(this,"mouseButtons",{LEFT:fc.ROTATE,MIDDLE:fc.DOLLY,RIGHT:fc.PAN}),Ct(this,"touches",{ONE:hc.ROTATE,TWO:hc.DOLLY_PAN}),Ct(this,"target0"),Ct(this,"position0"),Ct(this,"zoom0"),Ct(this,"_domElementKeyEvents",null),Ct(this,"getPolarAngle"),Ct(this,"getAzimuthalAngle"),Ct(this,"setPolarAngle"),Ct(this,"setAzimuthalAngle"),Ct(this,"getDistance"),Ct(this,"getZoomScale"),Ct(this,"listenToKeyEvents"),Ct(this,"stopListenToKeyEvents"),Ct(this,"saveState"),Ct(this,"reset"),Ct(this,"update"),Ct(this,"connect"),Ct(this,"dispose"),Ct(this,"dollyIn"),Ct(this,"dollyOut"),Ct(this,"getScale"),Ct(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=Z=>{let Ne=qU(Z,2*Math.PI),$=c.phi;$<0&&($+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let De=Math.abs(Ne-$);2*Math.PI-De<De&&(Ne<$?Ne+=2*Math.PI:$+=2*Math.PI),u.phi=Ne-$,r.update()},this.setAzimuthalAngle=Z=>{let Ne=qU(Z,2*Math.PI),$=c.theta;$<0&&($+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let De=Math.abs(Ne-$);2*Math.PI-De<De&&(Ne<$?Ne+=2*Math.PI:$+=2*Math.PI),u.theta=Ne-$,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Z=>{Z.addEventListener("keydown",ke),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ke),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Z=new K,Ne=new K(0,1,0),$=new Pr().setFromUnitVectors(e.up,Ne),De=$.clone().invert(),me=new K,Re=new Pr,Ke=2*Math.PI;return function(){const Lt=r.object.position;$.setFromUnitVectors(e.up,Ne),De.copy($).invert(),Z.copy(Lt).sub(r.target),Z.applyQuaternion($),c.setFromVector3(Z),r.autoRotate&&l===a.NONE&&G(j()),r.enableDamping?(c.theta+=u.theta*r.dampingFactor,c.phi+=u.phi*r.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let Gt=r.minAzimuthAngle,It=r.maxAzimuthAngle;isFinite(Gt)&&isFinite(It)&&(Gt<-Math.PI?Gt+=Ke:Gt>Math.PI&&(Gt-=Ke),It<-Math.PI?It+=Ke:It>Math.PI&&(It-=Ke),Gt<=It?c.theta=Math.max(Gt,Math.min(It,c.theta)):c.theta=c.theta>(Gt+It)/2?Math.max(Gt,c.theta):Math.min(It,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&P||r.object.isOrthographicCamera?c.radius=Fe(c.radius):c.radius=Fe(c.radius*d),Z.setFromSpherical(c),Z.applyQuaternion(De),Lt.copy(r.target).add(Z),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),m.set(0,0,0));let ft=!1;if(r.zoomToCursor&&P){let Xt=null;if(r.object instanceof er&&r.object.isPerspectiveCamera){const cn=Z.length();Xt=Fe(cn*d);const Un=cn-Xt;r.object.position.addScaledVector(T,Un),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const cn=new K(L.x,L.y,0);cn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),ft=!0;const Un=new K(L.x,L.y,0);Un.unproject(r.object),r.object.position.sub(Un).add(cn),r.object.updateMatrixWorld(),Xt=Z.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Xt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Xt).add(r.object.position):(c1.origin.copy(r.object.position),c1.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(c1.direction))<lAe?e.lookAt(r.target):(YU.setFromNormalAndCoplanarPoint(r.object.up,r.target),c1.intersectPlane(YU,r.target))))}else r.object instanceof Ya&&r.object.isOrthographicCamera&&(ft=d!==1,ft&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,P=!1,ft||me.distanceToSquared(r.object.position)>A||8*(1-Re.dot(r.object.quaternion))>A?(r.dispatchEvent(i),me.copy(r.object.position),Re.copy(r.object.quaternion),ft=!1,!0):!1}})(),this.connect=Z=>{r.domElement=Z,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",je),r.domElement.addEventListener("pointerdown",ne),r.domElement.addEventListener("pointercancel",ge),r.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var Z,Ne,$,De,me,Re;r.domElement&&(r.domElement.style.touchAction="auto"),(Z=r.domElement)==null||Z.removeEventListener("contextmenu",je),(Ne=r.domElement)==null||Ne.removeEventListener("pointerdown",ne),($=r.domElement)==null||$.removeEventListener("pointercancel",ge),(De=r.domElement)==null||De.removeEventListener("wheel",Te),(me=r.domElement)==null||me.ownerDocument.removeEventListener("pointermove",xe),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",ge),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ke)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const A=1e-6,c=new n4,u=new n4;let d=1;const m=new K,g=new Ue,x=new Ue,y=new Ue,v=new Ue,w=new Ue,C=new Ue,S=new Ue,M=new Ue,b=new Ue,T=new K,L=new Ue;let P=!1;const E=[],U={};function j(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Q(){return Math.pow(.95,r.zoomSpeed)}function G(Z){r.reverseOrbit||r.reverseHorizontalOrbit?u.theta+=Z:u.theta-=Z}function J(Z){r.reverseOrbit||r.reverseVerticalOrbit?u.phi+=Z:u.phi-=Z}const k=(()=>{const Z=new K;return function($,De){Z.setFromMatrixColumn(De,0),Z.multiplyScalar(-$),m.add(Z)}})(),V=(()=>{const Z=new K;return function($,De){r.screenSpacePanning===!0?Z.setFromMatrixColumn(De,1):(Z.setFromMatrixColumn(De,0),Z.crossVectors(r.object.up,Z)),Z.multiplyScalar($),m.add(Z)}})(),N=(()=>{const Z=new K;return function($,De){const me=r.domElement;if(me&&r.object instanceof er&&r.object.isPerspectiveCamera){const Re=r.object.position;Z.copy(Re).sub(r.target);let Ke=Z.length();Ke*=Math.tan(r.object.fov/2*Math.PI/180),k(2*$*Ke/me.clientHeight,r.object.matrix),V(2*De*Ke/me.clientHeight,r.object.matrix)}else me&&r.object instanceof Ya&&r.object.isOrthographicCamera?(k($*(r.object.right-r.object.left)/r.object.zoom/me.clientWidth,r.object.matrix),V(De*(r.object.top-r.object.bottom)/r.object.zoom/me.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(Z){r.object instanceof er&&r.object.isPerspectiveCamera||r.object instanceof Ya&&r.object.isOrthographicCamera?d=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Y(Z){W(d/Z)}function re(Z){W(d*Z)}function Se(Z){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Ne=r.domElement.getBoundingClientRect(),$=Z.clientX-Ne.left,De=Z.clientY-Ne.top,me=Ne.width,Re=Ne.height;L.x=$/me*2-1,L.y=-(De/Re)*2+1,T.set(L.x,L.y,1).unproject(r.object).sub(r.object.position).normalize()}function Fe(Z){return Math.max(r.minDistance,Math.min(r.maxDistance,Z))}function ce(Z){g.set(Z.clientX,Z.clientY)}function pe(Z){Se(Z),S.set(Z.clientX,Z.clientY)}function Be(Z){v.set(Z.clientX,Z.clientY)}function Le(Z){x.set(Z.clientX,Z.clientY),y.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;Ne&&(G(2*Math.PI*y.x/Ne.clientHeight),J(2*Math.PI*y.y/Ne.clientHeight)),g.copy(x),r.update()}function oe(Z){M.set(Z.clientX,Z.clientY),b.subVectors(M,S),b.y>0?Y(Q()):b.y<0&&re(Q()),S.copy(M),r.update()}function ie(Z){w.set(Z.clientX,Z.clientY),C.subVectors(w,v).multiplyScalar(r.panSpeed),N(C.x,C.y),v.copy(w),r.update()}function de(Z){Se(Z),Z.deltaY<0?re(Q()):Z.deltaY>0&&Y(Q()),r.update()}function te(Z){let Ne=!1;switch(Z.code){case r.keys.UP:N(0,r.keyPanSpeed),Ne=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),Ne=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),Ne=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),Ne=!0;break}Ne&&(Z.preventDefault(),r.update())}function fe(){if(E.length==1)g.set(E[0].pageX,E[0].pageY);else{const Z=.5*(E[0].pageX+E[1].pageX),Ne=.5*(E[0].pageY+E[1].pageY);g.set(Z,Ne)}}function O(){if(E.length==1)v.set(E[0].pageX,E[0].pageY);else{const Z=.5*(E[0].pageX+E[1].pageX),Ne=.5*(E[0].pageY+E[1].pageY);v.set(Z,Ne)}}function Ie(){const Z=E[0].pageX-E[1].pageX,Ne=E[0].pageY-E[1].pageY,$=Math.sqrt(Z*Z+Ne*Ne);S.set(0,$)}function Pe(){r.enableZoom&&Ie(),r.enablePan&&O()}function q(){r.enableZoom&&Ie(),r.enableRotate&&fe()}function ae(Z){if(E.length==1)x.set(Z.pageX,Z.pageY);else{const $=Tt(Z),De=.5*(Z.pageX+$.x),me=.5*(Z.pageY+$.y);x.set(De,me)}y.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;Ne&&(G(2*Math.PI*y.x/Ne.clientHeight),J(2*Math.PI*y.y/Ne.clientHeight)),g.copy(x)}function be(Z){if(E.length==1)w.set(Z.pageX,Z.pageY);else{const Ne=Tt(Z),$=.5*(Z.pageX+Ne.x),De=.5*(Z.pageY+Ne.y);w.set($,De)}C.subVectors(w,v).multiplyScalar(r.panSpeed),N(C.x,C.y),v.copy(w)}function he(Z){const Ne=Tt(Z),$=Z.pageX-Ne.x,De=Z.pageY-Ne.y,me=Math.sqrt($*$+De*De);M.set(0,me),b.set(0,Math.pow(M.y/S.y,r.zoomSpeed)),Y(b.y),S.copy(M)}function H(Z){r.enableZoom&&he(Z),r.enablePan&&be(Z)}function D(Z){r.enableZoom&&he(Z),r.enableRotate&&ae(Z)}function ne(Z){var Ne,$;r.enabled!==!1&&(E.length===0&&((Ne=r.domElement)==null||Ne.ownerDocument.addEventListener("pointermove",xe),($=r.domElement)==null||$.ownerDocument.addEventListener("pointerup",ge)),st(Z),Z.pointerType==="touch"?St(Z):ve(Z))}function xe(Z){r.enabled!==!1&&(Z.pointerType==="touch"?Oe(Z):Qe(Z))}function ge(Z){var Ne,$,De;ut(Z),E.length===0&&((Ne=r.domElement)==null||Ne.releasePointerCapture(Z.pointerId),($=r.domElement)==null||$.ownerDocument.removeEventListener("pointermove",xe),(De=r.domElement)==null||De.ownerDocument.removeEventListener("pointerup",ge)),r.dispatchEvent(o),l=a.NONE}function ve(Z){let Ne;switch(Z.button){case 0:Ne=r.mouseButtons.LEFT;break;case 1:Ne=r.mouseButtons.MIDDLE;break;case 2:Ne=r.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case fc.DOLLY:if(r.enableZoom===!1)return;pe(Z),l=a.DOLLY;break;case fc.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enablePan===!1)return;Be(Z),l=a.PAN}else{if(r.enableRotate===!1)return;ce(Z),l=a.ROTATE}break;case fc.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enableRotate===!1)return;ce(Z),l=a.ROTATE}else{if(r.enablePan===!1)return;Be(Z),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Qe(Z){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Le(Z);break;case a.DOLLY:if(r.enableZoom===!1)return;oe(Z);break;case a.PAN:if(r.enablePan===!1)return;ie(Z);break}}function Te(Z){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Z.preventDefault(),r.dispatchEvent(s),de(Z),r.dispatchEvent(o))}function ke(Z){r.enabled===!1||r.enablePan===!1||te(Z)}function St(Z){switch(Ye(Z),E.length){case 1:switch(r.touches.ONE){case hc.ROTATE:if(r.enableRotate===!1)return;fe(),l=a.TOUCH_ROTATE;break;case hc.PAN:if(r.enablePan===!1)return;O(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case hc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Pe(),l=a.TOUCH_DOLLY_PAN;break;case hc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;q(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Oe(Z){switch(Ye(Z),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ae(Z),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;be(Z),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;H(Z),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;D(Z),r.update();break;default:l=a.NONE}}function je(Z){r.enabled!==!1&&Z.preventDefault()}function st(Z){E.push(Z)}function ut(Z){delete U[Z.pointerId];for(let Ne=0;Ne<E.length;Ne++)if(E[Ne].pointerId==Z.pointerId){E.splice(Ne,1);return}}function Ye(Z){let Ne=U[Z.pointerId];Ne===void 0&&(Ne=new Ue,U[Z.pointerId]=Ne),Ne.set(Z.pageX,Z.pageY)}function Tt(Z){const Ne=Z.pointerId===E[0].pointerId?E[1]:E[0];return U[Ne.pointerId]}this.dollyIn=(Z=Q())=>{re(Z),r.update()},this.dollyOut=(Z=Q())=>{Y(Z),r.update()},this.getScale=()=>d,this.setScale=Z=>{W(Z),r.update()},this.getZoomScale=()=>Q(),n!==void 0&&this.connect(n),this.update()}};const gQ=F.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...A},c)=>{const u=Fl(b=>b.invalidate),d=Fl(b=>b.camera),m=Fl(b=>b.gl),g=Fl(b=>b.events),x=Fl(b=>b.setEvents),y=Fl(b=>b.set),v=Fl(b=>b.get),w=Fl(b=>b.performance),C=e||d,S=r||g.connected||m.domElement,M=F.useMemo(()=>new AAe(C),[C]);return Ole(()=>{M.enabled&&M.update()},-1),F.useEffect(()=>(s&&M.connect(s===!0?S:s),M.connect(S),()=>void M.dispose()),[s,S,n,M,u]),F.useEffect(()=>{const b=P=>{u(),n&&w.regress(),o&&o(P)},T=P=>{a&&a(P)},L=P=>{l&&l(P)};return M.addEventListener("change",b),M.addEventListener("start",T),M.addEventListener("end",L),()=>{M.removeEventListener("start",T),M.removeEventListener("end",L),M.removeEventListener("change",b)}},[o,a,l,M,u,x]),F.useEffect(()=>{if(t){const b=v().controls;return y({controls:M}),()=>y({controls:b})}},[t,M]),F.createElement("primitive",jp({ref:c,object:M,enableDamping:i},A))});function ZU(t,e){if(e===IO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Xy||e===E5){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(e===Xy)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class bu extends Pi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new hAe(n)}),this.register(function(n){return new pAe(n)}),this.register(function(n){return new SAe(n)}),this.register(function(n){return new _Ae(n)}),this.register(function(n){return new EAe(n)}),this.register(function(n){return new gAe(n)}),this.register(function(n){return new vAe(n)}),this.register(function(n){return new yAe(n)}),this.register(function(n){return new xAe(n)}),this.register(function(n){return new fAe(n)}),this.register(function(n){return new wAe(n)}),this.register(function(n){return new mAe(n)}),this.register(function(n){return new BAe(n)}),this.register(function(n){return new CAe(n)}),this.register(function(n){return new uAe(n)}),this.register(function(n){return new bAe(n)}),this.register(function(n){return new MAe(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const A=xA.extractUrlBase(e);o=xA.resolveURL(A,this.path)}else o=xA.extractUrlBase(e);this.manager.itemStart(e);const a=function(A){i?i(A):console.error(A),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Lo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(A){try{s.parse(A,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===vQ){try{o[qt.KHR_BINARY_GLTF]=new TAe(e)}catch(u){i&&i(u);return}s=JSON.parse(o[qt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const A=new jAe(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](A);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case qt.KHR_MATERIALS_UNLIT:o[u]=new dAe;break;case qt.KHR_DRACO_MESH_COMPRESSION:o[u]=new IAe(s,this.dracoLoader);break;case qt.KHR_TEXTURE_TRANSFORM:o[u]=new FAe;break;case qt.KHR_MESH_QUANTIZATION:o[u]=new UAe;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}A.setExtensions(o),A.setPlugins(a),A.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function cAe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class uAe{constructor(e){this.parser=e,this.name=qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let A;const c=new We(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],Or);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":A=new eM(c),A.target.position.set(0,0,-1),A.add(A.target);break;case"point":A=new J5(c),A.distance=u;break;case"spot":A=new Z5(c),A.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,A.angle=l.spot.outerConeAngle,A.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,A.target.position.set(0,0,-1),A.add(A.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return A.position.set(0,0,0),A.decay=2,Na(A,l),l.intensity!==void 0&&(A.intensity=l.intensity),A.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(A),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class dAe{constructor(){this.name=qt.KHR_MATERIALS_UNLIT}getMaterialType(){return hs}extendParams(e,n,r){const i=[];e.color=new We(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Or),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Vr))}return Promise.all(i)}}class fAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class hAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ue(a,a)}return Promise.all(s)}}class pAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class mAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class gAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new We(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Or)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Vr)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class vAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class yAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new We().setRGB(a[0],a[1],a[2],Or),Promise.all(s)}}class xAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class wAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new We().setRGB(a[0],a[1],a[2],Or),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,Vr)),Promise.all(s)}}class CAe{constructor(e){this.parser=e,this.name=qt.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class BAe{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:so}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class SAe{constructor(e){this.parser=e,this.name=qt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class _Ae{constructor(e){this.parser=e,this.name=qt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const A=r.options.manager.getHandler(a.uri);A!==null&&(l=A)}return this.detectSupport().then(function(A){if(A)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class EAe{constructor(e){this.parser=e,this.name=qt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const A=r.options.manager.getHandler(a.uri);A!==null&&(l=A)}return this.detectSupport().then(function(A){if(A)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class bAe{constructor(e){this.name=qt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,A=i.byteLength||0,c=i.count,u=i.byteStride,d=new Uint8Array(a,l,A);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,u,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*u);return o.decodeGltfBuffer(new Uint8Array(m),c,u,d,i.mode,i.filter),m})})}else return null}}class MAe{constructor(e){this.name=qt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const A of i.primitives)if(A.mode!==Os.TRIANGLES&&A.mode!==Os.TRIANGLE_STRIP&&A.mode!==Os.TRIANGLE_FAN&&A.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const A in o)a.push(this.parser.getDependency("accessor",o[A]).then(c=>(l[A]=c,l[A])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(A=>{const c=A.pop(),u=c.isGroup?c.children:[c],d=A[0].count,m=[];for(const g of u){const x=new xt,y=new K,v=new Pr,w=new K(1,1,1),C=new O5(g.geometry,g.material,d);for(let S=0;S<d;S++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,S),l.SCALE&&w.fromBufferAttribute(l.SCALE,S),C.setMatrixAt(S,x.compose(y,v,w));for(const S in l)if(S==="_COLOR_0"){const M=l[S];C.instanceColor=new uu(M.array,M.itemSize,M.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&g.geometry.setAttribute(S,l[S]);tn.prototype.copy.call(C,g),this.parser.assignFinalMaterial(C),m.push(C)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const vQ="glTF",e0=12,JU={JSON:1313821514,BIN:5130562};class TAe{constructor(e){this.name=qt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,e0),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==vQ)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-e0,s=new DataView(e,e0);let o=0;for(;o<i;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===JU.JSON){const A=new Uint8Array(e,e0+o,a);this.content=r.decode(A)}else if(l===JU.BIN){const A=e0+o;this.body=e.slice(A,A+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class IAe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=qt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},A={};for(const c in o){const u=a4[c]||c.toLowerCase();a[u]=o[c]}for(const c in e.attributes){const u=a4[c]||c.toLowerCase();if(o[c]!==void 0){const d=r.accessors[e.attributes[c]],m=qd[d.componentType];A[u]=m.name,l[u]=d.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(u,d){i.decodeDracoFile(c,function(m){for(const g in m.attributes){const x=m.attributes[g],y=l[g];y!==void 0&&(x.normalized=y)}u(m)},a,A,Or,d)})})}}class FAe{constructor(){this.name=qt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class UAe{constructor(){this.name=qt.KHR_MESH_QUANTIZATION}}class yQ extends rh{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,A=a*3,c=i-n,u=(r-n)/c,d=u*u,m=d*u,g=e*A,x=g-A,y=-2*m+3*d,v=m-d,w=1-y,C=v-d+u;for(let S=0;S!==a;S++){const M=o[x+S+a],b=o[x+S+l]*c,T=o[g+S+a],L=o[g+S]*c;s[S]=w*M+C*b+y*T+v*L}return s}}const LAe=new Pr;class RAe extends yQ{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return LAe.fromArray(s).normalize().toArray(s),s}}const Os={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},qd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},e7={9728:Sr,9729:tr,9984:hw,9985:$d,9986:bc,9987:Xs},t7={33071:fs,33648:Tf,10497:IA},mS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},a4={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ul={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},PAe={CUBICSPLINE:void 0,LINEAR:Uf,STEP:Ff},gS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function NAe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new N2({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ha})),t.DefaultMaterial}function lc(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Na(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function DAe(t,e,n){let r=!1,i=!1,s=!1;for(let A=0,c=e.length;A<c;A++){const u=e[A];if(u.POSITION!==void 0&&(r=!0),u.NORMAL!==void 0&&(i=!0),u.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let A=0,c=e.length;A<c;A++){const u=e[A];if(r){const d=u.POSITION!==void 0?n.getDependency("accessor",u.POSITION):t.attributes.position;o.push(d)}if(i){const d=u.NORMAL!==void 0?n.getDependency("accessor",u.NORMAL):t.attributes.normal;a.push(d)}if(s){const d=u.COLOR_0!==void 0?n.getDependency("accessor",u.COLOR_0):t.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(A){const c=A[0],u=A[1],d=A[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=u),s&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function OAe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function kAe(t){let e;const n=t.extensions&&t.extensions[qt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+vS(n.attributes):e=t.indices+":"+vS(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+vS(t.targets[r]);return e}function vS(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function l4(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function QAe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const HAe=new xt;class jAe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new cAe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=-1,s=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;r=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);i=r&&l?parseInt(l[1],10):-1,s=a.indexOf("Firefox")>-1,o=s?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||r&&i<17||s&&o<98?this.textureLoader=new Lk(this.options.manager):this.textureLoader=new Hk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Lo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return lc(s,a,i),Na(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[A,c]of o.children.entries())s(c,a.children[A])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[qt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(xA.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=mS[i.type],a=qd[i.componentType],l=i.normalized===!0,A=new a(i.count*o);return Promise.resolve(new mn(A,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=mS[i.type],A=qd[i.componentType],c=A.BYTES_PER_ELEMENT,u=c*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let x,y;if(m&&m!==u){const v=Math.floor(d/m),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count;let C=n.cache.get(w);C||(x=new A(a,v*m,i.count*m/c),C=new F2(x,m/c),n.cache.add(w,C)),y=new FA(C,l,d%m/c,g)}else a===null?x=new A(i.count*l):x=new A(a,d,i.count*l),y=new mn(x,l,g);if(i.sparse!==void 0){const v=mS.SCALAR,w=qd[i.sparse.indices.componentType],C=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,M=new w(o[1],C,i.sparse.count*v),b=new A(o[2],S,i.sparse.count*l);a!==null&&(y=new mn(y.array.slice(),y.itemSize,y.normalized)),y.normalized=!1;for(let T=0,L=M.length;T<L;T++){const P=M[T];if(y.setX(P,b[T*l]),l>=2&&y.setY(P,b[T*l+1]),l>=3&&y.setZ(P,b[T*l+2]),l>=4&&y.setW(P,b[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}y.normalized=g}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const A=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=e7[d.magFilter]||tr,c.minFilter=e7[d.minFilter]||Xs,c.wrapS=t7[d.wrapS]||IA,c.wrapT=t7[d.wrapT]||IA,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=A,A}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",A=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(u){A=!0;const d=new Blob([u],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(u){return new Promise(function(d,m){let g=d;n.isImageBitmapLoader===!0&&(g=function(x){const y=new Pn(x);y.needsUpdate=!0,d(y)}),n.load(xA.resolveURL(u,s.path),g,void 0,m)})}).then(function(u){return A===!0&&a.revokeObjectURL(l),Na(u,o),u.userData.mimeType=o.mimeType||QAe(o.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[qt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[qt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[qt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.colorSpace=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Mw,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new di,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return N2}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},A=[];if(l[qt.KHR_MATERIALS_UNLIT]){const u=i[qt.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),A.push(u.extendParams(a,s,n))}else{const u=s.pbrMetallicRoughness||{};if(a.color=new We(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const d=u.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Or),a.opacity=d[3]}u.baseColorTexture!==void 0&&A.push(n.assignTexture(a,"map",u.baseColorTexture,Vr)),a.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,a.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(A.push(n.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),A.push(n.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),A.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Bo);const c=s.alphaMode||gS.OPAQUE;if(c===gS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===gS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==hs&&(A.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ue(1,1),s.normalTexture.scale!==void 0)){const u=s.normalTexture.scale;a.normalScale.set(u,u)}if(s.occlusionTexture!==void 0&&o!==hs&&(A.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==hs){const u=s.emissiveFactor;a.emissive=new We().setRGB(u[0],u[1],u[2],Or)}return s.emissiveTexture!==void 0&&o!==hs&&A.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,Vr)),Promise.all(A).then(function(){const u=new o(a);return s.name&&(u.name=s.name),Na(u,s),n.associations.set(u,{materials:e}),s.extensions&&lc(i,u,s),u})}createUniqueName(e){const n=rn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return n7(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const A=e[a],c=kAe(A),u=i[c];if(u)o.push(u.promise);else{let d;A.extensions&&A.extensions[qt.KHR_DRACO_MESH_COMPRESSION]?d=s(A):d=n7(new kt,A,n),i[c]={primitive:A,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,A=o.length;l<A;l++){const c=o[l].material===void 0?NAe(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const A=l.slice(0,l.length-1),c=l[l.length-1],u=[];for(let m=0,g=c.length;m<g;m++){const x=c[m],y=o[m];let v;const w=A[m];if(y.mode===Os.TRIANGLES||y.mode===Os.TRIANGLE_STRIP||y.mode===Os.TRIANGLE_FAN||y.mode===void 0)v=s.isSkinnedMesh===!0?new D5(x,w):new lr(x,w),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),y.mode===Os.TRIANGLE_STRIP?v.geometry=ZU(v.geometry,E5):y.mode===Os.TRIANGLE_FAN&&(v.geometry=ZU(v.geometry,Xy));else if(y.mode===Os.LINES)v=new Do(x,w);else if(y.mode===Os.LINE_STRIP)v=new sl(x,w);else if(y.mode===Os.LINE_LOOP)v=new k5(x,w);else if(y.mode===Os.POINTS)v=new Q5(x,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(v.geometry.morphAttributes).length>0&&OAe(v,s),v.name=n.createUniqueName(s.name||"mesh_"+e),Na(v,s),y.extensions&&lc(i,v,y),n.assignFinalMaterial(v),u.push(v)}for(let m=0,g=u.length;m<g;m++)n.associations.set(u[m],{meshes:e,primitives:m});if(u.length===1)return s.extensions&&lc(i,u[0],s),u[0];const d=new Ka;s.extensions&&lc(i,d,s),n.associations.set(d,{meshes:e});for(let m=0,g=u.length;m<g;m++)d.add(u[m]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new er(HO.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Ya(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Na(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let A=0,c=o.length;A<c;A++){const u=o[A];if(u){a.push(u);const d=new xt;s!==null&&d.fromArray(s.array,A*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[A])}return new U2(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],A=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const m=i.channels[u],g=i.samplers[m.sampler],x=m.target,y=x.node,v=i.parameters!==void 0?i.parameters[g.input]:g.input,w=i.parameters!==void 0?i.parameters[g.output]:g.output;x.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",w)),A.push(g),c.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(A),Promise.all(c)]).then(function(u){const d=u[0],m=u[1],g=u[2],x=u[3],y=u[4],v=[];for(let w=0,C=d.length;w<C;w++){const S=d[w],M=m[w],b=g[w],T=x[w],L=y[w];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const P=r._createAnimationTracks(S,M,b,T,L);if(P)for(let E=0;E<P.length;E++)v.push(P[E])}return new Pf(s,void 0,v)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,A=i.weights.length;l<A;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let A=0,c=a.length;A<c;A++)o.push(r.getDependency("node",a[A]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(A){const c=A[0],u=A[1],d=A[2];d!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(d,HAe)});for(let m=0,g=u.length;m<g;m++)c.add(u[m]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(A){return A.createNodeMesh&&A.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(A){return i._getNodeRef(i.cameraCache,s.camera,A)})),i._invokeAll(function(A){return A.createNodeAttachment&&A.createNodeAttachment(e)}).forEach(function(A){a.push(A)}),this.nodeCache[e]=Promise.all(a).then(function(A){let c;if(s.isBone===!0?c=new bw:A.length>1?c=new Ka:A.length===1?c=A[0]:c=new tn,c!==A[0])for(let u=0,d=A.length;u<d;u++)c.add(A[u]);if(s.name&&(c.userData.name=s.name,c.name=o),Na(c,s),s.extensions&&lc(r,c,s),s.matrix!==void 0){const u=new xt;u.fromArray(s.matrix),c.applyMatrix4(u)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Ka;r.name&&(s.name=i.createUniqueName(r.name)),Na(s,r),r.extensions&&lc(n,s,r);const o=r.nodes||[],a=[];for(let l=0,A=o.length;l<A;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,u=l.length;c<u;c++)s.add(l[c]);const A=c=>{const u=new Map;for(const[d,m]of i.associations)(d instanceof pr||d instanceof Pn)&&u.set(d,m);return c.traverse(d=>{const m=i.associations.get(d);m!=null&&u.set(d,m)}),u};return i.associations=A(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Ul[s.path]===Ul.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let A;switch(Ul[s.path]){case Ul.weights:A=fu;break;case Ul.rotation:A=hu;break;case Ul.position:case Ul.scale:A=pu;break;default:switch(r.itemSize){case 1:A=fu;break;case 2:case 3:default:A=pu;break}break}const c=i.interpolation!==void 0?PAe[i.interpolation]:Uf,u=this._getArrayFromAccessor(r);for(let d=0,m=l.length;d<m;d++){const g=new A(l[d]+"."+Ul[s.path],n.array,u,c);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=l4(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof hu?RAe:yQ;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function VAe(t,e,n){const r=e.attributes,i=new ci;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,A=a.max;if(l!==void 0&&A!==void 0){if(i.set(new K(l[0],l[1],l[2]),new K(A[0],A[1],A[2])),a.normalized){const c=l4(qd[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new K,l=new K;for(let A=0,c=s.length;A<c;A++){const u=s[A];if(u.POSITION!==void 0){const d=n.json.accessors[u.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const x=l4(qd[d.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Wr;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function n7(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=a4[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return sn.workingColorSpace!==Or&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${sn.workingColorSpace}" not supported.`),Na(t,e),VAe(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?DAe(t,e.targets,n):t})}const zAe=async t=>{try{const e=await Ut(`/users/${t}`);return console.log("유저 정보 조회 성공: ",e),e}catch(e){throw console.error("유저 정보 조회 실패: ",e),e}},GAe=async t=>{try{const e=await Ut(`/users/${t}/growth`);return console.log("유저 레벨 정보 조회 성공: ",e),e}catch(e){throw console.error("유저 레벨 정보 조회 실패: ",e),e}},KAe=async()=>{try{const t=await Ut("/badges");return console.log("배지 리스트 조회 성공: ",t),t}catch(t){throw console.error("배지 리스트 조회 실패: ",t),t}},WAe=async t=>{try{const e=await Ut(`/users/${t}/character`);return console.log("유저 아이템 조회 성공: ",e),e}catch(e){throw console.error("유저 아이템 조회 실패: ",e),e}},XAe=async()=>{try{const t=await Ut("/items");return console.log("아이템 리스트 조회 성공: ",t),t}catch(t){throw console.error("아이템 리스트 조회 실패: ",t),t}},$Ae=async t=>{try{const e=await eo("items",{equippedUserItemIdList:t});return console.log("캐릭터 아이템 장착상태 변경 성공: ",e),e}catch(e){throw console.error("캐릭터 아이템 장착상태 변경 실패: ",e),e}},YAe=()=>{const t=cl(bu,"/assets/characterPage/babyduck.glb");return p.jsx("primitive",{object:t.scene,scale:1.9,position:[0,-2.9,0],rotation:[.15,-.2,0]})},qAe=({itemName:t})=>{if(!t)return null;const e=cl(bu,"/assets/characterPage/items/HAT/HAT_03.glb");return p.jsx("primitive",{object:e.scene,scale:1.9,position:[0,-2.85,0],rotation:[.15,-.2,0]})},ZAe=({itemName:t})=>{if(!t)return null;const e=cl(bu,`/assets/characterPage/items/CLOTHES/${t}.glb`);return p.jsx("primitive",{object:e.scene,scale:1.9,position:[0,-2.8,.05],rotation:[.15,-.2,0]})},JAe=({itemName:t})=>{if(!t)return null;const e=cl(bu,`/assets/characterPage/items/PROP/${t}.glb`);return p.jsx("primitive",{object:e.scene,scale:1.9,position:[0,-2.8,0],rotation:[.15,-.2,0]})},ece=({itemName:t})=>{if(!t)return null;const e=cl(bu,`/assets/characterPage/items/FACE/${t}.glb`);return p.jsx("primitive",{object:e.scene,scale:1.9,position:[0,-2.8,0],rotation:[.15,-.2,0]})},tce=({itemName:t})=>{if(!t)return null;const e=cl(bu,`/assets/characterPage/items/BAG/${t}.glb`);return p.jsx("primitive",{object:e.scene,scale:1.9,position:[0,-2.8,0],rotation:[.15,-.2,0]})},Mu=({userId:t,selectedItems:e})=>{const[n,r]=F.useState(null),[i,s]=F.useState(!0);if(F.useEffect(()=>{(async()=>{try{const l=await WAe(t);console.log("아이템 조회성공: ",l),r(l)}catch(l){console.error("오류 발생: ",l)}finally{s(!1)}})()},[]),i)return p.jsx("div",{className:"text-center mt-10"});const o=e?Object.entries(e).map(([a,l])=>({itemType:a,itemName:l})):(n==null?void 0:n.itemEquipped)||[];return p.jsx("div",{className:"w-full h-full",children:p.jsxs(mQ,{children:[p.jsx("ambientLight",{intensity:3,color:"#ffe6a6"}),p.jsx("directionalLight",{position:[0,5,5],intensity:3}),p.jsx(YAe,{}),o.map(a=>{switch(a.itemType){case"HAT":return p.jsx(qAe,{itemName:a.itemName},"hat");case"CLOTHES":return p.jsx(ZAe,{itemName:a.itemName},"clothes");case"PROP":return p.jsx(JAe,{itemName:a.itemName},"prop");case"FACE":return p.jsx(ece,{itemName:a.itemName},"face");case"BAG":return p.jsx(tce,{itemName:a.itemName},"bag");default:return null}}),p.jsx(gQ,{enablePan:!0,enableRotate:!0,enableZoom:!1,minAzimuthAngle:-Math.PI/3,maxAzimuthAngle:Math.PI/3})]})})},nce=Object.freeze(Object.defineProperty({__proto__:null,default:Mu},Symbol.toStringTag,{value:"Module"})),rce="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.0002%2015.168L10.8335%209.79302V9.03469C12.2085%208.62636%2013.1669%207.22635%2012.8585%205.65969C12.6419%204.56802%2011.7752%203.65969%2010.6835%203.40969C9.21688%203.07636%207.87522%203.85135%207.33355%205.05969C7.08355%205.61802%207.48355%206.25135%208.09188%206.25135C8.41688%206.25135%208.71688%206.06802%208.84188%205.77635C9.03355%205.31802%209.47522%205.00135%2010.0002%205.00135C10.6919%205.00135%2011.2502%205.55969%2011.2502%206.25135C11.2502%206.95135%2010.6752%207.51802%209.97522%207.50136C9.52522%207.49302%209.16688%207.87635%209.16688%208.32635V9.79302L2.00022%2015.168C1.35855%2015.6514%201.70022%2016.668%202.50022%2016.668H17.5002C18.3002%2016.668%2018.6419%2015.6514%2018.0002%2015.168ZM5.00022%2015.0014L10.0002%2011.2514L15.0002%2015.0014H5.00022Z'%20fill='%23FF9F1C'/%3e%3c/svg%3e",ice=()=>{const t=Bt(),e=()=>{t("/character/custom")};return p.jsxs("div",{className:"flex justify-between items-center px-4 py-1 w-full h-[2.75rem]",children:[p.jsx("div",{className:"text-t2 font-semibold",children:"캐릭터"}),p.jsxs("div",{className:"flex items-center px-4 py-2 gap-1 bg-orange-50 rounded-[100px] cursor-pointer",onClick:e,children:[p.jsx("img",{className:"w-5 h-5",src:rce,alt:"costume Icon"}),p.jsx("div",{className:"text-b2 font-semibold text-orange-400",children:"꾸미기"})]})]})},sce=({onClick:t})=>p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[200]",children:p.jsxs("div",{className:"flex flex-col py-4 gap-5 bg-white w-[330px] rounded-[20px]",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx("div",{className:"flex justify-center items-center text-t2 text-center font-semibold h-[3rem]",children:"레벨업을 위한 팁!"}),p.jsxs("div",{className:"flex flex-col items-center px-7 gap-3 text-b1",children:[p.jsx("span",{children:"1. 독서기록 작성하기"}),p.jsx("span",{children:"2. 별점과 한줄평 꼭 남기기"}),p.jsx("span",{children:"3. 완독 후 ‘다 읽었어요’로 저장하기"})]}),p.jsx("div",{className:"mx-4 p-3 bg-gray-10 text-center text-gray-500 text-btn4 rounded-lg",children:"💡 레벨업 팁을 참고하여 경험치를 쌓아보세요!"})]}),p.jsx("div",{className:"px-4 h-12",children:p.jsx("button",{className:"text-b1 font-semibold text-white bg-gray-700 p-[10px] w-[100%] h-12 rounded-[8px]",onClick:t,children:"확인"})})]})}),oce=()=>{const t=Bt(),e=()=>{t("/myBadge")},[n,r]=F.useState(!1),i=()=>{r(!n)},[s,o]=F.useState(null),[a,l]=F.useState(null),[A,c]=F.useState(!0);if(F.useEffect(()=>{(async()=>{try{const m=Bs(),g=await GAe(m),x=await zAe(m);console.log("조회성공: ",g),o(g),l(x)}catch(m){console.error("오류 발생: ",m)}finally{c(!1)}})()},[]),A)return p.jsx("div",{className:"text-center mt-10"});const u=(s==null?void 0:s.expInCurrentLevel)===0?0:Math.round((s==null?void 0:s.expInCurrentLevel)/(s==null?void 0:s.expToNextLevel)*100);return p.jsxs("div",{className:"w-full w-max-[64rem] flex flex-col justify-center items-center",children:[p.jsx(ice,{}),p.jsxs("div",{className:"flex flex-col mt-[4.25rem] gap-1 w-full h-[23.125rem]",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"flex justify-center px-6 py-2 bg-gray-50 rounded-[6.25rem] text-b2 font-semibold text-gray-500 h-10",children:"독서하기 좋은 날~"}),p.jsx("img",{className:"w-4 h-3 mt-[-0.0625rem]",src:$D})]}),p.jsx("div",{className:"flex mt-4 h-[20.625rem]",children:p.jsx(Mu,{userId:Bs()})})]}),p.jsxs("div",{className:"flex flex-col mt-11 p-4 gap-4 w-full",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"text-st font-semibold text-orange-400",children:["레벨",s==null?void 0:s.level]}),p.jsx("div",{className:"text-b1 font-semibold",children:a==null?void 0:a.nickname})]}),p.jsxs("div",{className:"flex items-center gap-1 text-btn4 text-gray-400 cursor-pointer",onClick:i,children:["레벨업",p.jsx("img",{className:"w-4 h-4",src:YD})]}),n&&p.jsx(sce,{onClick:i})]}),p.jsxs("div",{className:"flex items-center gap-4 w-full h-6",children:[p.jsx("div",{className:"bg-gray-100 rounded-[6.25rem] w-full",children:p.jsx("div",{className:"bg-orange-gradation-level rounded-[6.25rem] h-5",style:{width:`${u}%`}})}),p.jsxs("div",{className:"text-b2 text-gray-400",children:[u,"%"]})]}),p.jsxs("div",{className:"flex justify-between my-4 px-4  py-3 bg-gray-10 rounded-xl w-full cursor-pointer",onClick:e,children:[p.jsx("div",{className:"text-b2 text-gray-500 font-semibold ",children:"나의 배지"}),p.jsx("img",{className:"w-6 h-6",src:aee})]})]}),p.jsx(qf,{})]})},ace="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.9165%2015L0.916504%208L7.9165%201'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cline%20x1='1.6665'%20y1='8.18335'%20x2='15.3332'%20y2='8.18335'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",lce=({onClick:t})=>p.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:p.jsxs("div",{className:"flex flex-col py-4 gap-8 bg-white w-[330px] rounded-[20px]",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("div",{className:"flex justify-center items-center text-st text-center font-semibold h-[48px]",children:"배지 종류"}),p.jsxs("div",{className:"flex flex-col px-8 gap-5 ",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("div",{className:"text-b1 font-semibold",children:"열정적인 독자"}),p.jsx("div",{className:"text-b2 text-gray-500",children:"다 읽은 책 권수에 따라 획득할 수 있어요"})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("div",{className:"text-b1 font-semibold",children:"꼼꼼한 기록자"}),p.jsx("div",{className:"text-b2 text-gray-500",children:"기록카드 개수에 따라 획득할 수 있어요"})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("div",{className:"text-b1 font-semibold",children:"성실한 평가자"}),p.jsx("div",{className:"text-b2 text-gray-500",children:"남긴 한줄평 개수에 따라 획득할 수 있어요"})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("div",{className:"text-b1 font-semibold",children:"레벨업 마스터"}),p.jsx("div",{className:"text-b2 text-gray-500",children:"레벨이 일정 단계에 도달하면 얻을 수 있어요"})]})]})]}),p.jsx("div",{className:"px-4 h-12",children:p.jsx("button",{className:"text-b1 font-semibold text-white bg-gray-700 p-[10px] w-[100%] h-12 rounded-[8px]",onClick:t,children:"닫기"})})]})}),Ace=()=>{const t=Bt(),e=()=>{t(-1)},[n,r]=F.useState(!1),i=()=>{r(!n)};return p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"flex items-center justify-between py-1 w-full h-[2.75rem] px-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("button",{className:"w-[36px] h-[36px]",onClick:e,children:p.jsx("img",{src:ace,alt:"backIcon"})}),p.jsx("div",{className:"text-st font-semibold",children:"나의 배지"})," "]}),p.jsxs("div",{className:"flex items-center gap-1 text-btn4 text-gray-400 cursor-pointer",onClick:i,children:["배지 종류",p.jsx("img",{className:"w-4 h-4",src:YD})]})]}),n&&p.jsx(lce,{onClick:i})]})},xQ="data:image/svg+xml,%3csvg%20width='20'%20height='24'%20viewBox='0%200%2020%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1872_36385)'%3e%3cpath%20d='M5%2011V7C5%205.67392%205.52678%204.40215%206.46447%203.46447C7.40215%202.52678%208.67392%202%2010%202C11.3261%202%2012.5979%202.52678%2013.5355%203.46447C14.4732%204.40215%2015%205.67392%2015%207V11'%20stroke='%23E2E2E2'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cmask%20id='path-2-inside-1_1872_36385'%20fill='white'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.22222%209H17.7778C19.0051%209%2020%2010.221%2020%2011.7273V21.2727C20%2022.779%2019.0051%2024%2017.7778%2024H2.22222C0.994923%2024%200%2022.779%200%2021.2727V11.7273C0%2010.221%200.994923%209%202.22222%209ZM12%2015C12%2015.7403%2011.5978%2016.3866%2011%2016.7324V19C11%2019.5523%2010.5523%2020%2010%2020C9.44772%2020%209%2019.5523%209%2019V16.7324C8.4022%2016.3866%208%2015.7403%208%2015C8%2013.8954%208.89543%2013%2010%2013C11.1046%2013%2012%2013.8954%2012%2015Z'/%3e%3c/mask%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.22222%209H17.7778C19.0051%209%2020%2010.221%2020%2011.7273V21.2727C20%2022.779%2019.0051%2024%2017.7778%2024H2.22222C0.994923%2024%200%2022.779%200%2021.2727V11.7273C0%2010.221%200.994923%209%202.22222%209ZM12%2015C12%2015.7403%2011.5978%2016.3866%2011%2016.7324V19C11%2019.5523%2010.5523%2020%2010%2020C9.44772%2020%209%2019.5523%209%2019V16.7324C8.4022%2016.3866%208%2015.7403%208%2015C8%2013.8954%208.89543%2013%2010%2013C11.1046%2013%2012%2013.8954%2012%2015Z'%20fill='%23E2E2E2'/%3e%3cpath%20d='M11%2016.7324L9.99855%2015.0012C9.38056%2015.3587%209%2016.0185%209%2016.7324H11ZM9%2016.7324H11C11%2016.0185%2010.6194%2015.3587%2010.0015%2015.0012L9%2016.7324ZM17.7778%207H2.22222V11H17.7778V7ZM22%2011.7273C22%209.51879%2020.473%207%2017.7778%207V11C17.6899%2011%2017.7081%2010.9511%2017.7987%2011.0621C17.8925%2011.1773%2018%2011.4059%2018%2011.7273H22ZM22%2021.2727V11.7273H18V21.2727H22ZM17.7778%2026C20.473%2026%2022%2023.4812%2022%2021.2727H18C18%2021.5941%2017.8925%2021.8227%2017.7987%2021.9379C17.7081%2022.0489%2017.6899%2022%2017.7778%2022V26ZM2.22222%2026H17.7778V22H2.22222V26ZM-2%2021.2727C-2%2023.4812%20-0.472997%2026%202.22222%2026V22C2.31007%2022%202.29186%2022.0489%202.20134%2021.9379C2.10753%2021.8227%202%2021.5941%202%2021.2727H-2ZM-2%2011.7273V21.2727H2V11.7273H-2ZM2.22222%207C-0.472997%207%20-2%209.51879%20-2%2011.7273H2C2%2011.4059%202.10753%2011.1773%202.20134%2011.0621C2.29186%2010.9511%202.31007%2011%202.22222%2011V7ZM12.0015%2018.4636C13.1918%2017.775%2014%2016.4831%2014%2015H10C10%2015.0032%209.99966%2015.0031%2010.0002%2015.0012C10.0006%2014.9997%2010.0011%2014.9987%2010.0012%2014.9985C10.0012%2014.9985%2010.0008%2014.9992%209.99996%2015C9.99909%2015.0009%209.99848%2015.0013%209.99855%2015.0012L12.0015%2018.4636ZM13%2019V16.7324H9V19H13ZM10%2022C11.6569%2022%2013%2020.6569%2013%2019H9C9%2018.4477%209.44771%2018%2010%2018V22ZM7%2019C7%2020.6569%208.34315%2022%2010%2022V18C10.5523%2018%2011%2018.4477%2011%2019H7ZM7%2016.7324V19H11V16.7324H7ZM6%2015C6%2016.4831%206.80816%2017.775%207.99855%2018.4636L10.0015%2015.0012C10.0015%2015.0013%2010.0009%2015.0009%2010%2015C9.99916%2014.9992%209.99876%2014.9985%209.99877%2014.9985C9.99887%2014.9987%209.99938%2014.9997%209.99981%2015.0012C10.0003%2015.0031%2010%2015.0032%2010%2015H6ZM10%2011C7.79086%2011%206%2012.7909%206%2015H10V11ZM14%2015C14%2012.7909%2012.2091%2011%2010%2011V15H14Z'%20fill='%23E2E2E2'%20mask='url(%23path-2-inside-1_1872_36385)'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1872_36385'%3e%3crect%20width='20'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cce=({badge:t,currentData:e})=>{var s;const n=(s=t.createdDate)==null?void 0:s.replace(/-/g,".");let r="",i="";switch(t.badgeType){case"READ":r=`완독 수 ${t==null?void 0:t.unlockValue}권을`,i=`현재 완독 수 : ${e==null?void 0:e.currentReadCount}/${t==null?void 0:t.unlockValue}`;break;case"ARCHIVE":r=`기록카드 수 ${t==null?void 0:t.unlockValue}개를`,i=`현재 기록카드 수 : ${e==null?void 0:e.currentArchiveCount}/${t==null?void 0:t.unlockValue}`;break;case"ONELINE":r=`한줄평 수 ${t==null?void 0:t.unlockValue}개를`,i=`현재 남긴 한줄평 수 : ${e==null?void 0:e.currentOneLineCount}/${t==null?void 0:t.unlockValue}`;break;case"LEVEL":r=`${t==null?void 0:t.unlockValue}레벨을`,i=`현재 레벨 : ${e==null?void 0:e.currentLevel}`;break}return p.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:p.jsxs("div",{className:"flex flex-col items-center py-4 gap-2 bg-white w-[16rem] rounded-2xl",children:[t!=null&&t.isOwned?p.jsxs("div",{className:"flex flex-col items-center py-3 gap-2",children:[p.jsx("div",{className:"text-st font-semibold h-[1.9375rem]",children:t==null?void 0:t.description}),p.jsx("img",{className:"w-16 h-16",src:`assets/characterPage/badges/${t==null?void 0:t.badgeType}/${t==null?void 0:t.badgeName}.png`,alt:`${t==null?void 0:t.badgeName} badge`}),p.jsxs("div",{className:"text-b2 text-gray-500",children:["획득일: ",n]})]}):p.jsxs("div",{className:"flex flex-col items-center py-3 gap-2",children:[p.jsx("div",{className:"text-st font-semibold",children:"아직 획득하지 못한 배지예요."}),p.jsxs("div",{className:"flex items-center text-center text-b1 ",children:[r," 달성해야 ",p.jsx("br",{}),"해당 배지를 얻을 수 있어요."]}),p.jsx("div",{className:"text-b2 text-gray-500",children:i})]}),p.jsx("div",{className:"px-4 w-[100%] h-8",children:p.jsx("button",{className:"flex justify-center items-center text-btn3 font-semibold text-white bg-gray-700 p-[10px] w-[100%]  h-8 rounded-lg",children:"닫기"})})]})})},r7=({badgeInfo:t,currentData:e})=>{const[n,r]=F.useState(!1),i=()=>{r(!n)};return p.jsxs("div",{className:"flex justify-center items-center w-16 h-16 cursor-pointer",onClick:i,children:[t!=null&&t.isOwned?p.jsx("img",{className:"w-16 h-16",src:`assets/characterPage/badges/${t==null?void 0:t.badgeType}/${t==null?void 0:t.badgeName}.png`,alt:`${t==null?void 0:t.badgeName} badge`}):p.jsx("div",{className:"flex justify-center items-center bg-gray-50 w-16 h-16 rounded-[100px]",children:p.jsx("img",{className:"w-5 h-6",src:xQ})}),n&&p.jsx(cce,{badge:t,currentData:e})]})},u1=({title:t="제목",badgeData:e,currentData:n})=>{const r=e==null?void 0:e.slice(0,4),i=e==null?void 0:e.slice(4);return p.jsxs("div",{className:"flex flex-col px-5 pt-4 pb-5 gap-5 bg-gray-25 w-[22.5625rem] border border-solid border-gray-100 rounded-xl",children:[p.jsx("div",{className:"text-b1 font-semibold ",children:t}),p.jsx("div",{className:"flex px-2 justify-between",children:r&&r.map((s,o)=>p.jsx(r7,{badgeInfo:s,currentData:n},o))}),r&&r[3].isOwned&&p.jsx("div",{className:"flex px-2 justify-between",children:i.map((s,o)=>p.jsx(r7,{badgeInfo:s,currentData:n},o))})]})},uce=()=>{const[t,e]=F.useState(null);return F.useEffect(()=>{(async()=>{try{const r=await KAe();console.log("조회 성공: ",r),e(r)}catch(r){console.error("오류 발생: ",r)}})()},[]),p.jsxs("div",{className:"flex flex-col gap-4 justify-center items-center",children:[p.jsx(Ace,{}),p.jsx(u1,{title:"열정적인 독자",currentData:t,badgeData:t==null?void 0:t.readBadgeList}),p.jsx(u1,{title:"꼼꼼한 기록자",badgeData:t==null?void 0:t.archiveBadgeList,currentData:t}),p.jsx(u1,{title:"성실한 평가자",badgeData:t==null?void 0:t.oneLineBadgeList,currentData:t}),p.jsx(u1,{title:"레벨업 마스터",badgeData:t==null?void 0:t.levelBadgeList,currentData:t})]})},dce="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='10'%20cy='10'%20r='9.5'%20transform='matrix(-1%200%200%201%2020%200)'%20fill='white'%20fill-opacity='0.2'%20stroke='%236B7FF0'/%3e%3c/svg%3e",fce="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%2020C4.47715%2020%200%2015.5228%200%2010C0%204.47715%204.47715%200%2010%200C15.5228%200%2020%204.47715%2020%2010C20%2015.5228%2015.5228%2020%2010%2020ZM5.68668%2010.4667L8.00002%2012.78L14.5867%206.2C14.7113%206.07535%2014.8804%206.00532%2015.0567%206.00532C15.233%206.00532%2015.402%206.07535%2015.5267%206.2C15.6513%206.32465%2015.7214%206.49372%2015.7214%206.67C15.7214%206.84628%2015.6513%207.01535%2015.5267%207.14L8.47335%2014.1933C8.21335%2014.4533%207.79335%2014.4533%207.53335%2014.1933L4.74668%2011.4067C4.68496%2011.3449%204.636%2011.2717%204.6026%2011.191C4.56919%2011.1104%204.552%2011.024%204.552%2010.9367C4.552%2010.7604%204.62203%2010.5913%204.74668%2010.4667C4.87133%2010.342%205.0404%2010.272%205.21668%2010.272C5.39297%2010.272%205.56203%2010.342%205.68668%2010.4667Z'%20fill='%236B7FF0'/%3e%3c/svg%3e",hce=({itemType:t,itemName:e})=>{const n=cl(bu,`/assets/characterPage/items/${t}/${e}.glb`),r={HAT:{scale:2.4,position:[0,-5.5,0],rotation:[.1,-.5,0]},PROP:{scale:4.5,position:[4.3,-4,0],rotation:[.1,-.25,0]},CLOTHES:{scale:3,position:[0,-2,0],rotation:[.15,-.2,0]},FACE:{scale:3,position:[0,-2.5,0],rotation:[.15,-.2,0]},BAG:{scale:3,position:[0,-3,0],rotation:[.15,-.2,0]}},i=r[t]||r.PROP;return p.jsx("primitive",{object:n.scene,scale:i.scale,position:i.position,rotation:i.rotation})},pce=({itemType:t,itemName:e})=>p.jsx("div",{className:"w-full h-full",children:p.jsxs(mQ,{children:[p.jsx("ambientLight",{intensity:3,color:"#ffe6a6"}),p.jsx("directionalLight",{position:[0,5,5],intensity:3}),p.jsx(hce,{itemType:t,itemName:e}),p.jsx(gQ,{enablePan:!0,enableRotate:!1,enableZoom:!1})]})}),mce=({item:t,onItemSelect:e,isSelected:n})=>{const r=()=>{t.isOwned&&e(t)};return p.jsx("div",{className:"w-[110px] h-[110px] rounded-[12px]",children:t.isOwned?p.jsxs("div",{className:"relative flex justify-center items-center bg-gray-300 w-[110px] h-[110px] rounded-[12px] cursor-pointer",onClick:r,children:[p.jsx(pce,{itemType:t.itemType,itemName:t.itemName}),p.jsx("img",{className:"absolute top-2 left-2",src:n?fce:dce})]}):p.jsx("div",{className:"flex justify-center items-center bg-gray-50 w-[110px] h-[110px] rounded-[12px]",children:p.jsx("img",{className:"w-5 h-6",src:xQ})})})},gce=()=>{const[t,e]=F.useState("전체"),[n,r]=F.useState([]),[i,s]=F.useState({}),[o,a]=F.useState({}),[l,A]=F.useState(!1),[c,u]=F.useState({}),[d,m]=F.useState({}),g={전체:"ALL",소품:"PROP",모자:"HAT",얼굴:"FACE",옷:"CLOTHES",가방:"BAG"};F.useEffect(()=>{(async()=>{try{const C=await XAe();console.log("조회성공: ",C),r((C==null?void 0:C.itemList)||[]);const S={},M={},b={};C==null||C.itemList.forEach(T=>{b[T.itemId]={userItemId:T.userItemId,itemType:T.itemType},T.isEquipped&&(S[T.itemType]=T.itemName,M[T.itemType]=T.itemId)}),m(b),s(S),a(M),u(M),A(!1)}catch(C){console.error("오류 발생: ",C)}})()},[]);const x=w=>{let C;if(t!=="전체"){const M=g[t];o[M]===w.itemId?(C={...o},delete C[M]):C={...o,[M]:w.itemId}}else o[w.itemType]===w.itemId?(C={...o},delete C[w.itemType]):C={...o,[w.itemType]:w.itemId};const S=Object.keys(C).length===Object.keys(c).length&&Object.keys(C).every(M=>C[M]===c[M]);A(!S),a(C),s(M=>{if(C[w.itemType]===void 0){const b={...M};return delete b[w.itemType],b}return{...M,[w.itemType]:w.itemName}})},y=async()=>{try{const w={};Object.entries(o).forEach(([C,S])=>{S&&d[S]?w[C]=d[S].userItemId:w[C]=null}),await $Ae(w),A(!1)}catch(w){console.error("아이템 장착 상태 변경 실패:",w)}},v=n.filter(w=>t==="전체"?!0:w.itemType===g[t]);return console.log("filteredItems: ",v),p.jsxs("div",{className:" flex flex-col bg-orange-50",children:[p.jsx(nr,{title:""}),p.jsx("div",{className:"flex justify-center h-[317px]",children:p.jsx(Mu,{userId:Bs(),selectedItems:i})}),p.jsxs("div",{className:"bg-white shadow-custom w-full rounded-t-[1.25rem]",children:[p.jsxs("div",{className:"pt-1",children:[p.jsx(Al,{tabs:["전체","소품","모자","얼굴","옷","가방"],activeTab:t,onTabClick:e,size:"big"}),p.jsx("div",{className:"flex flex-col px-4 pt-4 gap-4 h-full overflow-y-scroll",children:p.jsx("div",{className:"grid grid-cols-3 gap-4",children:v.map(w=>p.jsx(mce,{item:w,onItemSelect:x,isSelected:o[w.itemType]===w.itemId},w.itemId))})})]}),p.jsx("div",{className:"fixed flex bottom-0 left-0 w-full justify-center pt-1.5 h-[5.5rem] bg-white",children:p.jsx(mr,{text:"저장",color:l?"primary":"gray700",disabled:!l,onClick:y})})]})]})},AM=async t=>{try{const e=await Ut(`/books/list?sort=${t}`);return console.log("내 서재 전체 조회 성공",e),e}catch{return console.error("내 서재 전체 조회 실패"),{}}},cM=async(t,e)=>{console.log(t,e);try{const n=t.map(i=>`status=${i}`).join("&");console.log(n);const r=await Ut(`/books/filter?${n}&sort=${e}`);return console.log("내 서재 분류 전체 조회 성공",r),r}catch{return console.error("내 서재 분류 전체 조회 실패"),{}}},vce=async(t,e)=>{console.log(t,e);try{const n=await eo(`/books/${t}?status=${e}`);return console.log("책 상태 변경 성공",n),n}catch{return console.error("책 상태 변경 실패"),{}}},yce=async t=>{try{const e=await io(`/books/${t}`);return console.log("책 삭제 성공",e),e}catch{return console.error("책 삭제 실패"),{}}},xce=async t=>{try{const e=await Fi("/folders",t);return console.log("책장 추가 성공",e),e}catch{return console.error("책장 추가 실패"),{}}},wce=async t=>{try{const e=await io(`/folders/${t}`);return console.log("책장 삭제 성공",e),e}catch{return console.error("책장 삭제 실패"),{}}},Cce=async()=>{try{const t=await Ut("/folders/list");return console.log("책장 조회 성공",t),t}catch{return console.error("책장 조회 실패"),{}}},Bce=async t=>{try{const e=await Ut(`/folders/${t}/books`);return console.log("책장별 책 조회 성공",e),e}catch{return console.error("책장별 책 조회 실패"),{}}},Sce=async(t,e)=>{try{const n=await Fi(`/folders/${t}/books`,e);return console.log("책장에 책 추가 성공",n),n}catch{return console.error("책장에 책 추가 실패"),{}}},_ce=async(t,e)=>{console.log(e);try{const n=await io(`/folders/${t}/books`,{data:e});return console.log("책장에 책 삭제 성공",n),n}catch{return console.error("책장에 책 삭제 실패"),{}}},Ece=async(t,e)=>{try{const n=await eo(`/folders/${t}`,e);return console.log("책장명 변경 성공",n),n}catch{return console.error("책장명 변경 실패"),{}}},i7=t=>{let e;const n=new Set,r=(A,c)=>{const u=typeof A=="function"?A(e):A;if(!Object.is(u,e)){const d=e;e=c??(typeof u!="object"||u===null)?u:Object.assign({},e,u),n.forEach(m=>m(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:A=>(n.add(A),()=>n.delete(A))},l=e=t(r,i,a);return a},bce=t=>t?i7(t):i7,Mce=t=>t;function Tce(t,e=Mce){const n=vt.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return vt.useDebugValue(n),n}const s7=t=>{const e=bce(t),n=r=>Tce(e,r);return Object.assign(n,e),n},O2=t=>t?s7(t):s7,ih=O2(t=>({bookInfo:{},setBookInfo:e=>t({bookInfo:e})})),Ice=()=>{const t=Bt(),{setBookInfo:e}=ih(),{data:n={bookList:[]},isError:r,error:i}=_r({queryKey:["sortedBookListData"],queryFn:()=>cM(["READING"],"latest")}),s=o=>{console.log(o),e(o),t("/recording")};return p.jsx("div",{className:"flex flex-col mx-4",children:n&&n.bookList.map(o=>p.jsx(MA,{edit:!1,handleOnClick:()=>s(o),bookTitle:o.title,author:o.authors,bookImg:o.imgPath?o.imgPath:u5,rating:o.rating}))})},Fce=()=>{const[t,e]=F.useState(""),[n,r]=F.useState(""),{setBookInfo:i}=ih(),s=Bt(),o=async()=>await Ut("/books/recent"),a=async()=>await Ut("/bookinfo/most"),l=()=>{r(t)};_r({queryKey:["recentBooks"],queryFn:o,onSuccess:()=>{console.log("최근 책 받기 성공")},onError:d=>console.error("최근 책 받기 실패",d)}).data.bookList,_r({queryKey:["popularBooks"],queryFn:a,onSuccess:()=>{console.log("많이 읽는 책 받기 성공")},onError:d=>console.error("많이 읽는 책 받기 실패",d)}).data.bookList;const u=d=>{console.log(d),i(d),s("/recording")};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"px-4",children:p.jsx(C2,{search:t,setSearch:e,onEnter:l})}),p.jsx("div",{className:"flex flex-col mx-4 mt-[0.5rem]",children:t&&p.jsx(WD,{selectBook:!0,search:n,setSearch:e,onClick:u})})]})},Uce=()=>{const t=Bt(),{setBookInfo:e}=ih(),{data:n={bookList:[]},isError:r,error:i}=_r({queryKey:["bookListData"],queryFn:()=>AM("latest")}),s=o=>{e(o),t("/recording")};return p.jsx("div",{className:"flex flex-col mx-4",children:n&&n.bookList.map(o=>p.jsx(MA,{edit:!1,handleOnClick:()=>s(o),bookTitle:o.title,author:o.authors,bookImg:o.imgPath?o.imgPath:ds,rating:o.rating}))})},Lce="/assets/book-cover-DTvS6FGn.svg",Rce=async t=>{try{const e=await ca.post("/books/custom",t,{headers:{"Content-Type":"multipart/formdata"}});return console.log("책 등록 성공",e),e}catch(e){console.error("책 등록 실패",e)}},wQ=()=>{const[t,e]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(""),[o,a]=F.useState(""),[l,A]=F.useState(),{setBookInfo:c}=ih(),u=Bt(),d=w=>{const C=w.target.files[0];C&&(console.log(C),A(C))},m=w=>{e(w.target.value)},g=w=>{r(w.target.value)},x=w=>{s(w.target.value)},y=w=>{a(w.target.value)},v=async()=>{const w=new FormData;w.append("title",t),w.append("author",n),w.append("pageCount",i),w.append("publisher",o),l&&w.append("coverImage",l);const C=await Rce(w);console.log(C),C&&(c(C.data),u("/recording"))};return p.jsx("div",{className:"w-full w-max-[64rem] ",children:p.jsxs("div",{className:"w-full flex flex-col justify-center items-center pb-[2.15rem] px-4",children:[p.jsx("div",{onClick:()=>document.getElementById("fileInput").click(),className:"mt-5",children:p.jsx("img",{className:"w-[6.5rem] h-[9.75rem] object-cover cursor-pointer",src:l?URL.createObjectURL(l):Lce,alt:"Book Cover"})}),p.jsx("input",{id:"fileInput",type:"file",className:"hidden",accept:"image/*",onChange:d}),p.jsxs("div",{className:"w-full flex flex-col gap-[2rem] mb-[1.23rem]",children:[p.jsx(Rd,{type:"제목",title:!0,placeholder:"제목",check:!1,handleValue:m,inputValue:t}),p.jsx(Rd,{type:"제목",title:!0,placeholder:"저자 명",check:!1,handleValue:g,inputValue:n}),p.jsx(Rd,{type:"제목",title:!0,placeholder:"페이지 수 (선택)",check:!1,handleValue:x,inputValue:i}),p.jsx(Rd,{type:"제목",title:!0,placeholder:"출판사 (선택)",check:!1,handleValue:y,inputValue:o})]}),p.jsxs("div",{className:"flex justify-center items-center w-full h-[7rem] mb-[0.94rem] bg-gray-50 text-b2 text-gray-400 text-center",children:["직접 등록한 책에 대해서는 별점 및 한줄평과",p.jsx("br",{})," 독서 기록 모두 나만 남길 수 있어요."]}),p.jsx(mr,{onClick:v,text:"완료",type:"primary",disabled:!(t&&n)})]})})},Pce=()=>{const[t,e]=F.useState("읽고 있어요"),n=r=>{e(r)};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"",children:[p.jsx(nr,{title:"기록할 책 선택"}),p.jsxs("div",{className:"",children:[p.jsx("div",{className:" flex justify-center items-center h-[2.75rem] mb-[0.75rem] border-b-[0.1375rem] border-gray-50",children:p.jsx(Al,{tabs:["읽고 있어요","서재","검색하기","직접 등록"],activeTab:t,onTabClick:n,size:"big",borderWidth:"4rem"})}),t==="읽고 있어요"&&p.jsx(Ice,{}),t==="서재"&&p.jsx(Uce,{}),t==="검색하기"&&p.jsx(Fce,{}),t==="직접 등록"&&p.jsx(wQ,{})]})]})})},uM=({title:t})=>p.jsx("div",{className:"flex items-center h-[3.375rem] mx-[1rem] text-[1.25rem] font-semibold ",children:t}),Nce=async t=>{try{const e=await Fi("/archives",t);return console.log("발췌 및 감상평 업로드 성공",e),e}catch(e){console.error("발췌 및 감상평 업로드 실패",e)}},dM=async(t,e,n,r)=>{try{const i=await Ut(`/users/${t}/archives?type=${e}&page=${n}&size=${r}`);return console.log("발췌 및 감상평 조회 성공",i),i}catch(i){console.error("발췌 및 감상평 조회 실패",i)}},fM=async t=>{try{const e=await Ut(`/archives/${t}`);return console.log("발췌 및 감상평 상세 조회 성공",e),e}catch(e){console.error("발췌 및 감상평 상세 조회 실패",e)}},Dce=async(t,e)=>{try{const n=await i5(`/archives/${t}`,e);return console.log("발췌 및 감상평 수정 성공",n),n}catch(n){console.error("발췌 및 감상평 수정 실패",n)}},d1=async({archiveId:t,excerptId:e,reviewId:n})=>{try{let r=`/archives/${t}`;const i=[];e&&i.push(`excerptId=${e}`),n&&i.push(`reviewId=${n}`),i.length>0&&(r+=`?${i.join("&")}`),console.log(r);const s=await io(r);return console.log("발췌 및 감상평 삭제 성공",s),s}catch(r){console.error("발췌 및 감상평 삭제 실패",r)}},Oce=async t=>{try{const e=await ca.post("/archives/excerpts/ocr",t,{headers:{"Content-Type":"multipart/formdata"}});return console.log("발췌 이미지 추출 성공",e),e}catch(e){console.error("발췌 이미지 추출 실패",e)}},hM=({excerptData:t,archive:e=!1,font:n})=>{var u,d,m,g,x;const r=Bt();if(!t||!t.data||!t.data.excerptContent)return null;const i=(m=(d=(u=t==null?void 0:t.data)==null?void 0:u.createdTime)==null?void 0:d.split("T")[0])==null?void 0:m.replace(/-/g,"."),s=t.archiveId||"",o=(t==null?void 0:t.title)||"",a=(t==null?void 0:t.author)||"",l=((g=t==null?void 0:t.data)==null?void 0:g.excerptContent)||"",A=((x=t==null?void 0:t.data)==null?void 0:x.pageNumber)||"",c=async()=>{try{const y=await fM(s),v=y.excerpt&&y.review?"ALL":y.excerpt?"EXCERPT":"REVIEW";v==="ALL"?r(`/total-archive-detail/${s}`,{state:{detailData:y}}):v==="EXCERPT"&&r(`/excerpt-archive-detail/${s}`,{state:{detailData:y}})}catch(y){console.error("Failed to fetch detail:",y)}};return p.jsx("div",{onClick:c,className:"cursor-pointer w-full",children:p.jsx("div",{className:"flex flex-col gap-[1.25rem] w-full  p-[1.25rem] rounded-[0.875rem] bg-gray-10 shadow-custom",children:!e&&i?p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:`text-c2 text-gray-400 ${n}`,children:i}),p.jsx("div",{className:`text-right justify-end items-end text-b2 text-gray-400 ${n}`,children:(t==null?void 0:t.pageNumber)||""})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`text-right text-b2 text-gray-400 ${n}`,children:A}),p.jsxs("div",{className:"flex flex-col gap-[0.5rem]",children:[p.jsx("div",{className:`text-b2 text-gray-800 ${n}`,children:l}),p.jsx("div",{className:`${n} text-c2 text-gray-400`,children:o&&a?`${o} / ${a}`:""})]})]})})})},sh=O2(t=>({reviewColor:"#ABABAB",setReviewColor:e=>t({reviewColor:e})})),k2=({reviewData:t,archive:e=!1,font:n})=>{console.log(t);const r=t.archiveId,i=t==null?void 0:t.data.reviewContent;console.log(i),t==null||t.data.reviewId;const s=t==null?void 0:t.data.reviewTitle,o=t==null?void 0:t.title,a=t==null?void 0:t.author,l=t==null?void 0:t.data.color,A=(t==null?void 0:t.data.createdTime)&&(t==null?void 0:t.data.createdTime.split("T")[0].replace(/-/g,".")),c=Bt(),{reviewColor:u}=sh(),d=async()=>{const m=await fM(r),g=m.excerpt&&m.review?"ALL":m.excerpt?"EXCERPT":"REVIEW";g==="ALL"&&c(`/total-archive-detail/${r}`,{state:{detailData:m}}),g==="REVIEW"&&c(`/review-archive-detail/${r}`,{state:{detailData:m}})};return p.jsx("div",{onClick:d,className:"cursor-pointer w-full",children:p.jsxs("div",{style:{backgroundColor:l},className:`flex flex-col gap-[1.75rem] w-full  p-[1.25rem] rounded-[0.88rem] ${!u&&"bg-gray-400"} shadow-custom`,children:[!e&&A&&p.jsx("div",{className:`text-c2 text-[#ffffff99] ${n}`,children:A}),p.jsxs("div",{className:"flex flex-col gap-[0.25rem]",children:[p.jsx("div",{className:`text-st text-[#FFFFFF] font-semibold ${n}`,children:s}),p.jsx("div",{className:`text-b2 text-[#FFFFFF] ${n}`,children:i})]}),p.jsx("div",{className:`text-c2 text-[#ffffff99] ${n}`,children:o&&a&&`${o} / ${a}`})]})})},kce=({font:t})=>{const e=Bs(),{data:n,isError:r,error:i}=_r({queryKey:["archiveData"],queryFn:()=>dM(e,"ALL",0,20)});return console.log(n),p.jsx("div",{className:"w-full flex flex-col gap-[1rem] items-center  mt-[1rem] ",children:n.archiveList.length===0?p.jsx("div",{className:"mt-[17rem] text-gray-400",children:"아직 작성된 기록이 없어요!"}):n.archiveList.map((s,o)=>p.jsx(p.Fragment,{children:s.type==="EXCERPT"?p.jsx(hM,{excerptData:s,archive:!0,font:t},o):p.jsx(k2,{reviewData:s,archive:!0,font:t},o)}))})},Qce=({font:t})=>{const e=Bs(),{data:n,isError:r,error:i}=_r({queryKey:["archiveExcerptData"],queryFn:()=>dM(e,"EXCERPT",0,20)});return p.jsx("div",{className:"flex flex-col gap-[1rem] items-center   mt-[1rem] ",children:n.archiveList.length===0?p.jsx("div",{className:"mt-[17rem] text-gray-400",children:"아직 작성된 발췌 기록이 없어요!"}):n.archiveList.map((s,o)=>p.jsx(hM,{excerptData:s,archive:!0,font:t},o))})},Hce=({font:t})=>{const e=Bs(),{data:n,isError:r,error:i}=_r({queryKey:["archiveReviewData"],queryFn:()=>dM(e,"REVIEW",0,20)});return p.jsx("div",{className:"flex flex-col gap-[1rem] items-center mt-[1rem]",children:n.archiveList.length===0?p.jsx("div",{className:"mt-[17rem] text-gray-400",children:"아직 작성된 감상평이 없어요!"}):n.archiveList.map((s,o)=>p.jsx(k2,{reviewData:s,archive:!0,font:t},o))})},jce="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1923_39146)'%3e%3cpath%20d='M18.2555%204.31091C18.6251%203.94129%2019.1264%203.73364%2019.6491%203.73364C20.1718%203.73364%2020.6731%203.94129%2021.0427%204.31091C21.4124%204.68052%2021.62%205.18183%2021.62%205.70454C21.62%206.22726%2021.4124%206.72856%2021.0427%207.09818L12.2164%2015.9246L8.5%2016.8536L9.42909%2013.1373L18.2555%204.31091Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3crect%20x='2.5'%20y='18.855'%20width='21'%20height='3'%20rx='1.5'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1923_39146'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(0.5%200.85498)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Vce="data:image/svg+xml,%3csvg%20width='76'%20height='76'%20viewBox='0%200%2076%2076'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_1771_36957)'%3e%3ccircle%20cx='38'%20cy='38'%20r='28'%20fill='%23505050'/%3e%3cg%20clip-path='url(%23clip0_1771_36957)'%3e%3cpath%20d='M43.7555%2029.4559C44.1251%2029.0863%2044.6264%2028.8787%2045.1491%2028.8787C45.6718%2028.8787%2046.1731%2029.0863%2046.5427%2029.4559C46.9124%2029.8255%2047.12%2030.3268%2047.12%2030.8496C47.12%2031.3723%2046.9124%2031.8736%2046.5427%2032.2432L37.7164%2041.0696L34%2041.9987L34.9291%2038.2823L43.7555%2029.4559Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3crect%20x='28'%20y='44'%20width='21'%20height='3'%20rx='1.5'%20fill='white'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_1771_36957'%20x='0'%20y='0'%20width='76'%20height='76'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset/%3e%3cfeGaussianBlur%20stdDeviation='5'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.12%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1771_36957'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_1771_36957'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_1771_36957'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(26%2026)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Q2=({handleNavigate:t,text:e=!0})=>{const[n,r]=F.useState(e);Bt(),F.useEffect(()=>{let s;return n&&(s=setTimeout(()=>{r(!1)},3e3)),()=>clearTimeout(s)},[n]);const i=()=>{r(!0)};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`transition-all duration-500 ease-in-out z-50 ${n?"opacity-100":"opacity-0"}`,children:n?p.jsxs("div",{onClick:t,className:"flex gap-[0.75rem] justify-center items-center w-[7.8rem] h-[3.5rem] p-[1rem] mr-[1rem] rounded-[6.25rem] bg-gray-700",children:[p.jsx("img",{src:jce,alt:"record_icon"}),p.jsx("div",{className:"text-b1 font-semibold text-[#FFFFFF]",children:"기록하기"})]}):null}),p.jsx("div",{className:`transition-all duration-500 ease-in-out transfrom ${n?"opacity-0":"opacity-100"}`,children:n?null:p.jsx("img",{onClick:i,className:"mr-[1rem] cursor-pointer",src:Vce,alt:"record_icon_circle"})})]})},zce=()=>{const[t,e]=F.useState("전체보기"),n=Bt(),{data:r,isLoading:i,isError:s,error:o}=_r({queryKey:["fontSettings"],queryFn:async()=>{const l=await Ut("/settings");return console.log(l),l.recordFont},refetchOnMount:!0,refetchOnWindowFocus:!1}),a=()=>{n("/selectBook")};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col ",children:[p.jsx(uM,{title:"기록 아카이브"}),p.jsx(Al,{tabs:["전체보기","발췌","감상평"],activeTab:t,onTabClick:e,size:"small",borderWidth:"3rem"}),p.jsxs("div",{className:"px-4",children:[t==="전체보기"&&p.jsx(kce,{font:r}),t==="발췌"&&p.jsx(Qce,{font:r}),t==="감상평"&&p.jsx(Hce,{font:r}),p.jsx("div",{className:"h-[6rem] bg-transparent"})]}),p.jsx("div",{className:"fixed bottom-[6.38rem] flex justify-end w-[24.5625rem] cursor-pointer",children:p.jsx(Q2,{handleNavigate:a})}),p.jsx(qf,{})]})})},Gce=({archiveDetailData:t})=>{const e=Bt(),n=()=>{e(`/info/book/custom/${t.bookInfoId}`)};return p.jsx(p.Fragment,{children:p.jsx("div",{onClick:n,className:"w-[22.5625rem] px-4 py-[0.62rem] rounded-[0.5rem] bg-gray-50 cursor-pointer",children:p.jsxs("div",{className:"flex gap-[0.88rem]",children:[p.jsx("div",{children:p.jsx("img",{className:"w-[3.0625rem] h-[4.375rem]",src:t.imgPath?t.imgPath:ds,alt:"img_template"})}),p.jsxs("div",{className:"flex flex-col gap-[0.2rem] justify-center",children:[p.jsx("div",{className:"text-b2 text-gray-800 font-semibold",children:t.title}),p.jsx("div",{className:"text-c1 text-gray-500",children:t.author})]})]})})})},Kce="data:image/svg+xml,%3csvg%20width='41'%20height='40'%20viewBox='0%200%2041%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.3'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M40.6758%2020C40.6758%2031.0457%2031.7215%2040%2020.6758%2040C9.63009%2040%200.675781%2031.0457%200.675781%2020C0.675781%208.9543%209.63009%200%2020.6758%200C31.7215%200%2040.6758%208.9543%2040.6758%2020ZM12.6101%2011.9343C12.9225%2011.6219%2013.429%2011.6219%2013.7415%2011.9343L20.9791%2019.1719L28.2167%2011.9343C28.5291%2011.6219%2029.0356%2011.6219%2029.3481%2011.9343C29.6605%2012.2467%2029.6605%2012.7533%2029.3481%2013.0657L22.1105%2020.3033L29.3481%2027.5409C29.6605%2027.8533%2029.6605%2028.3599%2029.3481%2028.6723C29.0356%2028.9847%2028.5291%2028.9847%2028.2167%2028.6723L20.9791%2021.4347L13.7415%2028.6723C13.429%2028.9847%2012.9225%2028.9847%2012.6101%2028.6723C12.2977%2028.3599%2012.2977%2027.8533%2012.6101%2027.5409L19.8477%2020.3033L12.6101%2013.0657C12.2977%2012.7533%2012.2977%2012.2467%2012.6101%2011.9343Z'%20fill='%23323232'/%3e%3c/g%3e%3c/svg%3e",Wce=()=>{const t=Bt();return p.jsx("div",{onClick:()=>t("/archive"),className:"flex justify-center cursor-pointer",children:p.jsx("img",{src:Kce,alt:"close_circle_button"})})},Xce="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.09228%2015L1.09229%208L8.09228%201'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cline%20x1='1.84229'%20y1='8.18335'%20x2='15.509'%20y2='8.18335'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",$ce="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.6758%2012.25C10.6758%2012.9404%2011.2354%2013.5%2011.9258%2013.5C12.6161%2013.5%2013.1758%2012.9404%2013.1758%2012.25C13.1758%2011.5596%2012.6161%2011%2011.9258%2011C11.2354%2011%2010.6758%2011.5596%2010.6758%2012.25Z'%20fill='%23323232'/%3e%3cpath%20d='M16.6758%2012.25C16.6758%2012.9404%2017.2354%2013.5%2017.9258%2013.5C18.6161%2013.5%2019.1758%2012.9404%2019.1758%2012.25C19.1758%2011.5596%2018.6161%2011%2017.9258%2011C17.2354%2011%2016.6758%2011.5596%2016.6758%2012.25Z'%20fill='%23323232'/%3e%3cpath%20d='M4.67578%2012.25C4.67578%2012.9404%205.23543%2013.5%205.92578%2013.5C6.61614%2013.5%207.17578%2012.9404%207.17578%2012.25C7.17578%2011.5596%206.61614%2011%205.92578%2011C5.23543%2011%204.67578%2011.5596%204.67578%2012.25Z'%20fill='%23323232'/%3e%3c/svg%3e",CQ=({handleMenu:t})=>{const e=Bt();return p.jsxs("div",{className:"flex justify-between items-center h-[2.75rem] my-1",children:[p.jsxs("div",{onClick:()=>e(-1),children:[" ",p.jsx("img",{className:"cursor-pointer",src:Xce,alt:"left_arrow"})]}),p.jsx("div",{onClick:t,children:p.jsx("img",{className:"cursor-pointer",src:$ce,alt:"horizontal_menu"})})]})},Yce="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.8717%203.6348C16.4848%203.23541%2016.0255%202.91858%2015.5199%202.70242C15.0143%202.48626%2014.4724%202.375%2013.9252%202.375C13.3779%202.375%2012.836%202.48626%2012.3305%202.70242C11.8249%202.91858%2011.3655%203.23541%2010.9787%203.6348L10.1757%204.4633L9.37283%203.6348C8.59136%202.82843%207.53146%202.37542%206.4263%202.37542C5.32114%202.37542%204.26124%202.82843%203.47977%203.6348C2.6983%204.44117%202.25928%205.53485%202.25928%206.67523C2.25928%207.81561%202.6983%208.90928%203.47977%209.71565L4.28268%2010.5441L9.45763%2015.884C9.85054%2016.2894%2010.5009%2016.2894%2010.8938%2015.884L16.0688%2010.5441L16.8717%209.71565C17.2588%209.31645%2017.5658%208.84246%2017.7753%208.32077C17.9848%207.79909%2018.0926%207.23993%2018.0926%206.67523C18.0926%206.11053%2017.9848%205.55137%2017.7753%205.02968C17.5658%204.508%2017.2588%204.03401%2016.8717%203.6348Z'%20stroke='white'%20stroke-opacity='0.6'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qce="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.52588%2012.0489V14.9828C3.52588%2015.4274%203.70103%2015.8538%204.01281%2016.1682C4.32459%2016.4826%204.74746%2016.6592%205.18838%2016.6592H15.1634C15.6043%2016.6592%2016.0272%2016.4826%2016.3389%2016.1682C16.6507%2015.8538%2016.8259%2015.4274%2016.8259%2014.9828V12.0489M10.2102%2011.8406L10.2102%202.34058M10.2102%202.34058L6.4102%205.97049M10.2102%202.34058L14.0102%205.97049'%20stroke='white'%20stroke-opacity='0.6'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",BQ="/assets/kakao-BzZBoTUc.svg",SQ="/assets/instagram-CVRFfQs2.svg",_Q="/assets/x-D1Km8dLp.svg",EQ="data:image/svg+xml,%3csvg%20width='33'%20height='32'%20viewBox='0%200%2033%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16.5'%20cy='16'%20r='16'%20fill='%23FF9F1C'/%3e%3cpath%20d='M22.3333%208.5H10.6667C9.74619%208.5%209%209.24619%209%2010.1667V21.8333C9%2022.7538%209.74619%2023.5%2010.6667%2023.5H22.3333C23.2538%2023.5%2024%2022.7538%2024%2021.8333V10.1667C24%209.24619%2023.2538%208.5%2022.3333%208.5Z'%20stroke='white'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.5835%2014.3333C14.2739%2014.3333%2014.8335%2013.7736%2014.8335%2013.0833C14.8335%2012.3929%2014.2739%2011.8333%2013.5835%2011.8333C12.8931%2011.8333%2012.3335%2012.3929%2012.3335%2013.0833C12.3335%2013.7736%2012.8931%2014.3333%2013.5835%2014.3333Z'%20stroke='white'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.0003%2018.4999L19.8337%2014.3333L10.667%2023.4999'%20stroke='white'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",bQ="data:image/svg+xml,%3csvg%20width='33'%20height='32'%20viewBox='0%200%2033%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16.5'%20cy='16'%20r='16'%20fill='%23FF9F1C'/%3e%3cpath%20d='M11.8809%2014.1912L9.64822%2016.4238C8.8144%2017.2577%208.33489%2018.3922%208.34366%2019.5846C8.35242%2020.777%208.82143%2021.9184%209.69482%2022.7648C10.5412%2023.6383%2011.6829%2024.1072%2012.8751%2024.116C14.0945%2024.125%2015.2021%2023.6725%2016.036%2022.8386L18.2686%2020.606M21.1204%2017.8088L23.353%2015.5762C24.1869%2014.7423%2024.6664%2013.6078%2024.6576%2012.4154C24.6488%2011.223%2024.1798%2010.0816%2023.3064%209.23516C22.4603%208.38899%2021.3188%207.91995%2020.1264%207.91119C18.934%207.90243%2017.7993%208.35471%2016.9654%209.18856L14.7328%2011.4212M13.115%2019.3259L19.8129%2012.628'%20stroke='white'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",sa=({img:t,text:e,onClick:n,isExported:r=!1})=>p.jsx(p.Fragment,{children:p.jsxs("div",{onClick:n,className:`flex gap-3 items-center w-[22.5625rem] h-[3.5rem] ${r?"py-3":"p-4"} cursor-pointer`,children:[t&&p.jsx("img",{src:t}),p.jsx("div",{className:`text-b1 ${r?"text-black":"text-gray-800"} `,children:e})]})}),o7=({archiveDetailData:t,font:e})=>{const[n,r]=F.useState(!1),[i,s]=F.useState(!1),o=()=>{s(!1),setTimeout(()=>{r(!1)},200)},a=l=>l.split("T")[0].replace(/-/g,".");return p.jsxs("div",{children:[p.jsx("div",{style:{background:t.review.color},className:"w-[22.5825rem]  px-5 py-6 rounded-[0.88rem]  shadow-custom ",children:p.jsxs("div",{className:"flex flex-col gap-2 ",children:[p.jsxs("div",{className:`text-c1 text-white ${e}`,children:[a(t.review.createdTime),t.review.visibility==="PRVATE"&&"/ 나만보기"]}),p.jsx("div",{className:`text-st font-semibold text-white ${e}`,children:t.review.reviewTitle}),p.jsx("div",{className:`text-b2 text-white ${e}`,children:t.review.reviewContent}),p.jsxs("div",{className:"flex gap-4 justify-end",children:[p.jsx("img",{className:"cursor-pointer",src:Yce,alt:"heart_gray"}),p.jsx("img",{className:"cursor-pointer",src:qce,alt:"share_gray",onClick:()=>{r(!0)}})]})]})}),p.jsx(Ui,{bottomSheetShow:n,setBottomSheetShow:r,visible:i,setVisible:s,children:p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-st font-semibold",children:"내보내기"}),p.jsx("span",{className:"text-b1 text-gray-500 cursor-pointer",onClick:o,children:"취소"})]}),p.jsxs("div",{className:"flex flex-col my-4 px-1",children:[p.jsx(sa,{img:BQ,text:"카카오톡",isExported:!0}),p.jsx(sa,{img:SQ,text:"인스타그램 스토리",isExported:!0}),p.jsx(sa,{img:_Q,text:"X",isExported:!0}),p.jsx(sa,{img:EQ,text:"이미지 저장",isExported:!0}),p.jsx(sa,{img:bQ,text:"URL 복사",isExported:!0})]})]})})]})},Zce="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.3717%203.6348C15.9848%203.23541%2015.5255%202.91858%2015.0199%202.70242C14.5143%202.48626%2013.9724%202.375%2013.4252%202.375C12.8779%202.375%2012.336%202.48626%2011.8305%202.70242C11.3249%202.91858%2010.8655%203.23541%2010.4787%203.6348L9.67574%204.4633L8.87283%203.6348C8.09136%202.82843%207.03146%202.37542%205.9263%202.37542C4.82114%202.37542%203.76124%202.82843%202.97977%203.6348C2.1983%204.44117%201.75928%205.53485%201.75928%206.67523C1.75928%207.81561%202.1983%208.90928%202.97977%209.71565L3.78268%2010.5441L8.95763%2015.884C9.35054%2016.2894%2010.0009%2016.2894%2010.3938%2015.884L15.5688%2010.5441L16.3717%209.71565C16.7588%209.31645%2017.0658%208.84246%2017.2753%208.32077C17.4848%207.79909%2017.5926%207.23993%2017.5926%206.67523C17.5926%206.11053%2017.4848%205.55137%2017.2753%205.02968C17.0658%204.508%2016.7588%204.03401%2016.3717%203.6348Z'%20stroke='%23ABABAB'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Jce="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.02588%2012.0489V14.9828C3.02588%2015.4274%203.20103%2015.8538%203.51281%2016.1682C3.82459%2016.4826%204.24746%2016.6592%204.68838%2016.6592H14.6634C15.1043%2016.6592%2015.5272%2016.4826%2015.8389%2016.1682C16.1507%2015.8538%2016.3259%2015.4274%2016.3259%2014.9828V12.0489M9.71021%2011.8406L9.71021%202.34058M9.71021%202.34058L5.9102%205.97049M9.71021%202.34058L13.5102%205.97049'%20stroke='%23ABABAB'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",a7=({archiveDetailData:t,font:e})=>{const[n,r]=F.useState(!1),[i,s]=F.useState(!1),o=()=>{s(!1),setTimeout(()=>{r(!1)},200)},a=l=>l.split("T")[0].replace(/-/g,".");return p.jsxs("div",{children:[p.jsx("div",{className:"w-[22.5825rem]  px-5 py-6 rounded-[0.88rem] bg-gray-10 shadow-custom  ",children:p.jsxs("div",{className:"flex flex-col gap-5  ",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:`text-c1 text-gray-400 ${e}`,children:[a(t.excerpt.createdTime),t.excerpt.visibility==="PRVATE"&&"/ 나만보기"]}),p.jsxs("div",{className:`text-b2 text-gray-400 ${e}`,children:[t.excerpt.pageNumber,"p"]})]}),p.jsx("div",{className:`text-b2 text-gray-800 ${e}`,children:t.excerpt.excerptContent}),p.jsxs("div",{className:" flex gap-4 justify-end",children:[p.jsx("img",{className:"cursor-pointer",src:Zce,alt:"heart_gray"}),p.jsx("img",{className:"cursor-pointer",src:Jce,alt:"share_gray",onClick:()=>{r(!0)}})]})]})}),p.jsx(Ui,{bottomSheetShow:n,setBottomSheetShow:r,visible:i,setVisible:s,children:p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-st font-semibold",children:"내보내기"}),p.jsx("span",{className:"text-b1 text-gray-500 cursor-pointer",onClick:o,children:"취소"})]}),p.jsxs("div",{className:"flex flex-col my-4 px-1",children:[p.jsx(sa,{img:BQ,text:"카카오톡",isExported:!0}),p.jsx(sa,{img:SQ,text:"인스타그램 스토리",isExported:!0}),p.jsx(sa,{img:_Q,text:"X",isExported:!0}),p.jsx(sa,{img:EQ,text:"이미지 저장",isExported:!0}),p.jsx(sa,{img:bQ,text:"URL 복사",isExported:!0})]})]})})]})},Vp=({title:t,content:e,leftBtnText:n,rightBtnText:r,onLeftClick:i,onRightClick:s})=>p.jsx(p.Fragment,{children:p.jsx("div",{className:"flex justify-center items-center fixed top-0 z-30 w-[24.5625rem] h-screen bg-black bg-opacity-50",children:p.jsxs("div",{className:"flex flex-col items-center justify-center w-[18rem] h-[10.5rem] px-4 rounded-[1rem] bg-[#FFFFFF] text-center",children:[p.jsxs("div",{className:"flex flex-col gap-2 my-3  whitespace-pre-line",children:[p.jsx("div",{className:"text-st text-gray-800 font-semibold",children:t}),e&&p.jsx("div",{className:"text-b2 text-gray-400",children:e})]}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsx("button",{onClick:i,className:"w-[7.625rem] h-[3rem] p-[0.62rem] rounded-[0.5rem] bg-gray-600 text-b1 text-white font-semibold",children:n}),p.jsx("button",{onClick:s,className:"w-[7.625rem] h-[3rem] p-[0.62rem] rounded-[0.5rem] bg-orange-300 text-b1 text-white font-semibold",children:r})]})]})})}),MQ="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.4482%206.95156L17.0482%2010.5516M4.44824%2019.5516L8.81423%2018.6718C9.046%2018.6251%209.25882%2018.511%209.42596%2018.3438L19.1996%208.56474C19.6682%208.09588%2019.6679%207.33589%2019.1989%206.86743L17.1285%204.79936C16.6597%204.33109%2015.9001%204.33141%2015.4317%204.80007L5.657%2014.5801C5.49019%2014.747%205.37629%2014.9594%205.32954%2015.1907L4.44824%2019.5516Z'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",TQ="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='trash'%3e%3cpath%20id='Icon'%20d='M4%206.82353H19M8.6875%204H14.3125M9.625%2016.2353V10.5882M13.375%2016.2353V10.5882M14.7812%2020H8.21875C7.18322%2020%206.34375%2019.1572%206.34375%2018.1176L5.91569%207.80389C5.8935%207.26918%206.3193%206.82353%206.85238%206.82353H16.1476C16.6807%206.82353%2017.1065%207.26918%2017.0843%207.80389L16.6562%2018.1176C16.6562%2019.1572%2015.8168%2020%2014.7812%2020Z'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",pM=({bottomSheetShow:t,setBottomSheetShow:e,visible:n,setVisible:r,handleEdit:i,handleDelete:s,deleteOnly:o=!1,children:a})=>{F.useEffect(()=>{t&&r(!0)},[t]);const l=()=>{r(!1),setTimeout(()=>{e(!1)},300)};if(!t&&!n)return null;const A=p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{onClick:l,className:`${n?"bg-black bg-opacity-50":"bg-transparent"} w-[24.5625rem] h-screen z-30 fixed top-0 transition-colors duration-300`,children:p.jsx("section",{onClick:c=>c.stopPropagation(),className:`bg-white ${n?"animate-slideUp":"animate-slideDown"} bg-opacity-100 absolute bottom-0 w-[24.5625rem] h-fit z-50 rounded-t-xl  transition-transform duration-300`,children:p.jsxs("div",{className:"rounded-t-xl px-4 pt-5 pb-[3.125rem] bg-gray-50",children:[p.jsxs("div",{className:"flex flex-col bg-white rounded-lg",children:[!o&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{onClick:i,className:"flex items-center p-4 gap-3 text-btn2 cursor-pointer",children:[p.jsx("img",{className:"w-6 h-6",src:MQ}),"수정하기"]}),p.jsx(vs,{})]}),p.jsxs("div",{onClick:s,className:"flex items-center p-4 gap-3 text-btn2 cursor-pointer",children:[p.jsx("img",{src:TQ}),"삭제하기"]})]}),p.jsx("div",{className:"flex justify-center items-center mt-[2.5625rem] p-4 bg-white rounded-lg cursor-pointer",onClick:l,children:"취소"})]})})})});return wu.createPortal(A,document.getElementById("modal"))},yS=()=>{var Y;const{data:t,isLoading:e,isError:n}=_r({queryKey:["fontSettings"],queryFn:async()=>(await Ut("/settings")).recordFont,refetchOnMount:!0,refetchOnWindowFocus:!1}),r=window.location.pathname,[i,s]=F.useState(!1),[o,a]=F.useState(!1),[l,A]=F.useState(!1),[c,u]=F.useState(!1),d=bs(),{id:m}=ma(),[g,x]=F.useState(),[y,v]=F.useState(),[w,C]=F.useState(!1),[S,M]=F.useState(!1),[b,T]=F.useState(!1),L=Bt();F.useEffect(()=>{var re,Se;x((re=P.excerpt)==null?void 0:re.excerptId),v((Se=P.review)==null?void 0:Se.reviewId)},[]);const P=((Y=d.state)==null?void 0:Y.detailData)||{};console.log(P);const E=F.useRef(null),U=()=>{a(!0)},j=()=>{A(!1),setTimeout(()=>{a(!1)},300)},Q=()=>{j(),r.split("/")[1]==="total-archive-detail"?C(!0):u(!0)},G=()=>{u(!0)},J=()=>{u(!1)};F.useEffect(()=>{const re=E.current?E.current.clientHeight:0;s(re>621)},[r]);const k=async()=>{const re=m;if(S&&b){const Se=await d1({archiveId:re,excerptId:g,reviewId:y});console.log("전체 삭제",Se),L("/archive")}else if(S){const Se=await d1({archiveId:re,excerptId:g});console.log("빨췌 삭제",Se),L("/archive")}else if(b){const Se=await d1({archiveId:re,reviewId:y});console.log("리뷰 삭제",Se),L("/archive")}else{const Se=await d1({archiveId:re,excerptId:g,reviewId:y});console.log("삭제",Se),L("/archive")}},V=()=>{L(`/recording/edit/${m}`,{state:{}})},N=()=>{M(!S)},W=()=>{T(!b)};return p.jsxs("div",{className:"",children:[w&&p.jsx(p.Fragment,{children:p.jsx("div",{className:"fixed z-10 inset-0 bg-black bg-opacity-50 pointer-events-none"})}),p.jsx("div",{className:" mx-4",children:p.jsxs("div",{className:"flex flex-col gap-[0.31rem]",children:[p.jsx(CQ,{handleMenu:U}),p.jsxs("div",{ref:E,className:"flex flex-col gap-4",children:[r.split("/")[1]==="excerpt-archive-detail"&&p.jsx(a7,{archiveDetailData:P}),r.split("/")[1]==="review-archive-detail"&&p.jsx(o7,{archiveDetailData:P,font:t}),r.split("/")[1]==="total-archive-detail"&&p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:N,className:`${S?"z-10":""}`,children:p.jsx(a7,{archiveDetailData:P,font:t})}),p.jsx("div",{onClick:W,className:`${b?"z-10":""}`,children:p.jsx(o7,{archiveDetailData:P,font:t})})]}),p.jsx(Gce,{archiveDetailData:P,font:t})]}),p.jsx("div",{className:`mt-8 ${i?"mb-[1.38rem]":"absolute bottom-[1.38rem] left-1/2 -translate-x-1/2"}`,children:p.jsx(Wce,{})})]})}),o&&p.jsx(pM,{bottomSheetShow:o,setBottomSheetShow:a,visible:l,setVisible:A,handleDelete:Q,handleEdit:V}),c&&p.jsx(Vp,{title:S&&!b?"발췌카드를 삭제하시겠어요?":!S&&b?"감상카드를 삭제하시겠어요?":S&&b?"모두 삭제하시겠어요?":"정말 삭제하시겠어요?",content:"삭제된 카드는 다시 복구할 수 없어요.",leftBtnText:"삭제",rightBtnText:"취소",onLeftClick:k,onRightClick:J}),w&&p.jsx("div",{className:"fixed z-20 bottom-[10px] left-[16.5px] ",children:p.jsxs("div",{className:"flex gap-3 ",children:[p.jsx("button",{onClick:()=>{C(!1),M(!1),T(!1)},className:"w-[8.4375rem] h-[3rem] rounded-[0.5rem] bg-gray-400 text-white font-semibold text-btn2 pointer-events-auto",children:"취소"}),p.jsxs("button",{onClick:G,className:"w-[13.375rem] h-[3rem] rounded-[0.5rem] bg-orange-300 text-white font-semibold text-btn2 pointer-events-auto ",children:["삭제하기(",S&&b?"2":S||b?"1":"0",")"]})]})})]})},IQ=({bookInfo:t,edit:e=!1,author:n,title:r})=>{var o,a;console.log(t);const i=t.bookUnitDto?(o=t.bookUnitDto)==null?void 0:o.title:t.title,s=t.bookUnitDto?(a=t.bookUnitDto)==null?void 0:a.author:t.author;return p.jsx(p.Fragment,{children:p.jsx("div",{className:"w-[22.5625rem] h-[3.5rem] p-4 rounded-[0.5rem] bg-orange-50",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"text-b2 text-gray-800 font-semibold",children:e?r:i}),p.jsx("div",{className:"text-b2 text-gray-800",children:"/"}),p.jsx("div",{className:"text-b2 text-gray-800",children:e?n:s})]})})})},eue="data:image/svg+xml,%3csvg%20width='16'%20height='15'%20viewBox='0%200%2016%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.54655%203.24303V3.84303C4.75679%203.84303%204.9517%203.73298%205.0603%203.55296L4.54655%203.24303ZM5.78613%201.18823V0.588232C5.57589%200.588232%205.38098%200.698279%205.27238%200.878303L5.78613%201.18823ZM10.3903%201.18823L10.9041%200.878303C10.7955%200.698279%2010.6005%200.588232%2010.3903%200.588232V1.18823ZM11.6299%203.24303L11.1161%203.55296C11.2247%203.73298%2011.4196%203.84303%2011.6299%203.84303V3.24303ZM1.60488%2011.9759V4.95535H0.404883V11.9759H1.60488ZM2.77572%203.84303H4.54655V2.64303H2.77572V3.84303ZM5.0603%203.55296L6.29989%201.49816L5.27238%200.878303L4.03279%202.9331L5.0603%203.55296ZM5.78613%201.78823H10.3903V0.588232H5.78613V1.78823ZM9.87654%201.49816L11.1161%203.55296L12.1436%202.9331L10.9041%200.878303L9.87654%201.49816ZM11.6299%203.84303H13.4007V2.64303H11.6299V3.84303ZM14.5715%204.95536V11.9759H15.7715V4.95536H14.5715ZM14.5715%2011.9759C14.5715%2012.5714%2014.0665%2013.0882%2013.4007%2013.0882V14.2882C14.6909%2014.2882%2015.7715%2013.2718%2015.7715%2011.9759H14.5715ZM13.4007%203.84303C14.0665%203.84303%2014.5715%204.35987%2014.5715%204.95536H15.7715C15.7715%203.65945%2014.6909%202.64303%2013.4007%202.64303V3.84303ZM1.60488%204.95535C1.60488%204.35987%202.10992%203.84303%202.77572%203.84303V2.64303C1.4855%202.64303%200.404883%203.65945%200.404883%204.95535H1.60488ZM2.77572%2013.0882C2.10992%2013.0882%201.60488%2012.5714%201.60488%2011.9759H0.404883C0.404883%2013.2718%201.4855%2014.2882%202.77572%2014.2882V13.0882ZM10.1445%208.03755C10.1445%209.10588%209.24301%2010.006%208.08822%2010.006V11.206C9.86743%2011.206%2011.3445%209.8063%2011.3445%208.03755H10.1445ZM8.08822%2010.006C6.93342%2010.006%206.03197%209.10588%206.03197%208.03755H4.83197C4.83197%209.8063%206.309%2011.206%208.08822%2011.206V10.006ZM6.03197%208.03755C6.03197%206.96922%206.93342%206.06905%208.08822%206.06905V4.86905C6.309%204.86905%204.83197%206.2688%204.83197%208.03755H6.03197ZM8.08822%206.06905C9.24301%206.06905%2010.1445%206.96922%2010.1445%208.03755H11.3445C11.3445%206.2688%209.86743%204.86905%208.08822%204.86905V6.06905ZM13.4007%2013.0882H2.77572V14.2882H13.4007V13.0882Z'%20fill='%238A8A8A'/%3e%3c/svg%3e",Df=({height:t,children:e})=>p.jsx("div",{style:{height:t},className:"relative w-[22.5625rem] px-4 py-5 rounded-[0.5rem] bg-gray-50 ",children:e}),tue="data:image/svg+xml,%3csvg%20width='33'%20height='20'%20viewBox='0%200%2033%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_4833_28266)'%3e%3crect%20x='0.0966797'%20width='32.9032'%20height='20'%20rx='10'%20fill='%23FFBF68'/%3e%3cg%20filter='url(%23filter0_ddd_4833_28266)'%3e%3crect%20x='14'%20y='0.967773'%20width='17.4194'%20height='17.4194'%20rx='8.70968'%20fill='white'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_ddd_4833_28266'%20x='8.83871'%20y='-2.25803'%20width='27.742'%20height='27.742'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.93548'/%3e%3cfeGaussianBlur%20stdDeviation='0.322581'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_4833_28266'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.93548'/%3e%3cfeGaussianBlur%20stdDeviation='2.58065'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.15%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect1_dropShadow_4833_28266'%20result='effect2_dropShadow_4833_28266'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeMorphology%20radius='0.645161'%20operator='dilate'%20in='SourceAlpha'%20result='effect3_dropShadow_4833_28266'/%3e%3cfeOffset/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.04%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect2_dropShadow_4833_28266'%20result='effect3_dropShadow_4833_28266'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect3_dropShadow_4833_28266'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_4833_28266'%3e%3crect%20x='0.0966797'%20width='32.9032'%20height='20'%20rx='10'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",nue="data:image/svg+xml,%3csvg%20width='33'%20height='20'%20viewBox='0%200%2033%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_4897_26428)'%3e%3crect%20x='0.0966797'%20width='32.9032'%20height='20'%20rx='10'%20fill='%23EEEEEE'/%3e%3cg%20filter='url(%23filter0_ddd_4897_26428)'%3e%3crect%20x='1.48389'%20y='0.967773'%20width='17.4194'%20height='17.4194'%20rx='8.70968'%20fill='white'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_ddd_4897_26428'%20x='-3.6774'%20y='-2.25803'%20width='27.742'%20height='27.742'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.93548'/%3e%3cfeGaussianBlur%20stdDeviation='0.322581'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_4897_26428'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.93548'/%3e%3cfeGaussianBlur%20stdDeviation='2.58065'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.15%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect1_dropShadow_4897_26428'%20result='effect2_dropShadow_4897_26428'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeMorphology%20radius='0.645161'%20operator='dilate'%20in='SourceAlpha'%20result='effect3_dropShadow_4897_26428'/%3e%3cfeOffset/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.04%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect2_dropShadow_4897_26428'%20result='effect3_dropShadow_4897_26428'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect3_dropShadow_4897_26428'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_4897_26428'%3e%3crect%20x='0.0966797'%20width='32.9032'%20height='20'%20rx='10'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",FQ=({privateShow:t,handleToggle:e})=>p.jsx(p.Fragment,{children:p.jsxs("div",{onClick:e,className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("div",{className:`${t?"text-special":"text-gray-500"} text-b2`,children:"나만 보기"}),p.jsx("div",{children:t?p.jsx("img",{src:tue}):p.jsx("img",{src:nue})})]})}),UQ=({inputValue:t,setInputValue:e,handleTextField:n,pageInputValue:r,setPrivateShow:i,privateShow:s,font:o})=>{const a=()=>{i(!s)},l=async A=>{const c=A.target.files[0];if(c){const u=new FormData;u.append("image",c),console.log("발췌 시작");const d=await Oce(u);console.log(d.data),e(d.data)}};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col gap-[0.38rem]",children:[p.jsxs("div",{className:"flex justify-between py-2 mt-4",children:[p.jsx("div",{className:"text-b1 font-semibold",children:"발췌"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(FQ,{setPrivateShow:i,privateShow:s,handleToggle:a}),p.jsxs("label",{htmlFor:"ExtractImage",className:"flex gap-[0.47rem] items-center cursor-pointer",children:[p.jsx("img",{src:eue,alt:"camera"}),p.jsx("div",{className:"text-b2 text-gray-500",children:"문장스캔"})]}),p.jsx("input",{id:"ExtractImage",type:"file",className:"hidden",onChange:l})]})]}),p.jsx("div",{onClick:n,className:"cursor-pointer",children:p.jsxs(Df,{height:"11rem",children:[p.jsxs("div",{className:"flex gap-1 justify-end text-b2 ",children:[p.jsx("div",{className:`${r?"text-gray-800":"text-gray-400"} ${o}`,children:r||"페이지"}),p.jsx("div",{className:`text-gray-400 ${o}`,children:"p"})]}),p.jsx("textarea",{value:t,className:`w-[20.5625rem] h-[6rem] mt-2 bg-transparent text-b2 appearance-none outline-none resize-none ${o}`,placeholder:"책의 구절을 입력하세요",readOnly:!0})]})})]})})},rue=({stroke:t="#8A8A8A"})=>p.jsx("svg",{width:"31",height:"31",viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M20.1163 23.855C19.1733 23.855 18.269 23.4804 17.6022 22.8136C16.9354 22.1468 16.5608 21.2424 16.5608 20.2994V9.63276C16.5608 9.16126 16.7481 8.70908 17.0815 8.37568C17.4149 8.04228 17.867 7.85498 18.3385 7.85498H21.8941C22.3656 7.85498 22.8178 8.04228 23.1512 8.37568C23.4846 8.70908 23.6719 9.16126 23.6719 9.63276V20.2994C23.6719 21.2424 23.2973 22.1468 22.6305 22.8136C21.9637 23.4804 21.0593 23.855 20.1163 23.855ZM20.1163 23.855H9.44965C8.97816 23.855 8.52597 23.6677 8.19257 23.3343C7.85918 23.0009 7.67188 22.5487 7.67188 22.0772V18.5216C7.67188 18.0501 7.85918 17.598 8.19257 17.2646C8.52597 16.9312 8.97816 16.7439 9.44965 16.7439H11.4941M16.5608 11.7216L14.783 9.94387C14.4496 9.61059 13.9975 9.42336 13.5261 9.42336C13.0547 9.42336 12.6026 9.61059 12.2692 9.94387L9.75543 12.4576C9.42215 12.791 9.23492 13.2431 9.23492 13.7145C9.23492 14.1859 9.42215 14.638 9.75543 14.9714L17.7554 22.9714M20.1163 20.2994V20.3083",stroke:t,strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}),iue="data:image/svg+xml,%3csvg%20width='31'%20height='31'%20viewBox='0%200%2031%2031'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.1163%2023.855C19.1733%2023.855%2018.269%2023.4804%2017.6022%2022.8136C16.9354%2022.1468%2016.5608%2021.2424%2016.5608%2020.2994V9.63276C16.5608%209.16126%2016.7481%208.70908%2017.0815%208.37568C17.4149%208.04228%2017.867%207.85498%2018.3385%207.85498H21.8941C22.3656%207.85498%2022.8178%208.04228%2023.1512%208.37568C23.4846%208.70908%2023.6719%209.16126%2023.6719%209.63276V20.2994C23.6719%2021.2424%2023.2973%2022.1468%2022.6305%2022.8136C21.9637%2023.4804%2021.0593%2023.855%2020.1163%2023.855ZM20.1163%2023.855H9.44965C8.97816%2023.855%208.52597%2023.6677%208.19257%2023.3343C7.85918%2023.0009%207.67188%2022.5487%207.67188%2022.0772V18.5216C7.67188%2018.0501%207.85918%2017.598%208.19257%2017.2646C8.52597%2016.9312%208.97816%2016.7439%209.44965%2016.7439H11.4941M16.5608%2011.7216L14.783%209.94387C14.4496%209.61059%2013.9975%209.42336%2013.5261%209.42336C13.0547%209.42336%2012.6026%209.61059%2012.2692%209.94387L9.75543%2012.4576C9.42215%2012.791%209.23492%2013.2431%209.23492%2013.7145C9.23492%2014.1859%209.42215%2014.638%209.75543%2014.9714L17.7554%2022.9714M20.1163%2020.2994V20.3083'%20stroke='%238A8A8A'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",LQ=({inputValue:t,handleTextField:e,titleInputValue:n,bookTitleValue:r="책제목",authorValue:i="지은이",reviewPrivateShow:s,setReviewPrivateShow:o,handleDecoration:a,font:l})=>{const{reviewColor:A}=sh();Bt();const c=()=>{o(!s)};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col gap-[0.38rem]",children:[p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsx("div",{className:"text-b1 font-semibold",children:"감상평"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(FQ,{privateShow:s,setReviewPrivateShow:o,handleToggle:c}),p.jsxs("div",{className:"flex items-center cursor-pointer",children:[A?p.jsx(rue,{stroke:A}):p.jsx("img",{src:iue}),p.jsx("div",{onClick:a,style:A?{color:A}:void 0,className:`text-b2 ${A?"":"text-gray-500"}`,children:"카드색상"})]})]})]}),p.jsx("div",{onClick:e,className:"cursor-pointer",children:p.jsx(Df,{height:"14rem",children:p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("input",{value:n,placeholder:"제목 (25자 이내로 작성하세요)",className:`text-b1 font-semibold bg-transparent ${l}`}),p.jsx("textarea",{value:t,className:`w-[20.5625rem] h-[9rem] mt-2 bg-transparent text-b2 appearance-none outline-none resize-none ${l}`,placeholder:"책에 대한 자유로운 감상을 기록하세요"})]})})})]})})},RQ=O2(t=>({pageInputValue:"",extractInputValue:"",setPageInputValue:e=>t({pageInputValue:e}),setExtractInputValue:e=>t({extractInputValue:e}),resetExtractData:()=>t({pageInputValue:"",extractInputValue:""})})),PQ=O2(t=>({reviewPage:"",titleInputValue:"",reviewInputValue:"",setReviewPage:e=>t({reviewPage:e}),setTitleInputValue:e=>t({titleInputValue:e}),setReviewInputValue:e=>t({reviewInputValue:e}),resetReviewData:()=>t({reviewPage:"",titleInputValue:"",reviewInputValue:""})})),sue=()=>{const t=Bt(),[e,n]=F.useState(""),[r,i]=F.useState(""),[s,o]=F.useState(!1),[a,l]=F.useState(!1),[A,c]=F.useState(""),[u,d]=F.useState(!1),[m,g]=F.useState(!1),{reviewColor:x,setReviewColor:y}=sh(),{bookInfo:v,setBookInfo:w}=ih();F.useEffect(()=>{var Be,Le;n((Be=location.state)==null?void 0:Be.author),i((Le=location.state)==null?void 0:Le.title)},[]);const{data:C,isLoading:S,isError:M,error:b}=_r({queryKey:["fontSettings"],queryFn:async()=>{const Be=await Ut("/settings");return console.log(Be),Be.recordFont},refetchOnMount:!0,refetchOnWindowFocus:!1}),{pageInputValue:T,setPageInputValue:L,extractInputValue:P,setExtractInputValue:E}=RQ();console.log("pageInputValue:",T,"extract:",P);const{reviewPage:U,setReviewPage:j,titleInputValue:Q,setTitleInputValue:G,reviewInputValue:J,setReviewInputValue:k}=PQ(),V=()=>{y(""),t("/selectBook")},N=()=>{y(""),t("/selectBook")},W=Be=>{E(Be.target.value)},Y=Be=>{k(Be.target.value)},re=()=>{o(!0),c("발췌")},Se=()=>{o(!0),c("감상평")},Fe=()=>{l(!1),setTimeout(()=>{o(!1)},300)};console.log(v);const ce=async()=>{var oe,ie,de,te,fe,O;const Be={};v.userBookId?T&&P&&J?(Be.excerpt={excerptContent:P,visibility:u===!0?"PRIVATE":"PUBLIC",pageNumber:parseInt(T,10),userBookId:v.userBookId?v.userBookId:null},Be.review={reviewTitle:Q,reviewContent:J,color:x,visibility:m===!0?"PRIVATE":"PUBLIC",userBookId:v.userBookId?v.userBookId:null}):T&&P?Be.excerpt={excerptContent:P,visibility:u===!0?"PRIVATE":"PUBLIC",pageNumber:parseInt(T,10),userBookId:v.userBookId?v.userBookId:null}:J&&(Be.review={reviewTitle:Q,reviewContent:J,color:x,visibility:m===!0?"PRIVATE":"PUBLIC",userBookId:v.userBookId?v.userBookId:null},y("")):(Be.excerpt={excerptContent:P,visibility:u===!0?"PRIVATE":"PUBLIC",pageNumber:parseInt(T,10),userBookId:null},Be.review={reviewTitle:Q,reviewContent:J,color:x,visibility:m===!0?"PRIVATE":"PUBLIC",userBookId:null},Be.userBook={title:v.bookUnitDto.title,author:v.bookUnitDto.author,publisher:(oe=v.bookUnitDto)==null?void 0:oe.publisher,publishDate:(ie=v.bookUnitDto)==null?void 0:ie.publishDate,description:(de=v.bookUnitDto)==null?void 0:de.description,genreId:(te=v.bookUnitDto)==null?void 0:te.genreId,category:["fiction"],imgPath:(fe=v.bookUnitDto)==null?void 0:fe.imgPath,language:(O=v.bookUnitDto)==null?void 0:O.language,readStatus:"READING",providerId:v.providerId}),console.log(Be);const Le=await Nce(Be);console.log(Le),w({}),L(),E(""),G(""),k(""),t("/archive")},pe=()=>{t("/recording/decoration",{state:{textValue:J,titleValue:Q,bookTitleValue:r,authorValue:e}})};return p.jsxs(p.Fragment,{children:[p.jsx(nr,{title:"기록하기",check:!0,handleCancel:N,handleBack:V,handleComplete:ce}),p.jsx("div",{className:"flex flex-col gap-[1rem] mx-4",children:p.jsx("div",{className:"mt-5",children:p.jsx(IQ,{bookInfo:v})})}),p.jsx("div",{className:"mx-4",children:p.jsx(UQ,{inputValue:P,setInputValue:E,pageInputValue:T,handleTextField:re,privateShow:u,setPrivateShow:d,font:C})}),p.jsx("div",{className:"mt-7 mb-4",children:p.jsx(vs,{})}),p.jsx("div",{className:"mx-4",children:p.jsx(LQ,{inputValue:J,handleTextField:Se,titleInputValue:Q,bookTitleValue:v.title,authorValue:v.author,reviewPrivateShow:m,setReviewPrivateShow:g,handleDecoration:pe,font:C})}),p.jsx("div",{className:"h-[7.5rem]"}),p.jsx("div",{className:"relative",children:p.jsxs(Ui,{bottomSheetShow:s,setBottomSheetShow:o,visible:a,setVisible:l,children:[p.jsx("div",{className:"absolute w-10 h-1 top-[0.75rem] left-1/2 -translate-x-1/2 rounded-[0.25rem] bg-gray-300"}),p.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[A==="발췌"&&p.jsxs(p.Fragment,{children:[p.jsxs(Df,{height:"18rem",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("div",{className:"flex justify-end",children:p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsx("input",{type:"number",placeholder:"페이지",value:T,onChange:Be=>L(Be.target.value),className:"w-[2.5rem] bg-transparent text-b2 text-gray-800"}),p.jsx("div",{className:`text-b2 text-gray-400 ${C}`,children:"p"})]})}),p.jsx("textarea",{value:P,onChange:W,placeholder:"책의 구절을 입력하세요",maxLength:300,className:`w-[20.5625rem] h-[11.5rem] mt-2 bg-transparent text-b2 text-gray-800 appearance-none outline-none resize-none ${C}`})]}),p.jsx("div",{className:"absolute bottom-5 right-4",children:p.jsxs("div",{className:`text-btn3 ${P.length>300?"text-red":"text-gray-400"}`,children:[P.length,"/300"]})})]}),p.jsx(mr,{text:"완료",type:"primary",color:"gray",onClick:Fe,disabled:!P||!T})]}),A==="감상평"&&p.jsxs(p.Fragment,{children:[p.jsxs(Df,{height:"18rem",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("input",{value:Q,onChange:Be=>G(Be.target.value),placeholder:"제목 (25자 이내로 작성하세요)",className:`text-b1 font-semibold bg-transparent ${C}`}),p.jsx("textarea",{value:J,onChange:Y,placeholder:"책에 대한 자유로운 감상을 기록하세요",maxLength:1e3,className:`w-[20.5625rem] h-[11rem] mt-2 bg-transparent text-b2 text-gray-800 appearance-none outline-none resize-none ${C}`})]}),p.jsx("div",{className:"absolute bottom-5 right-4",children:p.jsxs("div",{className:`text-btn3 ${J.length>1e3?"text-red":"text-gray-400"}`,children:[J.length,"/1000"]})})]}),p.jsx(mr,{text:"완료",type:"primary",color:"gray",onClick:Fe,disabled:!J})]})]})]})})]})},oue="/assets/logo-text-DSXD87NH.svg",aue="data:image/svg+xml,%3csvg%20width='21'%20height='20'%20viewBox='0%200%2021%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.50923%200.914564C8.54515%200.815767%208.63905%200.75%208.74418%200.75H12.7629C12.8656%200.75%2012.9579%200.812813%2012.9955%200.908369L13.7479%202.81842C14.0517%203.5896%2014.8549%204.04189%2015.6718%203.90184L17.6956%203.5549C17.7973%203.53747%2017.8993%203.58431%2017.9523%203.67282L19.9764%207.05086C20.0329%207.14514%2020.0212%207.26525%2019.9476%207.34684L18.6161%208.82239C18.0117%209.4923%2018.0156%2010.512%2018.6253%2011.1772L19.9452%2012.6173C20.0197%2012.6985%2020.0322%2012.819%2019.9759%2012.9138L17.9519%2016.3226C17.8988%2016.412%2017.7958%2016.4592%2017.6934%2016.4411L15.7067%2016.0901C14.8583%2015.9402%2014.027%2016.4301%2013.7471%2017.2449L13.1163%2019.0812C13.0817%2019.1822%2012.9867%2019.25%2012.8799%2019.25H8.74563C8.64032%2019.25%208.54631%2019.184%208.51052%2019.085L7.8352%2017.2165C7.54584%2016.4159%206.72233%2015.9397%205.88409%2016.0882L3.88899%2016.4417C3.78716%2016.4598%203.68473%2016.4132%203.63131%2016.3247L1.57756%2012.92C1.51967%2012.824%201.53273%2012.7012%201.60952%2012.6196L2.95068%2011.1936C3.58072%2010.5237%203.58479%209.48048%202.96%208.8057L1.60717%207.34464C1.53125%207.26266%201.51896%207.14025%201.57706%207.0448L0.936415%206.65484L1.57706%207.0448L3.63105%203.67046C3.68436%203.58287%203.78577%203.53671%203.88684%203.55404L5.89373%203.89808C6.72788%204.04108%207.54483%203.56666%207.83406%202.77129L8.50923%200.914564Z'%20stroke='%23323232'%20stroke-width='1.5'/%3e%3ccircle%20cx='10.8438'%20cy='10'%20r='2.25'%20stroke='%23323232'%20stroke-width='1.5'/%3e%3c/svg%3e",lue="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.8437%2012.5V12.7003L19.9435%2012.8739L21.2395%2015.1277C21.9103%2016.2943%2021.0682%2017.75%2019.7224%2017.75H5.36502C4.01924%2017.75%203.1771%2016.2943%203.84793%2015.1277L5.14388%2012.8739L5.2437%2012.7003V12.5V10.0561C5.2437%207.03232%207.154%204.30897%209.99447%203.25041C11.6275%202.64184%2013.4599%202.64184%2015.0929%203.25041C17.9334%204.30897%2019.8437%207.03232%2019.8437%2010.0561V12.5Z'%20stroke='%23323232'%20stroke-width='1.5'/%3e%3cpath%20d='M16.0437%2018C16.0437%2018.9283%2015.675%2019.8185%2015.0186%2020.4749C14.3622%2021.1313%2013.472%2021.5%2012.5437%2021.5C11.6154%2021.5%2010.7252%2021.1313%2010.0688%2020.4749C9.41245%2019.8185%209.0437%2018.9283%209.0437%2018L12.5437%2018H16.0437Z'%20stroke='%23323232'%20stroke-width='1.5'/%3e%3c/svg%3e",Aue="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_4001_43018)'%3e%3cpath%20d='M14.6524%2018.875V17.125C14.6524%2016.1967%2014.2917%2015.3065%2013.6496%2014.6501C13.0075%2013.9937%2012.1366%2013.625%2011.2285%2013.625H4.3807C3.47262%2013.625%202.60174%2013.9937%201.95963%2014.6501C1.31752%2015.3065%200.956787%2016.1967%200.956787%2017.125V18.875'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.26106%2010.125C10.2781%2010.125%2011.9132%208.558%2011.9132%206.625C11.9132%204.692%2010.2781%203.125%208.26106%203.125C6.24402%203.125%204.60889%204.692%204.60889%206.625C4.60889%208.558%206.24402%2010.125%208.26106%2010.125Z'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M20.1307%2018.875V17.0862C20.1301%2016.2936%2019.8608%2015.5236%2019.365%2014.8971C18.8692%2014.2706%2018.1751%2013.8232%2017.3916%2013.625'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.7393%203.125C14.5228%203.32398%2015.2173%203.77596%2015.7132%204.40967C16.2092%205.04338%2016.4784%205.82278%2016.4784%206.625C16.4784%207.42722%2016.2092%208.20662%2015.7132%208.84033C15.2173%209.47404%2014.5228%209.92602%2013.7393%2010.125'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_4001_43018'%3e%3crect%20width='21'%20height='21'%20fill='white'%20transform='translate(0.0437012%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cue=({title:t="제목",main:e=!0,isDot:n=!1})=>{const r=Bt();return p.jsxs("div",{className:"flex justify-between items-center h-[2.75rem]",children:[e?p.jsx("img",{src:oue,alt:"logo",onClick:()=>r("/home"),className:"cursor-pointer"}):p.jsx("div",{className:"text-t2 ml-[16px] font-semibold",children:t}),p.jsxs("div",{className:"flex  gap-5",children:[e&&p.jsxs(p.Fragment,{children:[p.jsx("img",{src:Aue,alt:"friends",onClick:()=>r("/friend"),className:"cursor-pointer"}),p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:lue,alt:"alarm",onClick:()=>r("/notification"),className:"cursor-pointer"}),n===!0&&p.jsx("img",{src:h5,className:"absolute right-[0.13rem] top-[0.25rem]"})]})]}),p.jsx("img",{src:aue,alt:"setting",onClick:()=>r("/setting"),className:"cursor-pointer"})]})]})};function wi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uue=typeof Symbol=="function"&&Symbol.observable||"@@observable",l7=uue,xS=()=>Math.random().toString(36).substring(7).split("").join("."),due={INIT:`@@redux/INIT${xS()}`,REPLACE:`@@redux/REPLACE${xS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xS()}`},A7=due;function fue(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function NQ(t,e,n){if(typeof t!="function")throw new Error(wi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wi(1));return n(NQ)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function A(){o===s&&(o=new Map,s.forEach((y,v)=>{o.set(v,y)}))}function c(){if(l)throw new Error(wi(3));return i}function u(y){if(typeof y!="function")throw new Error(wi(4));if(l)throw new Error(wi(5));let v=!0;A();const w=a++;return o.set(w,y),function(){if(v){if(l)throw new Error(wi(6));v=!1,A(),o.delete(w),s=null}}}function d(y){if(!fue(y))throw new Error(wi(7));if(typeof y.type>"u")throw new Error(wi(8));if(typeof y.type!="string")throw new Error(wi(17));if(l)throw new Error(wi(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(w=>{w()}),y}function m(y){if(typeof y!="function")throw new Error(wi(10));r=y,d({type:A7.REPLACE})}function g(){const y=u;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(wi(11));function w(){const S=v;S.next&&S.next(c())}return w(),{unsubscribe:y(w)}},[l7](){return this}}}return d({type:A7.INIT}),{dispatch:d,subscribe:u,getState:c,replaceReducer:m,[l7]:g}}function c7(t,e){return function(...n){return e(t.apply(this,n))}}function u7(t,e){if(typeof t=="function")return c7(t,e);if(typeof t!="object"||t===null)throw new Error(wi(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=c7(i,e))}return n}function DQ(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hue(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(wi(15))};const o={getState:i.getState,dispatch:(l,...A)=>s(l,...A)},a=t.map(l=>l(o));return s=DQ(...a)(i.dispatch),{...i,dispatch:s}}}var pue={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2=F;function mue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gue=typeof Object.is=="function"?Object.is:mue,vue=H2.useSyncExternalStore,yue=H2.useRef,xue=H2.useEffect,wue=H2.useMemo,Cue=H2.useDebugValue;pue.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=yue(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wue(function(){function l(m){if(!A){if(A=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return u=g}return u=m}if(g=u,gue(c,m))return g;var x=r(m);return i!==void 0&&i(g,x)?g:(c=m,u=x)}var A=!1,c,u,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=vue(t,s[0],s[1]);return xue(function(){o.hasValue=!0,o.value=a},[a]),Cue(a),a};var vn="default"in A_?vt:A_,d7=Symbol.for("react-redux-context"),f7=typeof globalThis<"u"?globalThis:{};function Bue(){if(!vn.createContext)return{};const t=f7[d7]??(f7[d7]=new Map);let e=t.get(vn.createContext);return e||(e=vn.createContext(null),t.set(vn.createContext,e)),e}var OQ=Bue(),Sue=()=>{throw new Error("uSES not initialized!")},_ue=Symbol.for("react.element"),Eue=Symbol.for("react.portal"),bue=Symbol.for("react.fragment"),Mue=Symbol.for("react.strict_mode"),Tue=Symbol.for("react.profiler"),Iue=Symbol.for("react.provider"),Fue=Symbol.for("react.context"),Uue=Symbol.for("react.server_context"),kQ=Symbol.for("react.forward_ref"),Lue=Symbol.for("react.suspense"),Rue=Symbol.for("react.suspense_list"),mM=Symbol.for("react.memo"),Pue=Symbol.for("react.lazy"),Nue=kQ,Due=mM;function Oue(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case _ue:{const n=t.type;switch(n){case bue:case Tue:case Mue:case Lue:case Rue:return n;default:{const r=n&&n.$$typeof;switch(r){case Uue:case Fue:case kQ:case Pue:case mM:case Iue:return r;default:return e}}}}case Eue:return e}}}function kue(t){return Oue(t)===mM}function Que(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,A,c,u,d;function m(w,C){return l=w,A=C,c=t(l,A),u=e(r,A),d=n(c,u,A),a=!0,d}function g(){return c=t(l,A),e.dependsOnOwnProps&&(u=e(r,A)),d=n(c,u,A),d}function x(){return t.dependsOnOwnProps&&(c=t(l,A)),e.dependsOnOwnProps&&(u=e(r,A)),d=n(c,u,A),d}function y(){const w=t(l,A),C=!o(w,c);return c=w,C&&(d=n(c,u,A)),d}function v(w,C){const S=!s(C,A),M=!i(w,l,C,A);return l=w,A=C,S&&M?g():S?x():M?y():d}return function(C,S){return a?v(C,S):m(C,S)}}function Hue(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return Que(s,o,a,t,i)}function jue(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function A4(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function h7(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function QQ(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=h7(t);let A=s(a,l);return typeof A=="function"&&(s.mapToProps=A,s.dependsOnOwnProps=h7(A),A=s(a,l)),A},s}}function gM(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Vue(t){return t&&typeof t=="object"?A4(e=>jue(t,e)):t?typeof t=="function"?QQ(t):gM(t,"mapDispatchToProps"):A4(e=>({dispatch:e}))}function zue(t){return t?typeof t=="function"?QQ(t):gM(t,"mapStateToProps"):A4(()=>({}))}function Gue(t,e,n){return{...n,...t,...e}}function Kue(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,A,c){const u=t(l,A,c);return s?i(u,o)||(o=u):(s=!0,o=u),o}}}function Wue(t){return t?typeof t=="function"?Kue(t):gM(t,"mergeProps"):()=>Gue}function Xue(t){t()}function $ue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Xue(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var p7={notify(){},get:()=>[]};function HQ(t,e){let n,r=p7,i=0,s=!1;function o(x){c();const y=r.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),u())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function A(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=$ue())}function u(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=p7)}function d(){s||(s=!0,c())}function m(){s&&(s=!1,u())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:A,trySubscribe:d,tryUnsubscribe:m,getListeners:()=>r};return g}var Yue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",que=typeof navigator<"u"&&navigator.product==="ReactNative",ex=Yue||que?vn.useLayoutEffect:vn.useEffect;function m7(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wS(t,e){if(m7(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!m7(t[n[i]],e[n[i]]))return!1;return!0}var Zue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Jue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ede={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tde={[Nue]:ede,[Due]:jQ};function g7(t){return kue(t)?jQ:tde[t.$$typeof]||Zue}var nde=Object.defineProperty,rde=Object.getOwnPropertyNames,v7=Object.getOwnPropertySymbols,ide=Object.getOwnPropertyDescriptor,sde=Object.getPrototypeOf,y7=Object.prototype;function c4(t,e){if(typeof e!="string"){if(y7){const s=sde(e);s&&s!==y7&&c4(t,s)}let n=rde(e);v7&&(n=n.concat(v7(e)));const r=g7(t),i=g7(e);for(let s=0;s<n.length;++s){const o=n[s];if(!Jue[o]&&!(i&&i[o])&&!(r&&r[o])){const a=ide(e,o);try{nde(t,o,a)}catch{}}}}return t}var VQ=Sue,ode=t=>{VQ=t},ade=[null,null];function lde(t,e,n){ex(()=>t(...e),n)}function Ade(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function cde(t,e,n,r,i,s,o,a,l,A,c){if(!t)return()=>{};let u=!1,d=null;const m=()=>{if(u||!a.current)return;const x=e.getState();let y,v;try{y=r(x,i.current)}catch(w){v=w,d=w}v||(d=null),y===s.current?o.current||A():(s.current=y,l.current=y,o.current=!0,c())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function ude(t,e){return t===e}function dde(t,e,n,{pure:r,areStatesEqual:i=ude,areOwnPropsEqual:s=wS,areStatePropsEqual:o=wS,areMergedPropsEqual:a=wS,forwardRef:l=!1,context:A=OQ}={}){const c=A,u=zue(t),d=Vue(e),m=Wue(n),g=!!t;return y=>{const v=y.displayName||y.name||"Component",w=`Connect(${v})`,C={shouldHandleStateChanges:g,displayName:w,wrappedComponentName:v,WrappedComponent:y,initMapStateToProps:u,initMapDispatchToProps:d,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function S(T){const[L,P,E]=vn.useMemo(()=>{const{reactReduxForwardedRef:fe,...O}=T;return[T.context,fe,O]},[T]),U=vn.useMemo(()=>{let fe=c;return L!=null&&L.Consumer,fe},[L,c]),j=vn.useContext(U),Q=!!T.store&&!!T.store.getState&&!!T.store.dispatch,G=!!j&&!!j.store,J=Q?T.store:j.store,k=G?j.getServerState:J.getState,V=vn.useMemo(()=>Hue(J.dispatch,C),[J]),[N,W]=vn.useMemo(()=>{if(!g)return ade;const fe=HQ(J,Q?void 0:j.subscription),O=fe.notifyNestedSubs.bind(fe);return[fe,O]},[J,Q,j]),Y=vn.useMemo(()=>Q?j:{...j,subscription:N},[Q,j,N]),re=vn.useRef(void 0),Se=vn.useRef(E),Fe=vn.useRef(void 0),ce=vn.useRef(!1),pe=vn.useRef(!1),Be=vn.useRef(void 0);ex(()=>(pe.current=!0,()=>{pe.current=!1}),[]);const Le=vn.useMemo(()=>()=>Fe.current&&E===Se.current?Fe.current:V(J.getState(),E),[J,E]),oe=vn.useMemo(()=>O=>N?cde(g,J,N,V,Se,re,ce,pe,Fe,W,O):()=>{},[N]);lde(Ade,[Se,re,ce,E,Fe,W]);let ie;try{ie=VQ(oe,Le,k?()=>V(k(),E):Le)}catch(fe){throw Be.current&&(fe.message+=`
The error may be correlated with this previous error:
${Be.current.stack}

`),fe}ex(()=>{Be.current=void 0,Fe.current=void 0,re.current=ie});const de=vn.useMemo(()=>vn.createElement(y,{...ie,ref:P}),[P,y,ie]);return vn.useMemo(()=>g?vn.createElement(U.Provider,{value:Y},de):de,[U,de,Y])}const b=vn.memo(S);if(b.WrappedComponent=y,b.displayName=S.displayName=w,l){const L=vn.forwardRef(function(E,U){return vn.createElement(b,{...E,reactReduxForwardedRef:U})});return L.displayName=w,L.WrappedComponent=y,c4(L,y)}return c4(b,y)}}var zQ=dde;function fde({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=vn.useMemo(()=>{const A=HQ(t);return{store:t,subscription:A,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=vn.useMemo(()=>t.getState(),[t]);ex(()=>{const{subscription:A}=o;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==t.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[o,a]);const l=e||OQ;return vn.createElement(l.Provider,{value:o},n)}var hde=fde;ode(F.useSyncExternalStore);function pde(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function GQ(t,e){var n=F.useState(function(){return{inputs:e,result:t()}})[0],r=F.useRef(!0),i=F.useRef(n),s=r.current||!!(e&&i.current.inputs&&pde(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return F.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function mde(t,e){return GQ(function(){return t},e)}var ln=GQ,yt=mde,gde="Invariant failed";function vde(t,e){throw new Error(gde)}var So=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},vM=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},x7=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},yde=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},CS={top:0,right:0,bottom:0,left:0},yM=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?CS:r,s=e.border,o=s===void 0?CS:s,a=e.padding,l=a===void 0?CS:a,A=So(vM(n,i)),c=So(x7(n,o)),u=So(x7(c,l));return{marginBox:A,borderBox:So(n),paddingBox:c,contentBox:u,margin:i,border:o,padding:l}},Ds=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&vde(),i},xde=function(){return{x:window.pageXOffset,y:window.pageYOffset}},tx=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=yde(r,n);return yM({borderBox:a,border:i,margin:s,padding:o})},nx=function(e,n){return n===void 0&&(n=xde()),tx(e,n)},KQ=function(e,n){var r={top:Ds(n.marginTop),right:Ds(n.marginRight),bottom:Ds(n.marginBottom),left:Ds(n.marginLeft)},i={top:Ds(n.paddingTop),right:Ds(n.paddingRight),bottom:Ds(n.paddingBottom),left:Ds(n.paddingLeft)},s={top:Ds(n.borderTopWidth),right:Ds(n.borderRightWidth),bottom:Ds(n.borderBottomWidth),left:Ds(n.borderLeftWidth)};return yM({borderBox:e,margin:r,padding:i,border:s})},WQ=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return KQ(n,r)},w7=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function wde(t,e){return!!(t===e||w7(t)&&w7(e))}function Cde(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!wde(t[n],e[n]))return!1;return!0}function Nr(t,e){e===void 0&&(e=Cde);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var zp=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function XQ(t,e){}XQ.bind(null,"warn");XQ.bind(null,"error");function wA(){}function Bde(t,e){return{...t,...e}}function $s(t,e,n){const r=e.map(i=>{const s=Bde(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const Sde="Invariant failed";class rx extends Error{}rx.prototype.toString=function(){return this.message};function Ge(t,e){throw new rx(Sde)}class _de extends vt.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=wA,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof rx&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=$s(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof rx){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Ede=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ix=t=>t+1,bde=t=>`
  You have lifted an item in position ${ix(t.source.index)}
`,$Q=(t,e)=>{const n=t.droppableId===e.droppableId,r=ix(t.index),i=ix(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},YQ=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Mde=t=>{const e=t.destination;if(e)return $Q(t.source,e);const n=t.combine;return n?YQ(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},C7=t=>`
  The item has returned to its starting position
  of ${ix(t.index)}
`,Tde=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${C7(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${$Q(t.source,e)}
    `:n?`
      You have dropped the item.
      ${YQ(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${C7(t.source)}
  `},dv={dragHandleUsageInstructions:Ede,onDragStart:bde,onDragUpdate:Mde,onDragEnd:Tde},kr={x:0,y:0},zr=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),ps=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),CA=(t,e)=>t.x===e.x&&t.y===e.y,oh=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),mu=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Gp=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),B7=(t,e)=>Math.min(...e.map(n=>Gp(t,n))),qQ=t=>e=>({x:t(e.x),y:t(e.y)});var Ide=(t,e)=>{const n=So({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const j2=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),S7=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Fde={top:0,right:0,bottom:0,left:0},Ude=(t,e)=>e?j2(t,e.scroll.diff.displacement):t,Lde=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,Rde=(t,e)=>e&&e.shouldClipSubject?Ide(e.pageMarginBox,t):So(t);var Of=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=Ude(t.marginBox,r),s=Lde(i,n,e),o=Rde(s,r);return{page:t,withPlaceholder:e,active:o}},xM=(t,e)=>{t.frame||Ge();const n=t.frame,r=ps(e,n.scroll.initial),i=oh(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},o=Of({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};const ZQ=Nr(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),JQ=Nr(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Gw=Nr(t=>Object.values(t)),Pde=Nr(t=>Object.values(t));var ah=Nr((t,e)=>Pde(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function wM(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Kw(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Ww=Nr((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),Nde=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!wM(i))return null;function o(m){const g={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:g}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const A=Ww(e,r);if(!l){if(!A.length)return null;const m=A[A.length-1];return o(m.descriptor.id)}const c=A.findIndex(m=>m.descriptor.id===l);c===-1&&Ge();const u=c-1;if(u<0)return null;const d=A[u];return o(d.descriptor.id)},lh=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const eH={point:kr,value:0},Kp={invisible:{},visible:{},all:[]},Dde={displaced:Kp,displacedBy:eH,at:null};var to=(t,e)=>n=>t<=n&&n<=e,tH=t=>{const e=to(t.top,t.bottom),n=to(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<t.top&&r.bottom>t.bottom,A=r.left<t.left&&r.right>t.right;return l&&A?!0:l&&o||A&&s}},Ode=t=>{const e=to(t.top,t.bottom),n=to(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const CM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},nH={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var kde=t=>e=>{const n=to(e.top,e.bottom),r=to(e.left,e.right);return i=>t===CM?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Qde=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:kr;return j2(t,n)},Hde=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,jde=(t,e,n)=>n(e)(t),BM=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?Qde(t,e):t;return Hde(s,e,i)&&jde(s,n,i)},Vde=t=>BM({...t,isVisibleThroughFrameFn:tH}),rH=t=>BM({...t,isVisibleThroughFrameFn:Ode}),zde=t=>BM({...t,isVisibleThroughFrameFn:kde(t.destination.axis)}),Gde=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function Kde(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return So(vM(n,r))}function Wp({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const A=Kde(l,n),c=l.descriptor.id;if(a.all.push(c),!Vde({target:A,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const d=Gde(c,s,i),m={draggableId:c,shouldAnimate:d};return a.visible[c]=m,a},{all:[],visible:{},invisible:{}})}function Wde(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function _7({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=Wde(t,{inHomeList:e});return{displaced:Kp,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function sx({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=lh(t,n);if(o==null)return _7({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const A=e.find(g=>g.descriptor.index===o);if(!A)return _7({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const c=Ww(t,e),u=e.indexOf(A),d=c.slice(u);return{displaced:Wp({afterDragging:d,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function UA(t,e){return!!e.effected[t]}var Xde=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return UA(s,i)?t?a:a-1:t?a+1:a},$de=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},Yde=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const A=o.at;if(A||Ge(),A.type==="REORDER"){const u=$de({isMovingForward:t,isInHomeList:e,location:A.destination,insideDestination:s});return u==null?null:sx({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})}const c=Xde({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:A.combine,afterCritical:l});return c==null?null:sx({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:c})},qde=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return UA(n,e)?i?kr:oh(r.point):i?r.point:kr},Zde=({afterCritical:t,impact:e,draggables:n})=>{const r=Kw(e);r||Ge();const i=r.draggableId,s=n[i].page.borderBox.center,o=qde({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return zr(s,o)};const iH=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,Jde=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,SM=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,E7=({axis:t,moveRelativeTo:e,isMoving:n})=>mu(t.line,e.marginBox[t.end]+iH(t,n),SM(t,e.marginBox,n)),b7=({axis:t,moveRelativeTo:e,isMoving:n})=>mu(t.line,e.marginBox[t.start]-Jde(t,n),SM(t,e.marginBox,n)),efe=({axis:t,moveInto:e,isMoving:n})=>mu(t.line,e.contentBox[t.start]+iH(t,n),SM(t,e.contentBox,n));var tfe=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=ah(r.descriptor.id,n),o=e.page,a=r.axis;if(!s.length)return efe({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:A}=t,c=l.all[0];if(c){const d=n[c];if(UA(c,i))return b7({axis:a,moveRelativeTo:d.page,isMoving:o});const m=tx(d.page,A.point);return b7({axis:a,moveRelativeTo:m,isMoving:o})}const u=s[s.length-1];if(u.descriptor.id===e.descriptor.id)return o.borderBox.center;if(UA(u.descriptor.id,i)){const d=tx(u.page,oh(i.displacedBy.point));return E7({axis:a,moveRelativeTo:d,isMoving:o})}return E7({axis:a,moveRelativeTo:u.page,isMoving:o})},u4=(t,e)=>{const n=t.frame;return n?zr(e,n.scroll.diff.displacement):e};const nfe=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?tfe({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):Zde({impact:t,draggables:r,afterCritical:i})};var Xw=t=>{const e=nfe(t),n=t.droppable;return n?u4(n,e):e},sH=(t,e)=>{const n=ps(e,t.scroll.initial),r=oh(n);return{frame:So({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function M7(t,e){return t.map(n=>e[n])}function rfe(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var ife=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=sH(e,zr(e.scroll.current,i)),o=n.frame?xM(n,zr(n.frame.scroll.current,i)):n,a=t.displaced,l=Wp({afterDragging:M7(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),A=Wp({afterDragging:M7(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),c={},u={},d=[a,l,A];return a.all.forEach(g=>{const x=rfe(g,d);if(x){u[g]=x;return}c[g]=!0}),{...t,displaced:{all:a.all,invisible:c,visible:u}}},sfe=(t,e)=>zr(t.scroll.diff.displacement,e),_M=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=sfe(n,t),i=ps(r,e.page.borderBox.center);return zr(e.client.borderBox.center,i)},oH=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=ps(n,t.page.borderBox.center),l={target:j2(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?zde(l):rH(l)},ofe=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const A=ah(n.descriptor.id,r),c=lh(e,n),u=Nde({isMovingForward:t,draggable:e,destination:n,insideDestination:A,previousImpact:i})||Yde({isMovingForward:t,isInHomeList:c,draggable:e,draggables:r,destination:n,insideDestination:A,previousImpact:i,viewport:s,afterCritical:l});if(!u)return null;const d=Xw({impact:u,draggable:e,droppable:n,draggables:r,afterCritical:l});if(oH({draggable:e,destination:n,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:_M({pageBorderBoxCenter:d,draggable:e,viewport:s}),impact:u,scrollJumpRequest:null};const g=ps(d,o),x=ife({impact:u,viewport:s,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:x,scrollJumpRequest:g}};const yi=t=>{const e=t.subject.active;return e||Ge(),e};var afe=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=to(s[o.start],s[o.end]),l=Gw(r).filter(c=>c!==n).filter(c=>c.isEnabled).filter(c=>!!c.subject.active).filter(c=>tH(i.frame)(yi(c))).filter(c=>{const u=yi(c);return t?s[o.crossAxisEnd]<u[o.crossAxisEnd]:u[o.crossAxisStart]<s[o.crossAxisStart]}).filter(c=>{const u=yi(c),d=to(u[o.start],u[o.end]);return a(u[o.start])||a(u[o.end])||d(s[o.start])||d(s[o.end])}).sort((c,u)=>{const d=yi(c)[o.crossAxisStart],m=yi(u)[o.crossAxisStart];return t?d-m:m-d}).filter((c,u,d)=>yi(c)[o.crossAxisStart]===yi(d[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const A=l.filter(c=>to(yi(c)[o.start],yi(c)[o.end])(e[o.line]));return A.length===1?A[0]:A.length>1?A.sort((c,u)=>yi(c)[o.start]-yi(u)[o.start])[0]:l.sort((c,u)=>{const d=B7(e,S7(yi(c))),m=B7(e,S7(yi(u)));return d!==m?d-m:yi(c)[o.start]-yi(u)[o.start]})[0]};const T7=(t,e)=>{const n=t.page.borderBox.center;return UA(t.descriptor.id,e)?ps(n,e.displacedBy.point):n},lfe=(t,e)=>{const n=t.page.borderBox;return UA(t.descriptor.id,e)?j2(n,oh(e.displacedBy.point)):n};var Afe=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>rH({target:lfe(o,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=Gp(t,u4(n,T7(o,i))),A=Gp(t,u4(n,T7(a,i)));return l<A?-1:A<l?1:o.descriptor.index-a.descriptor.index})[0]||null,V2=Nr(function(e,n){const r=n[e.line];return{value:r,point:mu(e.line,r)}});const cfe=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return mu(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=ah(t.descriptor.id,n).reduce((A,c)=>A+c.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:mu(r.line,l)},aH=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),lH=(t,e,n)=>{const r=t.frame;lh(e,t)&&Ge(),t.subject.withPlaceholder&&Ge();const i=V2(t.axis,e.displaceBy).point,s=cfe(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const c=Of({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:c}}const a=s?zr(r.scroll.max,s):r.scroll.max,l=aH(r,a),A=Of({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:A,frame:l}},ufe=t=>{const e=t.subject.withPlaceholder;e||Ge();const n=t.frame;if(!n){const o=Of({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||Ge();const i=aH(n,r),s=Of({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var dfe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const u={displaced:Kp,displacedBy:eH,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=Xw({impact:u,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=lh(r,s)?s:lH(s,r,i);return oH({draggable:r,destination:m,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],A=(()=>{const u=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?u:u+1})(),c=V2(s.axis,r.displaceBy);return sx({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:c,last:Kp,index:A})},ffe=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=afe({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!l)return null;const A=ah(l.descriptor.id,i),c=Afe({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:A,afterCritical:a}),u=dfe({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:c,insideDestination:A,viewport:o,afterCritical:a});if(!u)return null;const d=Xw({impact:u,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:_M({pageBorderBoxCenter:d,draggable:n,viewport:o}),impact:u,scrollJumpRequest:null}},xs=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const hfe=(t,e)=>{const n=xs(t);return n?e[n]:null};var pfe=({state:t,type:e})=>{const n=hfe(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",A=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,{draggables:u,droppables:d}=t.dimensions;return a?ofe({isMovingForward:l,previousPageBorderBoxCenter:c,draggable:A,destination:s,draggables:u,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):ffe({isMovingForward:l,previousPageBorderBoxCenter:c,draggable:A,isOver:s,draggables:u,droppables:d,viewport:t.viewport,afterCritical:t.afterCritical})};function gc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function AH(t){const e=to(t.top,t.bottom),n=to(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function mfe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function gfe({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=mu(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Gp(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function vfe({pageBorderBox:t,draggable:e,droppables:n}){const r=Gw(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!mfe(t,s))return!1;if(AH(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],A=t[o.crossAxisEnd],c=to(s[o.crossAxisStart],s[o.crossAxisEnd]),u=c(l),d=c(A);return!u&&!d?!0:u?l<a:A>a});return r.length?r.length===1?r[0].descriptor.id:gfe({pageBorderBox:t,draggable:e,candidates:r}):null}const cH=(t,e)=>So(j2(t,e));var yfe=(t,e)=>{const n=t.frame;return n?cH(e,n.scroll.diff.value):e};function uH({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function xfe({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var wfe=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=V2(n.axis,e.displaceBy),A=l.value,c=t[a.start],u=t[a.end],m=Ww(e,r).find(x=>{const y=x.descriptor.id,v=x.page.borderBox.center[a.line],w=UA(y,o),C=uH({displaced:i,id:y});return w?C?u<=v:c<v-A:C?u<=v+A:c<v})||null,g=xfe({draggable:e,closest:m,inHomeList:lh(e,n)});return sx({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:g})};const Cfe=4;var Bfe=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=V2(r.axis,t.displaceBy),l=a.value,A=e[o.start],c=e[o.end],d=Ww(t,i).find(g=>{const x=g.descriptor.id,y=g.page.borderBox,w=y[o.size]/Cfe,C=UA(x,s),S=uH({displaced:n.displaced,id:x});return C?S?c>y[o.start]+w&&c<y[o.end]-w:A>y[o.start]-l+w&&A<y[o.end]-l-w:S?c>y[o.start]+l+w&&c<y[o.end]+l-w:A>y[o.start]+w&&A<y[o.end]-w});return d?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null},dH=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=cH(e.page.borderBox,t),l=vfe({pageBorderBox:a,draggable:e,droppables:r});if(!l)return Dde;const A=r[l],c=ah(A.descriptor.id,n),u=yfe(A,a);return Bfe({pageBorderBoxWithDroppableScroll:u,draggable:e,previousImpact:i,destination:A,insideDestination:c,afterCritical:o})||wfe({pageBorderBoxWithDroppableScroll:u,draggable:e,destination:A,insideDestination:c,last:i.displaced,viewport:s,afterCritical:o})},EM=(t,e)=>({...t,[e.descriptor.id]:e});const Sfe=({previousImpact:t,impact:e,droppables:n})=>{const r=xs(t),i=xs(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=ufe(s);return EM(n,o)};var _fe=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=Sfe({previousImpact:r,impact:i,droppables:n}),o=xs(i);if(!o)return s;const a=n[o];if(lh(t,a)||a.subject.withPlaceholder)return s;const l=lH(a,t,e);return EM(s,l)},K0=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,A=ps(l,t.initial.client.selection),c={offset:A,selection:l,borderBoxCenter:zr(t.initial.client.borderBoxCenter,A)},u={selection:zr(c.selection,o.scroll.current),borderBoxCenter:zr(c.borderBoxCenter,o.scroll.current),offset:zr(c.offset,o.scroll.diff.value)},d={client:c,page:u};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:d};const m=a.draggables[t.critical.draggable.id],g=i||dH({pageOffset:u.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),x=_fe({draggable:m,impact:g,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:d,dimensions:{draggables:a.draggables,droppables:x},impact:g,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Efe(t,e){return t.map(n=>e[n])}var fH=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,o=Efe(s.all,n),a=Wp({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},hH=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=Xw({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return _M({pageBorderBoxCenter:o,draggable:e,viewport:i})},pH=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&Ge();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],A=xs(r);A||Ge();const c=a[A],u=fH({impact:r,viewport:i,destination:c,draggables:o}),d=hH({impact:u,draggable:l,droppable:c,draggables:o,viewport:i,afterCritical:t.afterCritical});return K0({impact:u,clientSelection:d,state:t,dimensions:s,viewport:i})},bfe=t=>({index:t.index,droppableId:t.droppableId}),mH=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=V2(e.axis,t.displaceBy),s=ah(e.descriptor.id,n),o=s.indexOf(t);o===-1&&Ge();const a=s.slice(o+1),l=a.reduce((d,m)=>(d[m.descriptor.id]=!0,d),{}),A={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Wp({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:bfe(t.descriptor)}},afterCritical:A}},Mfe=(t,e)=>({draggables:t.draggables,droppables:EM(t.droppables,e)}),Tfe=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=tx(t.client,e),i=nx(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},Ife=t=>{const e=t.frame;return e||Ge(),e},Ffe=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=Ife(o).scroll.diff.value,A=zr(r,l);return Tfe({draggable:i,offset:A,initialWindowScroll:n.scroll.initial})})},Ufe=({state:t,published:e})=>{const n=e.modified.map(v=>{const w=t.dimensions.droppables[v.droppableId];return xM(w,v.scroll)}),r={...t.dimensions.droppables,...ZQ(n)},i=JQ(Ffe({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(v=>{delete s[v]});const o={droppables:r,draggables:s},a=xs(t.impact),l=a?o.droppables[a]:null,A=o.draggables[t.critical.draggable.id],c=o.droppables[t.critical.droppable.id],{impact:u,afterCritical:d}=mH({draggable:A,home:c,draggables:s,viewport:t.viewport}),m=l&&l.isCombineEnabled?t.impact:u,g=dH({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:t.viewport,afterCritical:d}),x={...t,phase:"DRAGGING",impact:g,onLiftImpact:u,dimensions:o,afterCritical:d,forceShouldAnimate:!1};return t.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const d4=t=>t.movementMode==="SNAP",BS=(t,e,n)=>{const r=Mfe(t.dimensions,e);return!d4(t)||n?K0({state:t,dimensions:r}):pH({state:t,dimensions:r})};function SS(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const I7={phase:"IDLE",completed:null,shouldFlush:!1};var Lfe=(t=I7,e)=>{if(e.type==="FLUSH")return{...I7,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Ge();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],A={selection:r,borderBoxCenter:a.client.borderBox.center,offset:kr},c={client:A,page:{selection:zr(A.selection,i.scroll.initial),borderBoxCenter:zr(A.selection,i.scroll.initial),offset:zr(A.selection,i.scroll.diff.value)}},u=Gw(s.droppables).every(x=>!x.isFixedOnPage),{impact:d,afterCritical:m}=mH({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:c,current:c,isWindowScrollAllowed:u,impact:d,afterCritical:m,onLiftImpact:d,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Ge(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Ge(),Ufe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;gc(t)||Ge();const{client:n}=e.payload;return CA(n,t.current.client.selection)?t:K0({state:t,clientSelection:n,impact:d4(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return SS(t);gc(t)||Ge();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=xM(i,r);return BS(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;gc(t)||Ge();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||Ge(),i.isEnabled===r&&Ge();const s={...i,isEnabled:r};return BS(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;gc(t)||Ge();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||Ge(),i.isCombineEnabled===r&&Ge();const s={...i,isCombineEnabled:r};return BS(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;gc(t)||Ge(),t.isWindowScrollAllowed||Ge();const n=e.payload.newScroll;if(CA(t.viewport.scroll.current,n))return SS(t);const r=sH(t.viewport,n);return d4(t)?pH({state:t,viewport:r}):K0({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!gc(t))return t;const n=e.payload.maxScroll;if(CA(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Ge();const n=pfe({state:t,type:e.type});return n?K0({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&Ge(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Ge(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function yn(t,e){return t instanceof Object&&"type"in t&&t.type===e}const Rfe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),Pfe=t=>({type:"LIFT",payload:t}),Nfe=t=>({type:"INITIAL_PUBLISH",payload:t}),Dfe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),Ofe=()=>({type:"COLLECTION_STARTING",payload:null}),kfe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Qfe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Hfe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),gH=t=>({type:"MOVE",payload:t}),jfe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Vfe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),zfe=()=>({type:"MOVE_UP",payload:null}),Gfe=()=>({type:"MOVE_DOWN",payload:null}),Kfe=()=>({type:"MOVE_RIGHT",payload:null}),Wfe=()=>({type:"MOVE_LEFT",payload:null}),bM=()=>({type:"FLUSH",payload:null}),Xfe=t=>({type:"DROP_ANIMATE",payload:t}),MM=t=>({type:"DROP_COMPLETE",payload:t}),vH=t=>({type:"DROP",payload:t}),$fe=t=>({type:"DROP_PENDING",payload:t}),yH=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Yfe=t=>({getState:e,dispatch:n})=>r=>i=>{if(!yn(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(MM({completed:l.completed})),e().phase!=="IDLE"&&Ge(),n(bM()),n(Rfe({draggableId:s,movementMode:a}));const c={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:u,dimensions:d,viewport:m}=t.startPublishing(c);n(Nfe({critical:u,dimensions:d,clientSelection:o,movementMode:a,viewport:m}))},qfe=t=>()=>e=>n=>{yn(n,"INITIAL_PUBLISH")&&t.dragging(),yn(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(yn(n,"FLUSH")||yn(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const TM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Xp={opacity:{drop:0,combining:.7},scale:{drop:.75}},xH={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ac=`${xH.outOfTheWay}s ${TM.outOfTheWay}`,W0={fluid:`opacity ${Ac}`,snap:`transform ${Ac}, opacity ${Ac}`,drop:t=>{const e=`${t}s ${TM.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Ac}`,placeholder:`height ${Ac}, width ${Ac}, margin ${Ac}`},F7=t=>CA(t,kr)?void 0:`translate(${t.x}px, ${t.y}px)`,f4={moveTo:F7,drop:(t,e)=>{const n=F7(t);if(n)return e?`${n} scale(${Xp.scale.drop})`:n}},{minDropTime:h4,maxDropTime:wH}=xH,Zfe=wH-h4,U7=1500,Jfe=.6;var ehe=({current:t,destination:e,reason:n})=>{const r=Gp(t,e);if(r<=0)return h4;if(r>=U7)return wH;const i=r/U7,s=h4+Zfe*i,o=n==="CANCEL"?s*Jfe:s;return Number(o.toFixed(2))},the=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=xs(t),l=a?o[a]:null,A=o[e.descriptor.droppableId],c=hH({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||A,viewport:r});return ps(c,e.client.borderBox.center)},nhe=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:fH({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Kp},didDropInsideDroppable:!0};const rhe=({getState:t,dispatch:e})=>n=>r=>{if(!yn(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e($fe({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Ge(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Ge();const a=i.critical,l=i.dimensions,A=l.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=nhe({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?wM(c):null,m=u?Kw(c):null,g={index:a.draggable.index,droppableId:a.droppable.id},x={draggableId:A.descriptor.id,type:A.descriptor.type,source:g,reason:s,mode:i.movementMode,destination:d,combine:m},y=the({impact:c,draggable:A,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:c};if(!(!CA(i.current.client.offset,y)||!!x.combine)){e(MM({completed:v}));return}const C=ehe({current:i.current.client.offset,destination:y,reason:s});e(Xfe({newHomeClientOffset:y,dropDuration:C,completed:v}))};var CH=()=>({x:window.pageXOffset,y:window.pageYOffset});function ihe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function she({onWindowScroll:t}){function e(){t(CH())}const n=zp(e),r=ihe(n);let i=wA;function s(){return i!==wA}function o(){s()&&Ge(),i=$s(window,[r])}function a(){s()||Ge(),n.cancel(),i(),i=wA}return{start:o,stop:a,isActive:s}}const ohe=t=>yn(t,"DROP_COMPLETE")||yn(t,"DROP_ANIMATE")||yn(t,"FLUSH"),ahe=t=>{const e=she({onWindowScroll:n=>{t.dispatch(jfe({newScroll:n}))}});return n=>r=>{!e.isActive()&&yn(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&ohe(r)&&e.stop(),n(r)}};var lhe=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},Ahe=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&Ge();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const che=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,uhe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,dhe=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},t0=(t,e)=>{e()},f1=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function _S(t,e,n,r){if(!t){n(r(e));return}const i=lhe(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var fhe=(t,e)=>{const n=Ahe();let r=null;const i=(u,d)=>{r&&Ge(),t0("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:u,mode:d})})},s=(u,d)=>{r&&Ge(),t0("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(f1(u,d))})},o=(u,d)=>{r&&Ge();const m=f1(u,d);r={mode:d,lastCritical:u,lastLocation:m.source,lastCombine:null},n.add(()=>{t0("onDragStart",()=>_S(t().onDragStart,m,e,dv.onDragStart))})},a=(u,d)=>{const m=wM(d),g=Kw(d);r||Ge();const x=!dhe(u,r.lastCritical);x&&(r.lastCritical=u);const y=!che(r.lastLocation,m);y&&(r.lastLocation=m);const v=!uhe(r.lastCombine,g);if(v&&(r.lastCombine=g),!x&&!y&&!v)return;const w={...f1(u,r.mode),combine:g,destination:m};n.add(()=>{t0("onDragUpdate",()=>_S(t().onDragUpdate,w,e,dv.onDragUpdate))})},l=()=>{r||Ge(),n.flush()},A=u=>{r||Ge(),r=null,t0("onDragEnd",()=>_S(t().onDragEnd,u,e,dv.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:A,abort:()=>{if(!r)return;const u={...f1(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};A(u)}}},hhe=(t,e)=>{const n=fhe(t,e);return r=>i=>s=>{if(yn(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(yn(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(yn(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),yn(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const phe=t=>e=>n=>{if(!yn(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&Ge(),t.dispatch(MM({completed:r.completed}))},mhe=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((yn(s,"FLUSH")||yn(s,"DROP_COMPLETE")||yn(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!yn(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(yH())}};n=requestAnimationFrame(()=>{n=null,e=$s(window,[o])})}};var ghe=t=>()=>e=>n=>{(yn(n,"DROP_COMPLETE")||yn(n,"FLUSH")||yn(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},vhe=t=>{let e=!1;return()=>n=>r=>{if(yn(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(yn(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(yn(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const yhe=t=>yn(t,"DROP_COMPLETE")||yn(t,"DROP_ANIMATE")||yn(t,"FLUSH");var xhe=t=>e=>n=>r=>{if(yhe(r)){t.stop(),n(r);return}if(yn(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&Ge(),t.start(i);return}n(r),t.scroll(e.getState())};const whe=t=>e=>n=>{if(e(n),!yn(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(vH({reason:r.reason})))},Che=DQ;var Bhe=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>NQ(Lfe,Che(hue(qfe(n),ghe(t),Yfe(t),rhe,phe,mhe,whe,xhe(s),ahe,vhe(e),hhe(r,i))));const ES=()=>({additions:{},removals:{},modified:{}});function She({registry:t,callbacks:e}){let n=ES(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:A,modified:c}=n,u=Object.keys(l).map(g=>t.draggable.getById(g).getDimension(kr)).sort((g,x)=>g.descriptor.index-x.descriptor.index),d=Object.keys(c).map(g=>{const y=t.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),m={additions:u,removals:Object.keys(A),modified:d};n=ES(),e.publish(m)}))};return{add:l=>{const A=l.descriptor.id;n.additions[A]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[A]&&delete n.removals[A],i()},remove:l=>{const A=l.descriptor;n.removals[A.id]=!0,n.modified[A.droppableId]=!0,n.additions[A.id]&&delete n.additions[A.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=ES())}}}var BH=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=ps({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},SH=()=>{const t=document.documentElement;return t||Ge(),t},_H=()=>{const t=SH();return BH({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},_he=()=>{const t=CH(),e=_H(),n=t.y,r=t.x,i=SH(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:So({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:kr,displacement:kr}}}},Ehe=({critical:t,scrollOptions:e,registry:n})=>{const r=_he(),i=r.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(c=>c.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(c=>c.getDimension(i));return{dimensions:{draggables:JQ(a),droppables:ZQ(o)},critical:t,viewport:r}};function L7(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var bhe=(t,e)=>{let n=null;const r=She({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(d,m)=>{t.droppable.exists(d)||Ge(),n&&e.updateDroppableIsEnabled({id:d,isEnabled:m})},s=(d,m)=>{n&&(t.droppable.exists(d)||Ge(),e.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:m}))},o=(d,m)=>{n&&(t.droppable.exists(d)||Ge(),e.updateDroppableScroll({id:d,newScroll:m}))},a=(d,m)=>{n&&t.droppable.getById(d).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const d=n.critical.droppable;t.droppable.getAllByType(d.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},A=d=>{n||Ge();const m=n.critical.draggable;d.type==="ADDITION"&&L7(t,m,d.value)&&r.add(d.value),d.type==="REMOVAL"&&L7(t,m,d.value)&&r.remove(d.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:d=>{n&&Ge();const m=t.draggable.getById(d.draggableId),g=t.droppable.getById(m.descriptor.droppableId),x={draggable:m.descriptor,droppable:g.descriptor},y=t.subscribe(A);return n={critical:x,unsubscribe:y},Ehe({critical:x,registry:t,scrollOptions:d.scrollOptions})},stopPublishing:l}},EH=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Mhe=t=>{window.scrollBy(t.x,t.y)};const The=Nr(t=>Gw(t).filter(e=>!(!e.isEnabled||!e.frame))),Ihe=(t,e)=>The(e).find(r=>(r.frame||Ge(),AH(r.frame.pageMarginBox)(t)))||null;var Fhe=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return Ihe(t,n)};const $p={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Uhe=(t,e,n=()=>$p)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},bH=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},IM=1,Lhe=(t,e,n=()=>$p)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return IM;const s=1-bH({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},Rhe=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,a=s,A=Date.now()-o;if(A>=s)return t;if(A<i)return IM;const c=bH({startOfRange:i,endOfRange:a,current:A}),u=t*r.ease(c);return Math.ceil(u)},R7=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=Lhe(t,e,i);return s===0?0:r?Math.max(Rhe(s,n,i),IM):s},P7=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=Uhe(t,r,s);return e[r.end]<e[r.start]?R7({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*R7({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},Phe=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Nhe=qQ(t=>t===0?0:t);var MH=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=P7({container:e,distanceToEdges:o,dragStartTime:t,axis:CM,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=P7({container:e,distanceToEdges:o,dragStartTime:t,axis:nH,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),A=Nhe({x:l,y:a});if(CA(A,kr))return null;const c=Phe({container:e,subject:n,proposedScroll:A});return c?CA(c,kr)?null:c:null};const Dhe=qQ(t=>t===0?0:t>0?1:-1),FM=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=zr(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return CA(s,kr)?null:s}})(),TH=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=Dhe(n),s=FM({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},UM=(t,e)=>TH({current:t.scroll.current,max:t.scroll.max,change:e}),Ohe=(t,e)=>{if(!UM(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return FM({current:r,max:n,change:e})},LM=(t,e)=>{const n=t.frame;return n?TH({current:n.scroll.current,max:n.scroll.max,change:e}):!1},khe=(t,e)=>{const n=t.frame;return!n||!LM(t,e)?null:FM({current:n.scroll.current,max:n.scroll.max,change:e})};var Qhe=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=MH({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&UM(t,o)?o:null},Hhe=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=MH({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&LM(t,a)?a:null},N7=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const u=t.viewport,d=Qhe({dragStartTime:e,viewport:u,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(d){r(d);return}}const A=Fhe({center:o,destination:xs(t.impact),droppables:t.dimensions.droppables});if(!A)return;const c=Hhe({dragStartTime:e,droppable:A,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});c&&i(A.descriptor.id,c)},jhe=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>$p})=>{const r=zp(t),i=zp(e);let s=null;const o=A=>{s||Ge();const{shouldUseTimeDampening:c,dragStartTime:u}=s;N7({state:A,scrollWindow:r,scrollDroppable:i,dragStartTime:u,shouldUseTimeDampening:c,getAutoScrollerOptions:n})};return{start:A=>{s&&Ge();const c=Date.now();let u=!1;const d=()=>{u=!0};N7({state:A,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d,getAutoScrollerOptions:n}),s={dragStartTime:c,shouldUseTimeDampening:u},u&&o(A)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},Vhe=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const A=zr(a.current.client.selection,l);t({client:A})},i=(a,l)=>{if(!LM(a,l))return l;const A=khe(a,l);if(!A)return e(a.descriptor.id,l),null;const c=ps(l,A);return e(a.descriptor.id,c),ps(l,c)},s=(a,l,A)=>{if(!a||!UM(l,A))return A;const c=Ohe(l,A);if(!c)return n(A),null;const u=ps(A,c);return n(u),ps(A,u)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const A=xs(a.impact);A||Ge();const c=i(a.dimensions.droppables[A],l);if(!c)return;const u=a.viewport,d=s(a.isWindowScrollAllowed,u,c);d&&r(a,d)}},zhe=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=jhe({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=Vhe({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const kf="data-rfd",Qf=(()=>{const t=`${kf}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),p4=(()=>{const t=`${kf}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Ghe=(()=>{const t=`${kf}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),D7={contextId:`${kf}-scroll-container-context-id`},Khe=t=>e=>`[${e}="${t}"]`,n0=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),Whe="pointer-events: none;";var Xhe=t=>{const e=Khe(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Qf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Whe,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${W0.outOfTheWay};
    `;return{selector:e(p4.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(Ghe.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:n0(o,"always"),resting:n0(o,"resting"),dragging:n0(o,"dragging"),dropAnimating:n0(o,"dropAnimating"),userCancel:n0(o,"userCancel")}};const ws=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect,bS=()=>{const t=document.querySelector("head");return t||Ge(),t},O7=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function $he(t,e){const n=ln(()=>Xhe(t),[t]),r=F.useRef(null),i=F.useRef(null),s=yt(Nr(u=>{const d=i.current;d||Ge(),d.textContent=u}),[]),o=yt(u=>{const d=r.current;d||Ge(),d.textContent=u},[]);ws(()=>{!r.current&&!i.current||Ge();const u=O7(e),d=O7(e);return r.current=u,i.current=d,u.setAttribute(`${kf}-always`,t),d.setAttribute(`${kf}-dynamic`,t),bS().appendChild(u),bS().appendChild(d),o(n.always),s(n.resting),()=>{const m=g=>{const x=g.current;x||Ge(),bS().removeChild(x),g.current=null};m(r),m(i)}},[e,o,s,n.always,n.resting,t]);const a=yt(()=>s(n.dragging),[s,n.dragging]),l=yt(u=>{if(u==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),A=yt(()=>{i.current&&s(n.resting)},[s,n.resting]);return ln(()=>({dragging:a,dropping:l,resting:A}),[a,l,A])}function IH(t,e){return Array.from(t.querySelectorAll(e))}var FH=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function $w(t){return t instanceof FH(t).HTMLElement}function Yhe(t,e){const n=`[${Qf.contextId}="${t}"]`,r=IH(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Qf.draggableId)===e);return!i||!$w(i)?null:i}function qhe(t){const e=F.useRef({}),n=F.useRef(null),r=F.useRef(null),i=F.useRef(!1),s=yt(function(d,m){const g={id:d,focus:m};return e.current[d]=g,function(){const y=e.current;y[d]!==g&&delete y[d]}},[]),o=yt(function(d){const m=Yhe(t,d);m&&m!==document.activeElement&&m.focus()},[t]),a=yt(function(d,m){n.current===d&&(n.current=m)},[]),l=yt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const d=n.current;d&&o(d)}))},[o]),A=yt(function(d){n.current=null;const m=document.activeElement;m&&m.getAttribute(Qf.draggableId)===d&&(n.current=d)},[]);return ws(()=>(i.current=!0,function(){i.current=!1;const d=r.current;d&&cancelAnimationFrame(d)}),[]),ln(()=>({register:s,tryRecordFocus:A,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,A,l,a])}function Zhe(){const t={draggables:{},droppables:{}},e=[];function n(u){return e.push(u),function(){const m=e.indexOf(u);m!==-1&&e.splice(m,1)}}function r(u){e.length&&e.forEach(d=>d(u))}function i(u){return t.draggables[u]||null}function s(u){const d=i(u);return d||Ge(),d}const o={register:u=>{t.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},update:(u,d)=>{const m=t.draggables[d.descriptor.id];m&&m.uniqueId===u.uniqueId&&(delete t.draggables[d.descriptor.id],t.draggables[u.descriptor.id]=u)},unregister:u=>{const d=u.descriptor.id,m=i(d);m&&u.uniqueId===m.uniqueId&&(delete t.draggables[d],t.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},getById:s,findById:i,exists:u=>!!i(u),getAllByType:u=>Object.values(t.draggables).filter(d=>d.descriptor.type===u)};function a(u){return t.droppables[u]||null}function l(u){const d=a(u);return d||Ge(),d}const A={register:u=>{t.droppables[u.descriptor.id]=u},unregister:u=>{const d=a(u.descriptor.id);d&&u.uniqueId===d.uniqueId&&delete t.droppables[u.descriptor.id]},getById:l,findById:a,exists:u=>!!a(u),getAllByType:u=>Object.values(t.droppables).filter(d=>d.descriptor.type===u)};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:A,subscribe:n,clean:c}}function Jhe(){const t=ln(Zhe,[]);return F.useEffect(()=>function(){t.clean()},[t]),t}var RM=vt.createContext(null),ox=()=>{const t=document.body;return t||Ge(),t};const e0e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},t0e=t=>`rfd-announcement-${t}`;function n0e(t){const e=ln(()=>t0e(t),[t]),n=F.useRef(null);return F.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),jp(s.style,e0e),ox().appendChild(s),function(){setTimeout(function(){const l=ox();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),yt(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const r0e={separator:"::"};function PM(t,e=r0e){const n=vt.useId();return ln(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function i0e({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function s0e({contextId:t,text:e}){const n=PM("hidden-text",{separator:"-"}),r=ln(()=>i0e({contextId:t,uniqueId:n}),[n,t]);return F.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",ox().appendChild(s),function(){const a=ox();a.contains(s)&&a.removeChild(s)}},[r,e]),r}var Yw=vt.createContext(null);function UH(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),e}function o0e(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&Ge();const a={abandon:o};return t=a,a}function i(){t||Ge(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function Yp(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const a0e=9,l0e=13,NM=27,LH=32,A0e=33,c0e=34,u0e=35,d0e=36,f0e=37,h0e=38,p0e=39,m0e=40,g0e={[l0e]:!0,[a0e]:!0};var RH=t=>{g0e[t.keyCode]&&t.preventDefault()};const qw=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),PH=0,k7=5;function v0e(t,e){return Math.abs(e.x-t.x)>=k7||Math.abs(e.y-t.y)>=k7}const Q7={type:"IDLE"};function y0e({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==PH)return;const l={x:o,y:a},A=n();if(A.type==="DRAGGING"){i.preventDefault(),A.actions.move(l);return}A.type!=="PENDING"&&Ge();const c=A.point;if(!v0e(c,l))return;i.preventDefault();const u=A.actions.fluidLift(l);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===NM){i.preventDefault(),t();return}RH(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&Ge(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:qw,fn:t}]}function x0e(t){const e=F.useRef(Q7),n=F.useRef(wA),r=ln(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==PH||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const d=t.findClosestDraggableId(u);if(!d)return;const m=t.tryGetLock(d,o,{sourceEvent:u});if(!m)return;u.preventDefault();const g={x:u.clientX,y:u.clientY};n.current(),A(m,g)}}),[t]),i=ln(()=>({eventName:"webkitmouseforcewillbegin",fn:c=>{if(c.defaultPrevented)return;const u=t.findClosestDraggableId(c);if(!u)return;const d=t.findOptionsForDraggable(u);d&&(d.shouldRespectForcePress||t.canGetLock(u)&&c.preventDefault())}}),[t]),s=yt(function(){const u={passive:!1,capture:!0};n.current=$s(window,[i,r],u)},[i,r]),o=yt(()=>{e.current.type!=="IDLE"&&(e.current=Q7,n.current(),s())},[s]),a=yt(()=>{const c=e.current;o(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[o]),l=yt(function(){const u={capture:!0,passive:!1},d=y0e({cancel:a,completed:o,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=$s(window,d,u)},[a,o]),A=yt(function(u,d){e.current.type!=="IDLE"&&Ge(),e.current={type:"PENDING",point:d,actions:u},l()},[l]);ws(function(){return s(),function(){n.current()}},[s])}function w0e(){}const C0e={[c0e]:!0,[A0e]:!0,[d0e]:!0,[u0e]:!0};function B0e(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===NM){i.preventDefault(),n();return}if(i.keyCode===LH){i.preventDefault(),r();return}if(i.keyCode===m0e){i.preventDefault(),t.moveDown();return}if(i.keyCode===h0e){i.preventDefault(),t.moveUp();return}if(i.keyCode===p0e){i.preventDefault(),t.moveRight();return}if(i.keyCode===f0e){i.preventDefault(),t.moveLeft();return}if(C0e[i.keyCode]){i.preventDefault();return}RH(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:qw,fn:n}]}function S0e(t){const e=F.useRef(w0e),n=ln(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==LH)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,c,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const A=a.snapLift();e.current();function c(){l||Ge(),l=!1,e.current(),r()}e.current=$s(window,B0e(A,c),{capture:!0,passive:!1})}}),[t]),r=yt(function(){const s={passive:!1,capture:!0};e.current=$s(window,[n],s)},[n]);ws(function(){return r(),function(){e.current()}},[r])}const MS={type:"IDLE"},_0e=120,E0e=.15;function b0e({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===NM&&n.preventDefault(),t()}},{eventName:qw,fn:t}]}function M0e({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Ge();const s=r.touches[0];if(!s||!(s.force>=E0e))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:qw,fn:t}]}function T0e(t){const e=F.useRef(MS),n=F.useRef(wA),r=yt(function(){return e.current},[]),i=yt(function(m){e.current=m},[]),s=ln(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const g=t.findClosestDraggableId(m);if(!g)return;const x=t.tryGetLock(g,a,{sourceEvent:m});if(!x)return;const y=m.touches[0],{clientX:v,clientY:w}=y,C={x:v,y:w};n.current(),u(x,C)}}),[t]),o=yt(function(){const m={capture:!0,passive:!1};n.current=$s(window,[s],m)},[s]),a=yt(()=>{const d=e.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),i(MS),n.current(),o())},[o,i]),l=yt(()=>{const d=e.current;a(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[a]),A=yt(function(){const m={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},x=$s(window,M0e(g),m),y=$s(window,b0e(g),m);n.current=function(){x(),y()}},[l,r,a]),c=yt(function(){const m=r();m.type!=="PENDING"&&Ge();const g=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),u=yt(function(m,g){r().type!=="IDLE"&&Ge();const x=setTimeout(c,_0e);i({type:"PENDING",point:g,actions:m,longPressTimerId:x}),A()},[A,r,i,c]);ws(function(){return o(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(MS))}},[r,o,i]),ws(function(){return $s(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const I0e=["input","button","textarea","select","option","optgroup","video","audio"];function NH(t,e){if(e==null)return!1;if(I0e.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:NH(t,e.parentElement)}function F0e(t,e){const n=e.target;return $w(n)?NH(t,n):!1}var U0e=t=>So(t.getBoundingClientRect()).center;function L0e(t){return t instanceof FH(t).Element}const R0e=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function DH(t,e){return t==null?null:t[R0e](e)?t:DH(t.parentElement,e)}function P0e(t,e){return t.closest?t.closest(e):DH(t,e)}function N0e(t){return`[${Qf.contextId}="${t}"]`}function D0e(t,e){const n=e.target;if(!L0e(n))return null;const r=N0e(t),i=P0e(n,r);return!i||!$w(i)?null:i}function O0e(t,e){const n=D0e(t,e);return n?n.getAttribute(Qf.draggableId):null}function k0e(t,e){const n=`[${p4.contextId}="${t}"]`,i=IH(document,n).find(s=>s.getAttribute(p4.id)===e);return!i||!$w(i)?null:i}function Q0e(t){t.preventDefault()}function h1({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function OH({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!EH(e.getState(),r))}function H0e({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!OH({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),A=k0e(e,l.descriptor.id);if(!A||o&&!l.options.canDragInteractiveElements&&F0e(A,o))return null;const c=t.claim(s||wA);let u="PRE_DRAG";function d(){return l.options.shouldRespectForcePress}function m(){return t.isActive(c)}function g(M,b){h1({expected:M,phase:u,isLockActive:m,shouldWarn:!0})&&n.dispatch(b())}const x=g.bind(null,"DRAGGING");function y(M){function b(){t.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(b(),Ge()),n.dispatch(Pfe(M.liftActionArgs)),u="DRAGGING";function T(L,P={shouldBlockNextClick:!1}){if(M.cleanup(),P.shouldBlockNextClick){const E=$s(window,[{eventName:"click",fn:Q0e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(E)}b(),n.dispatch(vH({reason:L}))}return{isActive:()=>h1({expected:"DRAGGING",phase:u,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:d,drop:L=>T("DROP",L),cancel:L=>T("CANCEL",L),...M.actions}}function v(M){const b=zp(L=>{x(()=>gH({client:L}))});return{...y({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>b.cancel(),actions:{move:b}}),move:b}}function w(){const M={moveUp:()=>x(zfe),moveRight:()=>x(Kfe),moveDown:()=>x(Gfe),moveLeft:()=>x(Wfe)};return y({liftActionArgs:{id:i,clientSelection:U0e(A),movementMode:"SNAP"},cleanup:wA,actions:M})}function C(){h1({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>h1({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:v,snapLift:w,abort:C}}const j0e=[x0e,S0e,T0e];function V0e({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?j0e:[],...r||[]],o=F.useState(()=>o0e())[0],a=yt(function(y,v){Yp(y)&&!Yp(v)&&o.tryAbandon()},[o]);ws(function(){let y=e.getState();return e.subscribe(()=>{const w=e.getState();a(y,w),y=w})},[o,e,a]),ws(()=>o.tryAbandon,[o.tryAbandon]);const l=yt(x=>OH({lockAPI:o,registry:n,store:e,draggableId:x}),[o,n,e]),A=yt((x,y,v)=>H0e({lockAPI:o,registry:n,contextId:t,store:e,draggableId:x,forceSensorStop:y||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[t,o,n,e]),c=yt(x=>O0e(t,x),[t]),u=yt(x=>{const y=n.draggable.findById(x);return y?y.options:null},[n.draggable]),d=yt(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(bM()))},[o,e]),m=yt(()=>o.isClaimed(),[o]),g=ln(()=>({canGetLock:l,tryGetLock:A,findClosestDraggableId:c,findOptionsForDraggable:u,tryReleaseLock:d,isLockClaimed:m}),[l,A,c,u,d,m]);for(let x=0;x<s.length;x++)s[x](g)}const z0e=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};wu.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),G0e=t=>({...$p,...t.autoScrollerOptions,durationDampening:{...$p.durationDampening,...t.autoScrollerOptions}});function r0(t){return t.current||Ge(),t.current}function K0e(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,o=F.useRef(null),a=UH(t),l=yt(()=>z0e(a.current),[a]),A=yt(()=>G0e(a.current),[a]),c=n0e(e),u=s0e({contextId:e,text:s}),d=$he(e,i),m=yt(E=>{r0(o).dispatch(E)},[]),g=ln(()=>u7({publishWhileDragging:Dfe,updateDroppableScroll:kfe,updateDroppableIsEnabled:Qfe,updateDroppableIsCombineEnabled:Hfe,collectionStarting:Ofe},m),[m]),x=Jhe(),y=ln(()=>bhe(x,g),[x,g]),v=ln(()=>zhe({scrollWindow:Mhe,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:A,...u7({move:gH},m)}),[y.scrollDroppable,m,A]),w=qhe(e),C=ln(()=>Bhe({announce:c,autoScroller:v,dimensionMarshal:y,focusMarshal:w,getResponders:l,styleMarshal:d}),[c,v,y,w,l,d]);o.current=C;const S=yt(()=>{const E=r0(o);E.getState().phase!=="IDLE"&&E.dispatch(bM())},[]),M=yt(()=>{const E=r0(o).getState();return E.phase==="DROP_ANIMATING"?!0:E.phase==="IDLE"?!1:E.isDragging},[]),b=ln(()=>({isDragging:M,tryAbort:S}),[M,S]);n(b);const T=yt(E=>EH(r0(o).getState(),E),[]),L=yt(()=>gc(r0(o).getState()),[]),P=ln(()=>({marshal:y,focus:w,contextId:e,canLift:T,isMovementAllowed:L,dragHandleUsageInstructionsId:u,registry:x}),[e,y,u,w,T,L,x]);return V0e({contextId:e,store:C,registry:x,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),F.useEffect(()=>S,[S]),vt.createElement(Yw.Provider,{value:P},vt.createElement(hde,{context:RM,store:C},t.children))}function W0e(){return vt.useId()}function kH(t){const e=W0e(),n=t.dragHandleUsageInstructions||dv.dragHandleUsageInstructions;return vt.createElement(_de,null,r=>vt.createElement(K0e,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const H7={dragging:5e3,dropAnimating:4500},X0e=(t,e)=>e?W0.drop(e.duration):t?W0.snap:W0.fluid,$0e=(t,e)=>{if(t)return e?Xp.opacity.drop:Xp.opacity.combining},Y0e=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function q0e(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,o=!!i,a=Y0e(t),l=!!s,A=l?f4.drop(r,o):f4.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:X0e(a,s),transform:A,opacity:$0e(o,l),zIndex:l?H7.dropAnimating:H7.dragging,pointerEvents:"none"}}function Z0e(t){return{transform:f4.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function J0e(t){return t.type==="DRAGGING"?q0e(t):Z0e(t)}function epe(t,e,n=kr){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=KQ(i,r),o=nx(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function tpe(t){const e=PM("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=ln(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),A=yt(m=>{const g=i();return g||Ge(),epe(n,g,m)},[n,i]),c=ln(()=>({uniqueId:e,descriptor:n,options:l,getDimension:A}),[n,A,l,e]),u=F.useRef(c),d=F.useRef(!0);ws(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),ws(()=>{if(d.current){d.current=!1;return}const m=u.current;u.current=c,r.draggable.update(c,m)},[c,r.draggable])}var DM=vt.createContext(null);function ax(t){const e=F.useContext(t);return e||Ge(),e}function npe(t){t.preventDefault()}const rpe=t=>{const e=F.useRef(null),n=yt((b=null)=>{e.current=b},[]),r=yt(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=ax(Yw),{type:a,droppableId:l}=ax(DM),A=ln(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:c,draggableId:u,isEnabled:d,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:x,mapped:y,dropAnimationFinished:v}=t;if(!x){const b=ln(()=>({descriptor:A,registry:o,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:d}),[A,o,r,g,m,d]);tpe(b)}const w=ln(()=>d?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:npe}:null,[i,s,u,d]),C=yt(b=>{y.type==="DRAGGING"&&y.dropping&&b.propertyName==="transform"&&wu.flushSync(v)},[v,y]),S=ln(()=>{const b=J0e(y),T=y.type==="DRAGGING"&&y.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":u,style:b,onTransitionEnd:T},dragHandleProps:w}},[i,w,u,y,C,n]),M=ln(()=>({draggableId:A.id,type:A.type,source:{index:A.index,droppableId:A.droppableId}}),[A.droppableId,A.id,A.index,A.type]);return vt.createElement(vt.Fragment,null,c(S,y.snapshot,M))};var QH=(t,e)=>t===e,HH=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const ipe=t=>t.combine?t.combine.draggableId:null,spe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function ope(){const t=Nr((i,s)=>({x:i,y:s})),e=Nr((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Nr((i,s,o,a,l=null,A=null,c=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:A,mode:s,offset:i,dimension:o,forceShouldAnimate:c,snapshot:e(s,a,l,A,null)}}));return(i,s)=>{if(Yp(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=xs(i.impact),A=spe(i.impact),c=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,s.isClone,l,A,c)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],A=o.result,c=A.mode,u=HH(A),d=ipe(A),g={duration:i.dropDuration,curve:TM.drop,moveTo:i.newHomeClientOffset,opacity:d?Xp.opacity.drop:null,scale:d?Xp.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:g,draggingOver:u,combineWith:d,mode:c,forceShouldAnimate:null,snapshot:e(c,a,u,d,g)}}}return null}}function jH(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const ape={mapped:{type:"SECONDARY",offset:kr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:jH(null)}};function lpe(){const t=Nr((o,a)=>({x:o,y:a})),e=Nr(jH),n=Nr((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=o=>o?n(kr,o,!0):null,i=(o,a,l,A)=>{const c=l.displaced.visible[o],u=!!(A.inVirtualList&&A.effected[o]),d=Kw(l),m=d&&d.draggableId===o?a:null;if(!c){if(!u)return r(m);if(l.displaced.invisible[o])return null;const y=oh(A.displacedBy.point),v=t(y.x,y.y);return n(v,m,!0)}if(u)return r(m);const g=l.displacedBy.point,x=t(g.x,g.y);return n(x,m,c.shouldAnimate)};return(o,a)=>{if(Yp(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const Ape=()=>{const t=ope(),e=lpe();return(r,i)=>t(r,i)||e(r,i)||ape},cpe={dropAnimationFinished:yH},upe=zQ(Ape,cpe,null,{context:RM,areStatePropsEqual:QH})(rpe);function VH(t){return ax(DM).isUsingCloneFor===t.draggableId&&!t.isClone?null:vt.createElement(upe,t)}function dpe(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return vt.createElement(VH,jp({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const zH=t=>e=>t===e,fpe=zH("scroll"),hpe=zH("auto"),j7=(t,e)=>e(t.overflowX)||e(t.overflowY),ppe=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return j7(n,fpe)||j7(n,hpe)},mpe=()=>!1,GH=t=>t==null?null:t===document.body?mpe()?t:null:t===document.documentElement?null:ppe(t)?t:GH(t.parentElement);var m4=t=>({x:t.scrollLeft,y:t.scrollTop});const KH=t=>t?window.getComputedStyle(t).position==="fixed"?!0:KH(t.parentElement):!1;var gpe=t=>{const e=GH(t),n=KH(t);return{closestScrollable:e,isFixedOnPage:n}},vpe=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:d,client:m}=a,g=BH({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:d,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:kr,displacement:kr}}}})(),A=i==="vertical"?CM:nH,c=Of({page:o,withPlaceholder:null,axis:A,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:A,isEnabled:e,client:s,page:o,frame:l,subject:c}};const ype=(t,e)=>{const n=WQ(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,l=vM({top:r,right:o,bottom:s,left:i},n.border);return yM({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var xpe=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,A=ype(t,l),c=nx(A,r),u=(()=>{if(!l)return null;const m=WQ(l),g={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:nx(m,r),scroll:m4(l),scrollSize:g,shouldClipSubject:a}})();return vpe({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:A,page:c,closest:u})};const wpe={passive:!1},Cpe={passive:!0};var V7=t=>t.shouldPublishImmediately?wpe:Cpe;const p1=t=>t&&t.env.closestScrollable||null;function Bpe(t){const e=F.useRef(null),n=ax(Yw),r=PM("droppable"),{registry:i,marshal:s}=n,o=UH(t),a=ln(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=F.useRef(a),A=ln(()=>Nr((S,M)=>{e.current||Ge();const b={x:S,y:M};s.updateDroppableScroll(a.id,b)}),[a.id,s]),c=yt(()=>{const S=e.current;return!S||!S.env.closestScrollable?kr:m4(S.env.closestScrollable)},[]),u=yt(()=>{const S=c();A(S.x,S.y)},[c,A]),d=ln(()=>zp(u),[u]),m=yt(()=>{const S=e.current,M=p1(S);if(S&&M||Ge(),S.scrollOptions.shouldPublishImmediately){u();return}d()},[d,u]),g=yt((S,M)=>{e.current&&Ge();const b=o.current,T=b.getDroppableRef();T||Ge();const L=gpe(T),P={ref:T,descriptor:a,env:L,scrollOptions:M};e.current=P;const E=xpe({ref:T,descriptor:a,env:L,windowScroll:S,direction:b.direction,isDropDisabled:b.isDropDisabled,isCombineEnabled:b.isCombineEnabled,shouldClipSubject:!b.ignoreContainerClipping}),U=L.closestScrollable;return U&&(U.setAttribute(D7.contextId,n.contextId),U.addEventListener("scroll",m,V7(P.scrollOptions))),E},[n.contextId,a,m,o]),x=yt(()=>{const S=e.current,M=p1(S);return S&&M||Ge(),m4(M)},[]),y=yt(()=>{const S=e.current;S||Ge();const M=p1(S);e.current=null,M&&(d.cancel(),M.removeAttribute(D7.contextId),M.removeEventListener("scroll",m,V7(S.scrollOptions)))},[m,d]),v=yt(S=>{const M=e.current;M||Ge();const b=p1(M);b||Ge(),b.scrollTop+=S.y,b.scrollLeft+=S.x},[]),w=ln(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:x,dragStopped:y,scroll:v}),[y,g,x,v]),C=ln(()=>({uniqueId:r,descriptor:a,callbacks:w}),[w,a,r]);ws(()=>(l.current=C.descriptor,i.droppable.register(C),()=>{e.current&&y(),i.droppable.unregister(C)}),[w,a,y,C,s,i.droppable]),ws(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),ws(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function TS(){}const z7={width:0,height:0,margin:Fde},Spe=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?z7:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},_pe=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=Spe({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?W0.placeholder:null}},Epe=t=>{const e=F.useRef(null),n=yt(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=F.useState(t.animate==="open");F.useEffect(()=>a?r!=="open"?(n(),l(!1),TS):e.current?TS:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):TS,[r,a,n]);const A=yt(u=>{u.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),c=_pe({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return vt.createElement(t.placeholder.tagName,{style:c,"data-rfd-placeholder-context-id":o,onTransitionEnd:A,ref:t.innerRef})};var bpe=vt.memo(Epe);class Mpe extends vt.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Tpe=t=>{const e=F.useContext(Yw);e||Ge();const{contextId:n,isMovementAllowed:r}=e,i=F.useRef(null),s=F.useRef(null),{children:o,droppableId:a,type:l,mode:A,direction:c,ignoreContainerClipping:u,isDropDisabled:d,isCombineEnabled:m,snapshot:g,useClone:x,updateViewportMaxScroll:y,getContainerForClone:v}=t,w=yt(()=>i.current,[]),C=yt((U=null)=>{i.current=U},[]);yt(()=>s.current,[]);const S=yt((U=null)=>{s.current=U},[]),M=yt(()=>{r()&&y({maxScroll:_H()})},[r,y]);Bpe({droppableId:a,type:l,mode:A,direction:c,isDropDisabled:d,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:w});const b=ln(()=>vt.createElement(Mpe,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:U,data:j,animate:Q})=>vt.createElement(bpe,{placeholder:j,onClose:U,innerRef:S,animate:Q,contextId:n,onTransitionEnd:M})),[n,M,t.placeholder,t.shouldAnimatePlaceholder,S]),T=ln(()=>({innerRef:C,placeholder:b,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,b,C]),L=x?x.dragging.draggableId:null,P=ln(()=>({droppableId:a,type:l,isUsingCloneFor:L}),[a,L,l]);function E(){if(!x)return null;const{dragging:U,render:j}=x,Q=vt.createElement(VH,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(G,J)=>j(G,J,U));return IW.createPortal(Q,v())}return vt.createElement(DM.Provider,{value:P},o(T,g),E())};function Ipe(){return document.body||Ge(),document.body}const G7={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ipe},WH=t=>{let e={...t},n;for(n in G7)t[n]===void 0&&(e={...e,[n]:G7[n]});return e},IS=(t,e)=>t===e.droppable.type,K7=(t,e)=>e.draggables[t.draggable.id],Fpe=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Nr(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Nr((s,o,a,l,A,c)=>{const u=A.descriptor.id;if(A.descriptor.droppableId===s){const g=c?{render:c,dragging:n(A.descriptor)}:null,x={isDraggingOver:a,draggingOverWith:a?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:A.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:g}}if(!o)return e;if(!l)return t;const m={isDraggingOver:a,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:A.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=WH(o),l=a.droppableId,A=a.type,c=!a.isDropDisabled,u=a.renderClone;if(Yp(s)){const d=s.critical;if(!IS(A,d))return e;const m=K7(d,s.dimensions),g=xs(s.impact)===l;return r(l,c,g,g,m,u)}if(s.phase==="DROP_ANIMATING"){const d=s.completed;if(!IS(A,d.critical))return e;const m=K7(d.critical,s.dimensions);return r(l,c,HH(d.result)===l,xs(d.impact)===l,m,u)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const d=s.completed;if(!IS(A,d.critical))return e;const m=xs(d.impact)===l,g=!!(d.impact.at&&d.impact.at.type==="COMBINE"),x=d.critical.droppable.id===l;return m?g?t:e:x?t:e}return e}},Upe={updateViewportMaxScroll:Vfe},Lpe=zQ(Fpe,Upe,(t,e,n)=>({...WH(n),...t,...e}),{context:RM,areStatePropsEqual:QH})(Tpe);var XH=Lpe,OM=G2(),Ht=t=>z2(t,OM),kM=G2();Ht.write=t=>z2(t,kM);var Zw=G2();Ht.onStart=t=>z2(t,Zw);var QM=G2();Ht.onFrame=t=>z2(t,QM);var HM=G2();Ht.onFinish=t=>z2(t,HM);var Zd=[];Ht.setTimeout=(t,e)=>{const n=Ht.now()+e,r=()=>{const s=Zd.findIndex(o=>o.cancel==r);~s&&Zd.splice(s,1),sA-=~s?1:0},i={time:n,handler:t,cancel:r};return Zd.splice($H(n),0,i),sA+=1,YH(),i};var $H=t=>~(~Zd.findIndex(e=>e.time>t)||~Zd.length);Ht.cancel=t=>{Zw.delete(t),QM.delete(t),HM.delete(t),OM.delete(t),kM.delete(t)};Ht.sync=t=>{g4=!0,Ht.batchedUpdates(t),g4=!1};Ht.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Ht.onStart(n)}return r.handler=t,r.cancel=()=>{Zw.delete(n),e=null},r};var jM=typeof window<"u"?window.requestAnimationFrame:()=>{};Ht.use=t=>jM=t;Ht.now=typeof performance<"u"?()=>performance.now():Date.now;Ht.batchedUpdates=t=>t();Ht.catch=console.error;Ht.frameLoop="always";Ht.advance=()=>{Ht.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ZH()};var iA=-1,sA=0,g4=!1;function z2(t,e){g4?(e.delete(t),t(0)):(e.add(t),YH())}function YH(){iA<0&&(iA=0,Ht.frameLoop!=="demand"&&jM(qH))}function Rpe(){iA=-1}function qH(){~iA&&(jM(qH),Ht.batchedUpdates(ZH))}function ZH(){const t=iA;iA=Ht.now();const e=$H(iA);if(e&&(JH(Zd.splice(0,e),n=>n.handler()),sA-=e),!sA){Rpe();return}Zw.flush(),OM.flush(t?Math.min(64,iA-t):16.667),QM.flush(),kM.flush(),HM.flush()}function G2(){let t=new Set,e=t;return{add(n){sA+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return sA-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,sA-=e.size,JH(e,r=>r(n)&&t.add(r)),sA+=t.size,e=t)}}}function JH(t,e){t.forEach(n=>{try{e(n)}catch(r){Ht.catch(r)}})}var Ppe=Object.defineProperty,Npe=(t,e)=>{for(var n in e)Ppe(t,n,{get:e[n],enumerable:!0})},Ro={};Npe(Ro,{assign:()=>Ope,colors:()=>BA,createStringInterpolator:()=>zM,skipAnimation:()=>tj,to:()=>ej,willAdvance:()=>GM});function v4(){}var Dpe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Ze={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Da(t,e){if(Ze.arr(t)){if(!Ze.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var En=(t,e)=>t.forEach(e);function LA(t,e,n){if(Ze.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Ys=t=>Ze.und(t)?[]:Ze.arr(t)?t:[t];function X0(t,e){if(t.size){const n=Array.from(t);t.clear(),En(n,e)}}var y0=(t,...e)=>X0(t,n=>n(...e)),VM=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zM,ej,BA=null,tj=!1,GM=v4,Ope=t=>{t.to&&(ej=t.to),t.now&&(Ht.now=t.now),t.colors!==void 0&&(BA=t.colors),t.skipAnimation!=null&&(tj=t.skipAnimation),t.createStringInterpolator&&(zM=t.createStringInterpolator),t.requestAnimationFrame&&Ht.use(t.requestAnimationFrame),t.batchedUpdates&&(Ht.batchedUpdates=t.batchedUpdates),t.willAdvance&&(GM=t.willAdvance),t.frameLoop&&(Ht.frameLoop=t.frameLoop)},$0=new Set,Ks=[],FS=[],lx=0,Jw={get idle(){return!$0.size&&!Ks.length},start(t){lx>t.priority?($0.add(t),Ht.onStart(kpe)):(nj(t),Ht(y4))},advance:y4,sort(t){if(lx)Ht.onFrame(()=>Jw.sort(t));else{const e=Ks.indexOf(t);~e&&(Ks.splice(e,1),rj(t))}},clear(){Ks=[],$0.clear()}};function kpe(){$0.forEach(nj),$0.clear(),Ht(y4)}function nj(t){Ks.includes(t)||rj(t)}function rj(t){Ks.splice(Qpe(Ks,e=>e.priority>t.priority),0,t)}function y4(t){const e=FS;for(let n=0;n<Ks.length;n++){const r=Ks[n];lx=r.priority,r.idle||(GM(r),r.advance(t),r.idle||e.push(r))}return lx=0,FS=Ks,FS.length=0,Ks=e,Ks.length>0}function Qpe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var Hpe=(t,e,n)=>Math.min(Math.max(n,t),e),_o="[-+]?\\d*\\.?\\d+",Ax=_o+"%";function e3(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var jpe=new RegExp("rgb"+e3(_o,_o,_o)),Vpe=new RegExp("rgba"+e3(_o,_o,_o,_o)),zpe=new RegExp("hsl"+e3(_o,Ax,Ax)),Gpe=new RegExp("hsla"+e3(_o,Ax,Ax,_o)),Kpe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Wpe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Xpe=/^#([0-9a-fA-F]{6})$/,$pe=/^#([0-9a-fA-F]{8})$/;function Ype(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Xpe.exec(t))?parseInt(e[1]+"ff",16)>>>0:BA&&BA[t]!==void 0?BA[t]:(e=jpe.exec(t))?(Ad(e[1])<<24|Ad(e[2])<<16|Ad(e[3])<<8|255)>>>0:(e=Vpe.exec(t))?(Ad(e[1])<<24|Ad(e[2])<<16|Ad(e[3])<<8|$7(e[4]))>>>0:(e=Kpe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=$pe.exec(t))?parseInt(e[1],16)>>>0:(e=Wpe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=zpe.exec(t))?(W7(X7(e[1]),m1(e[2]),m1(e[3]))|255)>>>0:(e=Gpe.exec(t))?(W7(X7(e[1]),m1(e[2]),m1(e[3]))|$7(e[4]))>>>0:null}function US(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function W7(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=US(i,r,t+1/3),o=US(i,r,t),a=US(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Ad(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function X7(t){return(parseFloat(t)%360+360)%360/360}function $7(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function m1(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Y7(t){let e=Ype(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var qp=(t,e,n)=>{if(Ze.fun(t))return t;if(Ze.arr(t))return qp({range:t,output:e,extrapolate:n});if(Ze.str(t.output[0]))return zM(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(A=>A);return A=>{const c=Zpe(A,s);return qpe(A,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function qpe(t,e,n,r,i,s,o,a,l){let A=l?l(t):t;if(A<e){if(o==="identity")return A;o==="clamp"&&(A=e)}if(A>n){if(a==="identity")return A;a==="clamp"&&(A=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?A=-A:n===1/0?A=A-e:A=(A-e)/(n-e),A=s(A),r===-1/0?A=-A:i===1/0?A=A+r:A=A*(i-r)+r,A)}function Zpe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var Jpe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return Hpe(0,1,i/t)},cx=1.70158,g1=cx*1.525,q7=cx+1,Z7=2*Math.PI/3,J7=2*Math.PI/4.5,v1=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e2e={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>q7*t*t*t-cx*t*t,easeOutBack:t=>1+q7*Math.pow(t-1,3)+cx*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((g1+1)*2*t-g1)/2:(Math.pow(2*t-2,2)*((g1+1)*(t*2-2)+g1)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*Z7),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*Z7)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*J7))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*J7)/2+1,easeInBounce:t=>1-v1(1-t),easeOutBounce:v1,easeInOutBounce:t=>t<.5?(1-v1(1-2*t))/2:(1+v1(2*t-1))/2,steps:Jpe},Zp=Symbol.for("FluidValue.get"),Hf=Symbol.for("FluidValue.observers"),Qa=t=>!!(t&&t[Zp]),js=t=>t&&t[Zp]?t[Zp]():t,e9=t=>t[Hf]||null;function t2e(t,e){t.eventObserved?t.eventObserved(e):t(e)}function ux(t,e){const n=t[Hf];n&&n.forEach(r=>{t2e(r,e)})}var n2e=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");r2e(this,e)}},r2e=(t,e)=>sj(t,Zp,e);function t3(t,e){if(t[Zp]){let n=t[Hf];n||sj(t,Hf,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function ij(t,e){const n=t[Hf];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Hf]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var sj=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),fv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i2e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,t9=new RegExp(`(${fv.source})(%|[a-z]+)`,"i"),s2e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,n3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,oj=t=>{const[e,n]=o2e(t);if(!e||VM())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&n3.test(n))return oj(n);if(n)return n}return t},o2e=t=>{const e=n3.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},LS,a2e=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,l2e=t=>{LS||(LS=BA?new RegExp(`(${Object.keys(BA).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>js(s).replace(n3,oj).replace(i2e,Y7).replace(LS,Y7)),n=e.map(s=>s.match(fv).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>qp({...t,output:s}));return s=>{var l;const o=!t9.test(e[0])&&((l=e.find(A=>t9.test(A)))==null?void 0:l.replace(fv,""));let a=0;return e[0].replace(fv,()=>`${i[a++](s)}${o||""}`).replace(s2e,a2e)}},KM="react-spring: ",aj=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${KM}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},A2e=aj(console.warn);function c2e(){A2e(`${KM}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var u2e=aj(console.warn);function d2e(){u2e(`${KM}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function r3(t){return Ze.str(t)&&(t[0]=="#"||/\d/.test(t)||!VM()&&n3.test(t)||t in(BA||{}))}var lj=VM()?F.useEffect:F.useLayoutEffect,f2e=()=>{const t=F.useRef(!1);return lj(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function h2e(){const t=F.useState()[1],e=f2e();return()=>{e.current&&t(Math.random())}}function p2e(t,e){const[n]=F.useState(()=>({inputs:e,result:t()})),r=F.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&m2e(e,s.inputs)||(s={inputs:e,result:t()}):s=n,F.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function m2e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var g2e=t=>F.useEffect(t,v2e),v2e=[];function n9(t){const e=F.useRef();return F.useEffect(()=>{e.current=t}),e.current}var Jp=Symbol.for("Animated:node"),y2e=t=>!!t&&t[Jp]===t,Jo=t=>t&&t[Jp],WM=(t,e)=>Dpe(t,Jp,e),i3=t=>t&&t[Jp]&&t[Jp].getPayload(),Aj=class{constructor(){WM(this,this)}getPayload(){return this.payload||[]}},K2=class extends Aj{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Ze.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new K2(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Ze.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},e2=class extends K2{constructor(t){super(0),this._string=null,this._toString=qp({output:[t,t]})}static create(t){return new e2(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Ze.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=qp({output:[this.getValue(),t]})),this._value=0,super.reset()}},x2e=class extends Aj{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return LA(this.source,(r,i)=>{y2e(r)?n[i]=r.getValue(e):Qa(r)?n[i]=js(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&En(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return LA(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){const n=i3(e);n&&En(n,r=>this.add(r))}},cj=class extends x2e{constructor(t){super(t)}static create(t){return new cj(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(w2e)),!0)}};function w2e(t){return(r3(t)?e2:K2).create(t)}function x4(t){const e=Jo(t);return e?e.constructor:Ze.arr(t)?cj:r3(t)?e2:K2}function xc(t,...e){return Ze.fun(t)?t(...e):t}var Y0=(t,e)=>t===!0||!!(e&&t&&(Ze.fun(t)?t(e):Ys(t).includes(e))),uj=(t,e)=>Ze.obj(t)?e&&t[e]:t,dj=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,C2e=t=>t,XM=(t,e=C2e)=>{let n=B2e;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Ze.und(s)||(r[i]=s)}return r},B2e=["config","onProps","onStart","onChange","onPause","onResume","onRest"],S2e={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function _2e(t){const e={};let n=0;if(LA(t,(r,i)=>{S2e[i]||(e[i]=r,n++)}),n)return e}function fj(t){const e=_2e(t);if(e){const n={to:e};return LA(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function t2(t){return t=js(t),Ze.arr(t)?t.map(t2):r3(t)?Ro.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function E2e(t){for(const e in t)return!0;return!1}function w4(t){return Ze.fun(t)||Ze.arr(t)&&Ze.obj(t[0])}function b2e(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function M2e(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var T2e={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},C4={...T2e.default,mass:1,damping:1,easing:e2e.linear,clamp:!1},I2e=class{constructor(){this.velocity=0,Object.assign(this,C4)}};function F2e(t,e,n){n&&(n={...n},r9(n,e),e={...n,...e}),r9(t,e),Object.assign(t,e);for(const o in C4)t[o]==null&&(t[o]=C4[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Ze.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function r9(t,e){if(!Ze.und(e.decay))t.duration=void 0;else{const n=!Ze.und(e.tension)||!Ze.und(e.friction);(n||!Ze.und(e.frequency)||!Ze.und(e.damping)||!Ze.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var i9=[],U2e=class{constructor(){this.changed=!1,this.values=i9,this.toValues=null,this.fromValues=i9,this.config=new I2e,this.immediate=!1}};function hj(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,A,c=Y0(n.cancel??(r==null?void 0:r.cancel),e);if(c)m();else{Ze.und(n.pause)||(i.paused=Y0(n.pause,e));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||Y0(g,e)),l=xc(n.delay||0,e),g?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function u(){i.resumeQueue.add(d),i.timeouts.delete(A),A.cancel(),l=A.time-Ht.now()}function d(){l>0&&!Ro.skipAnimation?(i.delayed=!0,A=Ht.setTimeout(m,l),i.pauseQueue.add(u),i.timeouts.add(A)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(u),i.timeouts.delete(A),t<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:t,cancel:c},o)}catch(g){a(g)}}})}var $M=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Jd(t.get()):e.every(n=>n.noop)?pj(t.get()):Co(t.get(),e.every(n=>n.finished)),pj=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Co=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Jd=t=>({value:t,cancelled:!0,finished:!1});function mj(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const A=XM(e,(y,v)=>v==="onRest"?void 0:y);let c,u;const d=new Promise((y,v)=>(c=y,u=v)),m=y=>{const v=i<=(n.cancelId||0)&&Jd(r)||i!==n.asyncId&&Co(r,!1);if(v)throw y.result=v,u(y),y},g=(y,v)=>{const w=new s9,C=new o9;return(async()=>{if(Ro.skipAnimation)throw n2(n),C.result=Co(r,!1),u(C),C;m(w);const S=Ze.obj(y)?{...y}:{...v,to:y};S.parentId=i,LA(A,(b,T)=>{Ze.und(S[T])&&(S[T]=b)});const M=await r.start(S);return m(w),n.paused&&await new Promise(b=>{n.resumeQueue.add(b)}),M})()};let x;if(Ro.skipAnimation)return n2(n),Co(r,!1);try{let y;Ze.arr(t)?y=(async v=>{for(const w of v)await g(w)})(t):y=Promise.resolve(t(g,r.stop.bind(r))),await Promise.all([y.then(c),d]),x=Co(r.get(),!0,!1)}catch(y){if(y instanceof s9)x=y.result;else if(y instanceof o9)x=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Ze.fun(o)&&Ht.batchedUpdates(()=>{o(x,r,r.item)}),x})()}function n2(t,e){X0(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var s9=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},o9=class extends Error{constructor(){super("SkipAnimationSignal")}},B4=t=>t instanceof YM,L2e=1,YM=class extends n2e{constructor(){super(...arguments),this.id=L2e++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Jo(this);return t&&t.getValue()}to(...t){return Ro.to(this,t)}interpolate(...t){return c2e(),Ro.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){ux(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Jw.sort(this),ux(this,{type:"priority",parent:this,priority:t})}},gu=Symbol.for("SpringPhase"),gj=1,S4=2,_4=4,RS=t=>(t[gu]&gj)>0,Ll=t=>(t[gu]&S4)>0,i0=t=>(t[gu]&_4)>0,a9=(t,e)=>e?t[gu]|=S4|gj:t[gu]&=~S4,l9=(t,e)=>e?t[gu]|=_4:t[gu]&=~_4,R2e=class extends YM{constructor(t,e){if(super(),this.animation=new U2e,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ze.und(t)||!Ze.und(e)){const n=Ze.obj(t)?{...t}:{...e,from:t};Ze.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ll(this)||this._state.asyncTo)||i0(this)}get goal(){return js(this.animation.to)}get velocity(){const t=Jo(this);return t instanceof K2?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return RS(this)}get isAnimating(){return Ll(this)}get isPaused(){return i0(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=i3(r.to);!o&&Qa(r.to)&&(i=Ys(js(r.to))),r.values.forEach((A,c)=>{if(A.done)return;const u=A.constructor==e2?1:o?o[c].lastPosition:i[c];let d=r.immediate,m=u;if(!d){if(m=A.lastPosition,s.tension<=0){A.done=!0;return}let g=A.elapsedTime+=t;const x=r.fromValues[c],y=A.v0!=null?A.v0:A.v0=Ze.arr(s.velocity)?s.velocity[c]:s.velocity;let v;const w=s.precision||(x==u?.005:Math.min(1,Math.abs(u-x)*.001));if(Ze.und(s.duration))if(s.decay){const C=s.decay===!0?.998:s.decay,S=Math.exp(-(1-C)*g);m=x+y/(1-C)*(1-S),d=Math.abs(A.lastPosition-m)<=w,v=y*S}else{v=A.lastVelocity==null?y:A.lastVelocity;const C=s.restVelocity||w/10,S=s.clamp?0:s.bounce,M=!Ze.und(S),b=x==u?A.v0>0:x<u;let T,L=!1;const P=1,E=Math.ceil(t/P);for(let U=0;U<E&&(T=Math.abs(v)>C,!(!T&&(d=Math.abs(u-m)<=w,d)));++U){M&&(L=m==u||m>u==b,L&&(v=-v*S,m=u));const j=-s.tension*1e-6*(m-u),Q=-s.friction*.001*v,G=(j+Q)/s.mass;v=v+G*P,m=m+v*P}}else{let C=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,A.durationProgress>0&&(A.elapsedTime=s.duration*A.durationProgress,g=A.elapsedTime+=t)),C=(s.progress||0)+g/this._memoizedDuration,C=C>1?1:C<0?0:C,A.durationProgress=C),m=x+s.easing(C)*(u-x),v=(m-A.lastPosition)/t,d=C==1}A.lastVelocity=v,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?A.done=!0:e=!1,A.setValue(m,s.round)&&(n=!0)});const a=Jo(this),l=a.getValue();if(e){const A=js(r.to);(l!==A||n)&&!s.decay?(a.setValue(A),this._onChange(A)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Ht.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ll(this)){const{to:t,config:e}=this.animation;Ht.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Ze.und(t)?(n=this.queue||[],this.queue=[]):n=[Ze.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>$M(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),n2(this._state,t&&this._lastCallId),Ht.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Ze.obj(n)?n[e]:n,(n==null||w4(n))&&(n=void 0),r=Ze.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return RS(this)||(t.reverse&&([n,r]=[r,n]),r=js(r),Ze.und(r)?Jo(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,XM(t,(o,a)=>/^on/.test(a)?uj(o,n):o)),c9(this,t,"onProps"),o0(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return hj(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{i0(this)||(l9(this,!0),y0(s.pauseQueue),o0(this,"onPause",Co(this,s0(this,this.animation.to)),this))},resume:()=>{i0(this)&&(l9(this,!1),Ll(this)&&this._resume(),y0(s.resumeQueue),o0(this,"onResume",Co(this,s0(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=vj(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Jd(this));const r=!Ze.und(t.to),i=!Ze.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(Jd(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:A}=a;let{to:c=l,from:u=A}=t;i&&!r&&(!e.default||Ze.und(c))&&(c=u),e.reverse&&([c,u]=[u,c]);const d=!Da(u,A);d&&(a.from=u),u=js(u);const m=!Da(c,l);m&&this._focus(c);const g=w4(e.to),{config:x}=a,{decay:y,velocity:v}=x;(r||i)&&(x.velocity=0),e.config&&!g&&F2e(x,xc(e.config,s),e.config!==o.config?xc(o.config,s):void 0);let w=Jo(this);if(!w||Ze.und(c))return n(Co(this,!0));const C=Ze.und(e.reset)?i&&!e.default:!Ze.und(u)&&Y0(e.reset,s),S=C?u:this.get(),M=t2(c),b=Ze.num(M)||Ze.arr(M)||r3(M),T=!g&&(!b||Y0(o.immediate||e.immediate,s));if(m){const U=x4(c);if(U!==w.constructor)if(T)w=this._set(M);else throw Error(`Cannot animate between ${w.constructor.name} and ${U.name}, as the "to" prop suggests`)}const L=w.constructor;let P=Qa(c),E=!1;if(!P){const U=C||!RS(this)&&d;(m||U)&&(E=Da(t2(S),M),P=!E),(!Da(a.immediate,T)&&!T||!Da(x.decay,y)||!Da(x.velocity,v))&&(P=!0)}if(E&&Ll(this)&&(a.changed&&!C?P=!0:P||this._stop(l)),!g&&((P||Qa(l))&&(a.values=w.getPayload(),a.toValues=Qa(c)?null:L==e2?[1]:Ys(M)),a.immediate!=T&&(a.immediate=T,!T&&!C&&this._set(l)),P)){const{onRest:U}=a;En(N2e,Q=>c9(this,e,Q));const j=Co(this,s0(this,l));y0(this._pendingCalls,j),this._pendingCalls.add(n),a.changed&&Ht.batchedUpdates(()=>{var Q;a.changed=!C,U==null||U(j,this),C?xc(o.onRest,j):(Q=a.onStart)==null||Q.call(a,j,this)})}C&&this._set(S),g?n(mj(e.to,e,this._state,this)):P?this._start():Ll(this)&&!m?this._pendingCalls.add(n):n(pj(S))}_focus(t){const e=this.animation;t!==e.to&&(e9(this)&&this._detach(),e.to=t,e9(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Qa(e)&&(t3(e,this),B4(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Qa(t)&&ij(t,this)}_set(t,e=!0){const n=js(t);if(!Ze.und(n)){const r=Jo(this);if(!r||!Da(n,r.getValue())){const i=x4(n);!r||r.constructor!=i?WM(this,i.create(n)):r.setValue(n),r&&Ht.batchedUpdates(()=>{this._onChange(n,e)})}}return Jo(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,o0(this,"onStart",Co(this,s0(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),xc(this.animation.onChange,t,this)),xc(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Jo(this).reset(js(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Ll(this)||(a9(this,!0),i0(this)||this._resume())}_resume(){Ro.skipAnimation?this.finish():Jw.start(this)}_stop(t,e){if(Ll(this)){a9(this,!1);const n=this.animation;En(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),ux(this,{type:"idle",parent:this});const r=e?Jd(this.get()):Co(this.get(),s0(this,t??n.to));y0(this._pendingCalls,r),n.changed&&(n.changed=!1,o0(this,"onRest",r,this))}}};function s0(t,e){const n=t2(e),r=t2(t.get());return Da(r,n)}function vj(t,e=t.loop,n=t.to){const r=xc(e);if(r){const i=r!==!0&&fj(r),s=(i||t).reverse,o=!i||i.reset;return r2({...t,loop:e,default:!1,pause:void 0,to:!s||w4(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function r2(t){const{to:e,from:n}=t=fj(t),r=new Set;return Ze.obj(e)&&A9(e,r),Ze.obj(n)&&A9(n,r),t.keys=r.size?Array.from(r):null,t}function P2e(t){const e=r2(t);return Ze.und(e.default)&&(e.default=XM(e)),e}function A9(t,e){LA(t,(n,r)=>n!=null&&e.add(r))}var N2e=["onStart","onRest","onChange","onPause","onResume"];function c9(t,e,n){t.animation[n]=e[n]!==dj(e,n)?uj(e[n],t.key):void 0}function o0(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var D2e=["onStart","onChange","onRest"],O2e=1,k2e=class{constructor(e,n){this.id=O2e++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];Ze.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(r2(e)),this}start(e){let{queue:n}=this;return e?n=Ys(e).map(r2):this.queue=[],this._flush?this._flush(this,n):(Bj(this,n),E4(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;En(Ys(n),i=>r[i].stop(!!e))}else n2(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(Ze.und(e))this.start({pause:!0});else{const n=this.springs;En(Ys(e),r=>n[r].pause())}return this}resume(e){if(Ze.und(e))this.start({pause:!1});else{const n=this.springs;En(Ys(e),r=>n[r].resume())}return this}each(e){LA(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,X0(e,([l,A])=>{A.value=this.get(),l(A,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&n.size&&X0(n,([l,A])=>{A.value=a,l(A,this,this._item)}),o&&(this._started=!1,X0(r,([l,A])=>{A.value=a,l(A,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ht.onFrame(this._onFrame)}};function E4(t,e){return Promise.all(e.map(n=>yj(t,n))).then(n=>$M(t,n))}async function yj(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,A=Ze.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=Ze.arr(i)||Ze.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,A&&(A.onRest=void 0)):En(D2e,x=>{const y=e[x];if(Ze.fun(y)){const v=t._events[x];e[x]=({finished:w,cancelled:C})=>{const S=v.get(y);S?(w||(S.finished=!1),C&&(S.cancelled=!0)):v.set(y,{value:null,finished:w||!1,cancelled:C||!1})},A&&(A[x]=e[x])}});const u=t._state;e.pause===!u.paused?(u.paused=e.pause,y0(e.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(e.pause=!0);const d=(r||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),m=e.cancel===!0||dj(e,"cancel")===!0;(c||m&&u.asyncId)&&d.push(hj(++t._lastAsyncId,{props:e,state:u,actions:{pause:v4,resume:v4,start(x,y){m?(n2(u,t._lastAsyncId),y(Jd(t))):(x.onRest=a,y(mj(c,x,u,t)))}}})),u.paused&&await new Promise(x=>{u.resumeQueue.add(x)});const g=$M(t,await Promise.all(d));if(o&&g.finished&&!(n&&g.noop)){const x=vj(e,o,i);if(x)return Bj(t,[x]),yj(t,x,!0)}return l&&Ht.batchedUpdates(()=>l(g,t,t.item)),g}function u9(t,e){const n={...t.springs};return e&&En(Ys(e),r=>{Ze.und(r.keys)&&(r=r2(r)),Ze.obj(r.to)||(r={...r,to:void 0}),Cj(n,r,i=>wj(i))}),xj(t,n),n}function xj(t,e){LA(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,t3(n,t))})}function wj(t,e){const n=new R2e;return n.key=t,e&&t3(n,e),n}function Cj(t,e,n){e.keys&&En(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function Bj(t,e){En(e,n=>{Cj(t.springs,n,r=>wj(r,t))})}var s3=({children:t,...e})=>{const n=F.useContext(dx),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=p2e(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=dx;return F.createElement(s,{value:e},t)},dx=Q2e(s3,{});s3.Provider=dx.Provider;s3.Consumer=dx.Consumer;function Q2e(t,e){return Object.assign(t,F.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var H2e=()=>{const t=[],e=function(r){d2e();const i=[];return En(t,(s,o)=>{if(Ze.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return En(t,r=>r.pause(...arguments)),this},e.resume=function(){return En(t,r=>r.resume(...arguments)),this},e.set=function(r){En(t,(i,s)=>{const o=Ze.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return En(t,(s,o)=>{if(Ze.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return En(t,r=>r.stop(...arguments)),this},e.update=function(r){return En(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Ze.fun(r)?r(s,i):r};return e._getProps=n,e};function j2e(t,e,n){const r=Ze.fun(e)&&e;r&&!n&&(n=[]);const i=F.useMemo(()=>r||arguments.length==3?H2e():void 0,[]),s=F.useRef(0),o=h2e(),a=F.useMemo(()=>({ctrls:[],queue:[],flush(v,w){const C=u9(v,w);return s.current>0&&!a.queue.length&&!Object.keys(C).some(M=>!v.springs[M])?E4(v,w):new Promise(M=>{xj(v,C),a.queue.push(()=>{M(E4(v,w))}),o()})}}),[]),l=F.useRef([...a.ctrls]),A=[],c=n9(t)||0;F.useMemo(()=>{En(l.current.slice(t,c),v=>{b2e(v,i),v.stop(!0)}),l.current.length=t,u(c,t)},[t]),F.useMemo(()=>{u(0,Math.min(c,t))},n);function u(v,w){for(let C=v;C<w;C++){const S=l.current[C]||(l.current[C]=new k2e(null,a.flush)),M=r?r(C,S):e[C];M&&(A[C]=P2e(M))}}const d=l.current.map((v,w)=>u9(v,A[w])),m=F.useContext(s3),g=n9(m),x=m!==g&&E2e(m);lj(()=>{s.current++,a.ctrls=l.current;const{queue:v}=a;v.length&&(a.queue=[],En(v,w=>w())),En(l.current,(w,C)=>{i==null||i.add(w),x&&w.start({default:m});const S=A[C];S&&(M2e(w,S.ref),w.ref?w.queue.push(S):w.start(S))})}),g2e(()=>()=>{En(a.ctrls,v=>v.stop(!0))});const y=d.map(v=>({...v}));return i?[y,i]:y}function V2e(t,e){const n=Ze.fun(t),[[r],i]=j2e(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}var z2e=class extends YM{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=qp(...e);const n=this._get(),r=x4(n);WM(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Da(e,n)||(Jo(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&d9(this._active)&&PS(this)}_get(){const t=Ze.arr(this.source)?this.source.map(js):Ys(js(this.source));return this.calc(...t)}_start(){this.idle&&!d9(this._active)&&(this.idle=!1,En(i3(this),t=>{t.done=!1}),Ro.skipAnimation?(Ht.batchedUpdates(()=>this.advance()),PS(this)):Jw.start(this))}_attach(){let t=1;En(Ys(this.source),e=>{Qa(e)&&t3(e,this),B4(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){En(Ys(this.source),t=>{Qa(t)&&ij(t,this)}),this._active.clear(),PS(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Ys(this.source).reduce((e,n)=>Math.max(e,(B4(n)?n.priority:0)+1),0))}};function G2e(t){return t.idle!==!1}function d9(t){return!t.size||Array.from(t).every(G2e)}function PS(t){t.idle||(t.idle=!0,En(i3(t),e=>{e.done=!0}),ux(t,{type:"idle",parent:t}))}Ro.assign({createStringInterpolator:l2e,to:(t,e)=>new z2e(t,e)});var qM=X2(),Sn=t=>W2(t,qM),ZM=X2();Sn.write=t=>W2(t,ZM);var o3=X2();Sn.onStart=t=>W2(t,o3);var JM=X2();Sn.onFrame=t=>W2(t,JM);var eT=X2();Sn.onFinish=t=>W2(t,eT);var ef=[];Sn.setTimeout=(t,e)=>{const n=Sn.now()+e,r=()=>{const s=ef.findIndex(o=>o.cancel==r);~s&&ef.splice(s,1),aA-=~s?1:0},i={time:n,handler:t,cancel:r};return ef.splice(Sj(n),0,i),aA+=1,_j(),i};var Sj=t=>~(~ef.findIndex(e=>e.time>t)||~ef.length);Sn.cancel=t=>{o3.delete(t),JM.delete(t),eT.delete(t),qM.delete(t),ZM.delete(t)};Sn.sync=t=>{b4=!0,Sn.batchedUpdates(t),b4=!1};Sn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Sn.onStart(n)}return r.handler=t,r.cancel=()=>{o3.delete(n),e=null},r};var tT=typeof window<"u"?window.requestAnimationFrame:()=>{};Sn.use=t=>tT=t;Sn.now=typeof performance<"u"?()=>performance.now():Date.now;Sn.batchedUpdates=t=>t();Sn.catch=console.error;Sn.frameLoop="always";Sn.advance=()=>{Sn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bj()};var oA=-1,aA=0,b4=!1;function W2(t,e){b4?(e.delete(t),t(0)):(e.add(t),_j())}function _j(){oA<0&&(oA=0,Sn.frameLoop!=="demand"&&tT(Ej))}function K2e(){oA=-1}function Ej(){~oA&&(tT(Ej),Sn.batchedUpdates(bj))}function bj(){const t=oA;oA=Sn.now();const e=Sj(oA);if(e&&(Mj(ef.splice(0,e),n=>n.handler()),aA-=e),!aA){K2e();return}o3.flush(),qM.flush(t?Math.min(64,oA-t):16.667),JM.flush(),ZM.flush(),eT.flush()}function X2(){let t=new Set,e=t;return{add(n){aA+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return aA-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,aA-=e.size,Mj(e,r=>r(n)&&t.add(r)),aA+=t.size,e=t)}}}function Mj(t,e){t.forEach(n=>{try{e(n)}catch(r){Sn.catch(r)}})}var W2e=Object.defineProperty,X2e=(t,e)=>{for(var n in e)W2e(t,n,{get:e[n],enumerable:!0})},$2e={};X2e($2e,{assign:()=>J2e,colors:()=>Yc,createStringInterpolator:()=>nT,skipAnimation:()=>Fj,to:()=>Ij,willAdvance:()=>Uj});function Y2e(){}var q2e=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Dr={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0},oa=(t,e)=>t.forEach(e);function fx(t,e,n){if(Dr.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Z2e=t=>Dr.und(t)?[]:Dr.arr(t)?t:[t],Tj=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nT,Ij,Yc=null,Fj=!1,Uj=Y2e,J2e=t=>{t.to&&(Ij=t.to),t.now&&(Sn.now=t.now),t.colors!==void 0&&(Yc=t.colors),t.skipAnimation!=null&&(Fj=t.skipAnimation),t.createStringInterpolator&&(nT=t.createStringInterpolator),t.requestAnimationFrame&&Sn.use(t.requestAnimationFrame),t.batchedUpdates&&(Sn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Uj=t.willAdvance),t.frameLoop&&(Sn.frameLoop=t.frameLoop)},eme={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Eo="[-+]?\\d*\\.?\\d+",hx=Eo+"%";function a3(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var tme=new RegExp("rgb"+a3(Eo,Eo,Eo)),nme=new RegExp("rgba"+a3(Eo,Eo,Eo,Eo)),rme=new RegExp("hsl"+a3(Eo,hx,hx)),ime=new RegExp("hsla"+a3(Eo,hx,hx,Eo)),sme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ome=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ame=/^#([0-9a-fA-F]{6})$/,lme=/^#([0-9a-fA-F]{8})$/;function Ame(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=ame.exec(t))?parseInt(e[1]+"ff",16)>>>0:Yc&&Yc[t]!==void 0?Yc[t]:(e=tme.exec(t))?(cd(e[1])<<24|cd(e[2])<<16|cd(e[3])<<8|255)>>>0:(e=nme.exec(t))?(cd(e[1])<<24|cd(e[2])<<16|cd(e[3])<<8|p9(e[4]))>>>0:(e=sme.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=lme.exec(t))?parseInt(e[1],16)>>>0:(e=ome.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=rme.exec(t))?(f9(h9(e[1]),y1(e[2]),y1(e[3]))|255)>>>0:(e=ime.exec(t))?(f9(h9(e[1]),y1(e[2]),y1(e[3]))|p9(e[4]))>>>0:null}function NS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f9(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=NS(i,r,t+1/3),o=NS(i,r,t),a=NS(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function cd(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function h9(t){return(parseFloat(t)%360+360)%360/360}function p9(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function y1(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function m9(t){let e=Ame(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Lj=(t,e,n)=>{if(Dr.fun(t))return t;if(Dr.arr(t))return Lj({range:t,output:e,extrapolate:n});if(Dr.str(t.output[0]))return nT(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(A=>A);return A=>{const c=ume(A,s);return cme(A,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function cme(t,e,n,r,i,s,o,a,l){let A=l?l(t):t;if(A<e){if(o==="identity")return A;o==="clamp"&&(A=e)}if(A>n){if(a==="identity")return A;a==="clamp"&&(A=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?A=-A:n===1/0?A=A-e:A=(A-e)/(n-e),A=s(A),r===-1/0?A=-A:i===1/0?A=A+r:A=A*(i-r)+r,A)}function ume(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var i2=Symbol.for("FluidValue.get"),s2=Symbol.for("FluidValue.observers"),px=t=>!!(t&&t[i2]),mx=t=>t&&t[i2]?t[i2]():t;function dme(t,e){t.eventObserved?t.eventObserved(e):t(e)}function fme(t,e){const n=t[s2];n&&n.forEach(r=>{dme(r,e)})}var hme=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");pme(this,t)}},pme=(t,e)=>Pj(t,i2,e);function Rj(t,e){if(t[i2]){let n=t[s2];n||Pj(t,s2,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function M4(t,e){const n=t[s2];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[s2]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var Pj=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),hv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,mme=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,g9=new RegExp(`(${hv.source})(%|[a-z]+)`,"i"),gme=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,rT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Nj=t=>{const[e,n]=vme(t);if(!e||Tj())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&rT.test(n))return Nj(n);if(n)return n}return t},vme=t=>{const e=rT.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},DS,yme=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,xme=t=>{DS||(DS=Yc?new RegExp(`(${Object.keys(Yc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>mx(s).replace(rT,Nj).replace(mme,m9).replace(DS,m9)),n=e.map(s=>s.match(hv).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Lj({...t,output:s}));return s=>{var l;const o=!g9.test(e[0])&&((l=e.find(A=>g9.test(A)))==null?void 0:l.replace(hv,""));let a=0;return e[0].replace(hv,()=>`${i[a++](s)}${o||""}`).replace(gme,yme)}},wme="react-spring: ",Dj=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${wme}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}};Dj(console.warn);Dj(console.warn);var Oj=Tj()?F.useEffect:F.useLayoutEffect,Cme=()=>{const t=F.useRef(!1);return Oj(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Bme(){const t=F.useState()[1],e=Cme();return()=>{e.current&&t(Math.random())}}var Sme=t=>F.useEffect(t,_me),_me=[],gx=Symbol.for("Animated:node"),Eme=t=>!!t&&t[gx]===t,bme=(t,e)=>q2e(t,gx,e),Mme=t=>t&&t[gx]&&t[gx].getPayload(),Tme=class{constructor(){bme(this,this)}getPayload(){return this.payload||[]}},vx={dependencies:null},iT=class extends Tme{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return fx(this.source,(n,r)=>{Eme(n)?e[r]=n.getValue(t):px(n)?e[r]=mx(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&oa(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return fx(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){vx.dependencies&&px(t)&&vx.dependencies.add(t);const e=Mme(t);e&&oa(e,n=>this.add(n))}},v9=(t,e)=>{const n=!Dr.fun(t)||t.prototype&&t.prototype.isReactComponent;return F.forwardRef((r,i)=>{const s=F.useRef(null),o=n&&F.useCallback(g=>{s.current=Ume(i,g)},[i]),[a,l]=Fme(r,e),A=Bme(),c=()=>{const g=s.current;if(n&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&A()},u=new Ime(c,l),d=F.useRef();Oj(()=>(d.current=u,oa(l,g=>Rj(g,u)),()=>{d.current&&(oa(d.current.deps,g=>M4(g,d.current)),Sn.cancel(d.current.update))})),F.useEffect(c,[]),Sme(()=>()=>{const g=d.current;oa(g.deps,x=>M4(x,g))});const m=e.getComponentProps(a.getValue());return F.createElement(t,{...m,ref:o})})},Ime=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Sn.write(this.update)}};function Fme(t,e){const n=new Set;return vx.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new iT(t),vx.dependencies=null,[t,n]}function Ume(t,e){return t&&(Dr.fun(t)?t(e):t.current=e),e}var y9=Symbol.for("AnimatedComponent"),Lme=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new iT(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=x9(o)||"Anonymous";return Dr.str(o)?o=s[o]||(s[o]=v9(o,i)):o=o[y9]||(o[y9]=v9(o,i)),o.displayName=`Animated(${a})`,o};return fx(t,(o,a)=>{Dr.arr(t)&&(a=x9(o)),s[a]=s(o)}),{animated:s}},x9=t=>Dr.str(t)?t:t&&Dr.str(t.displayName)?t.displayName:Dr.fun(t)&&t.name||null,kj=/^--/;function Rme(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!kj.test(t)&&!(q0.hasOwnProperty(t)&&q0[t])?e+"px":(""+e).trim()}var w9={};function Pme(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:r,style:i,children:s,scrollTop:o,scrollLeft:a,viewBox:l,...A}=e,c=Object.values(A),u=Object.keys(A).map(d=>n||t.hasAttribute(d)?d:w9[d]||(w9[d]=d.replace(/([A-Z])/g,m=>"-"+m.toLowerCase())));s!==void 0&&(t.textContent=s);for(const d in i)if(i.hasOwnProperty(d)){const m=Rme(d,i[d]);kj.test(d)?t.style.setProperty(d,m):t.style[d]=m}u.forEach((d,m)=>{t.setAttribute(d,c[m])}),r!==void 0&&(t.className=r),o!==void 0&&(t.scrollTop=o),a!==void 0&&(t.scrollLeft=a),l!==void 0&&t.setAttribute("viewBox",l)}var q0={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nme=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Dme=["Webkit","Ms","Moz","O"];q0=Object.keys(q0).reduce((t,e)=>(Dme.forEach(n=>t[Nme(n,e)]=t[e]),t),q0);var Ome=/^(matrix|translate|scale|rotate|skew)/,kme=/^(translate)/,Qme=/^(rotate|skew)/,OS=(t,e)=>Dr.num(t)&&t!==0?t+e:t,pv=(t,e)=>Dr.arr(t)?t.every(n=>pv(n,e)):Dr.num(t)?t===e:parseFloat(t)===e,Hme=class extends iT{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>OS(a,"px")).join(",")})`,pv(o,0)])),fx(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(Ome.test(a)){if(delete r[a],Dr.und(o))return;const l=kme.test(a)?"px":Qme.test(a)?"deg":"";i.push(Z2e(o)),s.push(a==="rotate3d"?([A,c,u,d])=>[`rotate3d(${A},${c},${u},${OS(d,l)})`,pv(d,0)]:A=>[`${a}(${A.map(c=>OS(c,l)).join(",")})`,pv(A,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new jme(i,s)),super(r)}},jme=class extends hme{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return oa(this.inputs,(n,r)=>{const i=mx(n[0]),[s,o]=this.transforms[r](Dr.arr(i)?i:n.map(mx));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&oa(this.inputs,e=>oa(e,n=>px(n)&&Rj(n,this)))}observerRemoved(t){t==0&&oa(this.inputs,e=>oa(e,n=>px(n)&&M4(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),fme(this,t)}},Vme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ro.assign({batchedUpdates:wu.unstable_batchedUpdates,createStringInterpolator:xme,colors:eme});var zme=Lme(Vme,{applyAnimatedValues:Pme,createAnimatedStyle:t=>new Hme(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Gme=zme.animated;function T4(t,e){return t.map(function(n,r){return n+e[r]})}function sT(t,e){return t.map(function(n,r){return n-e[r]})}function I4(t){return Math.hypot.apply(Math,t)}function Kme(t,e,n){var r=I4(e),i=r===0?0:1/r,s=n===0?0:1/n,o=s*r,a=e.map(function(c){return s*c}),l=e.map(function(c){return i*c}),A=I4(t);return{velocities:a,velocity:o,distance:A,direction:l}}function F4(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function Wme(t,e,n){return Math.max(e,Math.min(t,n))}function Xme(t,e){return Math.pow(t,e*5)}function C9(t,e,n){return e===0||Math.abs(e)===1/0?Xme(t,n):t*e*n/(e+n*t)}function B9(t,e,n,r){return r===void 0&&(r=.15),r===0?Wme(t,e,n):t<e?-C9(e-t,n-e,r)+e:t>n?+C9(t-n,n-e,r)+n:t}function $me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yme(t,e,n){return e&&$me(t.prototype,e),t}function Mi(){return Mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mi.apply(this,arguments)}function Qj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function qme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zme(t,e){if(t){if(typeof t=="string")return S9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S9(t,e)}}function S9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l3(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=Zme(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function Hj(){}function jj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?Hj:e.length===1?e[0]:function(){for(var r,i=l3(e),s;!(s=i()).done;){var o=s.value;r=o.apply(this,arguments)||r}return r}}function zl(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function _9(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function oT(t,e){t===void 0&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],o=s[0],a=s[1];switch(typeof a){case"function":n[o]=a.call(n,t[o],o,t);break;case"object":n[o]=oT(t[o],a);break;case"boolean":a&&(n[o]=t[o]);break}}return n}function Jme(){try{return"constructor"in GestureEvent}catch{return!1}}function Vj(){return typeof window<"u"&&"ontouchstart"in window}function ege(){return typeof window<"u"&&"onpointerdown"in window}function zj(t){return"pointerId"in t?null:t.type==="touchend"?t.changedTouches:t.targetTouches}function Gj(t){return Array.from(zj(t)).map(function(e){return e.identifier})}function E9(t){var e="buttons"in t?t.buttons:0,n=t.shiftKey,r=t.altKey,i=t.metaKey,s=t.ctrlKey;return{buttons:e,shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}}var tge=function(e){return e};function b9(t,e){e===void 0&&(e=tge);var n=zj(t),r=n?n[0]:t,i=r.clientX,s=r.clientY;return e([i,s])}var nge=180,rge=.15,ige=.5,sge=50,oge=250,age={threshold:function(e){return e===void 0&&(e=0),zl(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return zl(rge);case!1:return zl(0);default:return zl(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:zl(e)},transform:!0},Kj=Mi({},age,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(u){return Kj.bounds(e(u))};var n=e,r=n.left,i=r===void 0?-1/0:r,s=n.right,o=s===void 0?1/0:s,a=n.top,l=a===void 0?-1/0:a,A=n.bottom,c=A===void 0?1/0:A;return[[i,o],[l,c]]}}),lge=typeof window<"u"&&window.document&&window.document.createElement,Age={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t===void 0&&(t=lge?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,i=r===void 0?!0:r,s=n.capture,o=s===void 0?!1:s;return{passive:i,capture:o}},transform:!0},cge=Mi({},Kj,{useTouch:function(e){e===void 0&&(e=!1);var n=Vj(),r=ege();return!!(e&&n||n&&!r)},experimental_preventWindowScrollY:function(e){return e===void 0&&(e=!1),e},threshold:function(e,n,r){var i=r.filterTaps,s=i===void 0?!1:i,o=r.lockDirection,a=o===void 0?!1:o,l=r.axis,A=l===void 0?void 0:l,c=zl(e,s?3:a||A?1:0);return this.filterTaps=s,c},swipeVelocity:function(e){return e===void 0&&(e=ige),zl(e)},swipeDistance:function(e){return e===void 0&&(e=sge),zl(e)},swipeDuration:function(e){return e===void 0&&(e=oge),e},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return nge;case!1:return 0;default:return e}}});function uge(t){return t===void 0&&(t={}),oT(t,Age)}function dge(t){return t===void 0&&(t={}),oT(t,cge)}function fge(t){var e=t.domTarget,n=t.eventOptions,r=t.window,i=t.enabled,s=qme(t,["domTarget","eventOptions","window","enabled"]),o=uge({domTarget:e,eventOptions:n,window:r,enabled:i});return o.drag=dge(s),o}function a0(t){return Mi({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Hj,canceled:!1,memo:void 0,args:void 0},t)}function Wj(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},e=a0({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=a0({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=a0({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=a0({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=a0({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:i,scroll:s}}var vc=new Map,hge=function(e){return e},pge=function(){function t(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(s,o){var a;o===void 0&&(o=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var l=arguments.length,A=new Array(l>2?l-2:0),c=2;c<l;c++)A[c-2]=arguments[c];i.controller.timeouts[i.stateKey]=(a=window).setTimeout.apply(a,[s,o].concat(A))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(s){if(s===void 0&&(s=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!s&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var o=i.state.active,a=i.state._active;i.state.active=a,i.state.first=a&&!o,i.state.last=o&&!a,i.controller.state.shared[i.ingKey]=a}var l=i.controller.pointerIds.size||i.controller.touchIds.size,A=i.controller.state.shared.buttons>0||l>0,c=Mi({},i.controller.state.shared,i.state,i.mapStateValues(i.state),{locked:!!document.pointerLockElement,touches:l,down:A}),u=i.handler(c);return i.state.memo=u!==void 0?u:i.state.memo,c},this.controller=n,this.args=r}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var i=this.config.rubberband,s=this.state,o=s._bounds,a=s._initial,l=s._active,A=s._intentional,c=s.lastOffset,u=s.movement,d=s._threshold,m=this.getInternalMovement(r,this.state),g=A[0]===!1?M9(m[0],d[0]):A[0],x=A[1]===!1?M9(m[1],d[1]):A[1],y=this.checkIntentionality([g,x],m);if(y._blocked)return Mi({},y,{_movement:m,delta:[0,0]});var v=y._intentional,w=m,C=[v[0]!==!1?m[0]-v[0]:0,v[1]!==!1?m[1]-v[1]:0],S=T4(C,c),M=l?i:[0,0];return C=T9(o,T4(C,a),M),Mi({},y,{intentional:v[0]!==!1||v[1]!==!1,_initial:a,_movement:w,movement:C,values:r,offset:T9(o,S,M),delta:sT(C,u)})},e.clean=function(){this.clearTimeout()},Yme(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||hge}}]),t}();function M9(t,e){return Math.abs(t)>=e?F4(t)*e:!1}function T9(t,e,n){var r=e[0],i=e[1],s=n[0],o=n[1],a=t[0],l=a[0],A=a[1],c=t[1],u=c[0],d=c[1];return[B9(r,l,A,s),B9(i,u,d,o)]}function kS(t,e,n){var r=t.state,i=e.timeStamp,s=e.type,o=r.values,a=n?0:i-r.startTime;return{_lastEventType:s,event:e,timeStamp:i,elapsedTime:a,previous:o}}function mge(t,e,n,r){var i=t.state,s=t.config,o=t.stateKey,a=t.args,l=t.transform,A=i.offset,c=n.timeStamp,u=s.initial,d=s.bounds,m=s.threshold,g=sT(l(m),l([0,0])).map(Math.abs),x=Mi({},Wj()[o],{_active:!0,args:a,values:e,initial:e,_threshold:g,offset:A,lastOffset:A,startTime:c});return Mi({},x,{_initial:_9(u,x),_bounds:_9(d,x)})}var gge=function(e){var n=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Vj(),this.supportsGestureEvents=Jme(),this.bind=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o={},a=l3(n.classes),l;!(l=a()).done;){var A=l.value;new A(n,i).addBindings(o)}var c=function(m){qo(o,m,function(g){return n.nativeRefs[m](Mi({},n.state.shared,{event:g,args:i}))})};for(var u in n.nativeRefs)c(u);return n.config.domTarget?Bge(n,o):Sge(n,o)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=$j(n.config),i=n.config.eventOptions;r&&$2(r,Xj(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),xge(n)},this.classes=e,this.state=Wj(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function vge(t,e){"pointerId"in e?t.pointerIds.add(e.pointerId):t.touchIds=new Set(Gj(e))}function yge(t,e){"pointerId"in e?t.pointerIds.delete(e.pointerId):Gj(e).forEach(function(n){return t.touchIds.delete(n)})}function xge(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(n){for(var s in i){var o=i[s];$2(n,o,r)}t.windowListeners={}}}function wge(t,e,n){var r=t.config,i=t.windowListeners;n===void 0&&(n=r.eventOptions),r.window&&($2(r.window,i[e],n),delete i[e])}function Cge(t,e,n,r){var i=t.config,s=t.windowListeners;n===void 0&&(n=[]),r===void 0&&(r=i.eventOptions),i.window&&($2(i.window,s[e],r),Yj(i.window,s[e]=n,r))}function Bge(t,e){var n=t.config,r=t.domListeners,i=$j(n);if(!i)throw new Error("domTarget must be defined");var s=n.eventOptions;$2(i,Xj(r),s);for(var o=0,a=Object.entries(e);o<a.length;o++){var l=a[o],A=l[0],c=l[1],u=A.slice(2).toLowerCase();r.push([u,jj.apply(void 0,c)])}Yj(i,r,s)}function Sge(t,e){for(var n=t.config,r={},i=n.eventOptions.capture?"Capture":"",s=0,o=Object.entries(e);s<o.length;s++){var a=o[s],l=a[0],A=a[1],c=Array.isArray(A)?A:[A],u=l+i;r[u]=jj.apply(void 0,c)}return r}function Xj(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function $j(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function qo(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function Yj(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=l3(e),i;!(i=r()).done;){var s=i.value,o=s[0],a=s[1];t.addEventListener(o,a,n)}}function $2(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=l3(e),i;!(i=r()).done;){var s=i.value,o=s[0],a=s[1];t.removeEventListener(o,a,n)}}function _ge(t,e,n){n===void 0&&(n={});var r=bge(t),i=vt.useMemo(function(){return new gge(r)},[]);return i.config=e,i.handlers=t,i.nativeRefs=n,vt.useEffect(i.effect,[]),i.config.domTarget?Ege:i.bind}function Ege(){}function bge(t){var e=new Set;return t.drag&&e.add(vc.get("drag")),t.wheel&&e.add(vc.get("wheel")),t.scroll&&e.add(vc.get("scroll")),t.move&&e.add(vc.get("move")),t.pinch&&e.add(vc.get("pinch")),t.hover&&e.add(vc.get("hover")),e}var Mge=function(t){Qj(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(i,s){return sT(i,s.initial)},n.checkIntentionality=function(i,s){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var o=s.map(Math.abs),a=o[0],l=o[1],A=this.state.axis||(a>l?"x":a<l?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:A}:A?this.config.axis&&A!==this.config.axis?{_intentional:i,_blocked:!0,axis:A}:(i[A==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:A}):{_intentional:[!1,!1],_blocked:!1,axis:A}},n.getKinematics=function(i,s){var o=this.getMovement(i);if(!o._blocked){var a=s.timeStamp-this.state.timeStamp;Object.assign(o,Kme(o.movement,o.delta,a))}return o},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},e}(pge),Tge=3;function I9(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}var Ige=function(t){Qj(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.setPointerCapture=function(i){if(!(r.config.useTouch||document.pointerLockElement)){var s=i.target,o=i.pointerId;s&&"setPointerCapture"in s&&s.setPointerCapture(o),r.updateGestureState({_dragTarget:s,_dragPointerId:o})}},r.releasePointerCapture=function(){if(!(r.config.useTouch||document.pointerLockElement)){var i=r.state,s=i._dragTarget,o=i._dragPointerId;if(o&&s&&"releasePointerCapture"in s&&(!("hasPointerCapture"in s)||s.hasPointerCapture(o)))try{s.releasePointerCapture(o)}catch{}}},r.preventScroll=function(i){r.state._dragPreventScroll&&i.cancelable&&i.preventDefault()},r.getEventId=function(i){return r.config.useTouch?i.changedTouches[0].identifier:i.pointerId},r.isValidEvent=function(i){return r.state._pointerId===r.getEventId(i)},r.shouldPreventWindowScrollY=r.config.experimental_preventWindowScrollY&&r.controller.supportsTouchEvents,r.setUpWindowScrollDetection=function(i){I9(i),Cge(r.controller,r.stateKey,[["touchmove",r.preventScroll],["touchend",r.clean.bind(Fa(r))],["touchcancel",r.clean.bind(Fa(r))]],{passive:!1}),r.setTimeout(r.startDrag.bind(Fa(r)),250,i)},r.setUpDelayedDragTrigger=function(i){r.state._dragDelayed=!0,I9(i),r.setTimeout(r.startDrag.bind(Fa(r)),r.config.delay,i)},r.setStartState=function(i){var s=b9(i,r.transform);r.updateSharedState(E9(i)),r.updateGestureState(Mi({},mge(Fa(r),s,i),kS(Fa(r),i,!0),{_pointerId:r.getEventId(i)})),r.updateGestureState(r.getMovement(s))},r.onDragStart=function(i){vge(r.controller,i),!(!r.enabled||r.state._active)&&(r.setStartState(i),r.setPointerCapture(i),r.shouldPreventWindowScrollY?r.setUpWindowScrollDetection(i):r.config.delay>0?r.setUpDelayedDragTrigger(i):r.startDrag(i,!0))},r.onDragChange=function(i){if(!(r.state.canceled||!r.state._active||!r.isValidEvent(i)||r.state._lastEventType===i.type&&i.timeStamp===r.state.timeStamp)){var s;if(document.pointerLockElement){var o=i.movementX,a=i.movementY;s=T4(r.transform([o,a]),r.state.values)}else s=b9(i,r.transform);var l=r.getKinematics(s,i);if(!r.state._dragStarted){if(r.state._dragDelayed){r.startDrag(i);return}if(r.shouldPreventWindowScrollY)if(!r.state._dragPreventScroll&&l.axis)if(l.axis==="x")r.startDrag(i);else{r.state._active=!1;return}else return;else return}var A=E9(i);r.updateSharedState(A);var c=kS(Fa(r),i),u=I4(l._movement),d=r.state._dragIsTap;d&&u>=Tge&&(d=!1),r.updateGestureState(Mi({},c,l,{_dragIsTap:d})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(yge(r.controller,i),!!r.isValidEvent(i)&&(r.clean(),!!r.state._active)){r.state._active=!1;var s=r.state._dragIsTap,o=r.state.velocities,a=o[0],l=o[1],A=r.state.movement,c=A[0],u=A[1],d=r.state._intentional,m=d[0],g=d[1],x=r.config.swipeVelocity,y=x[0],v=x[1],w=r.config.swipeDistance,C=w[0],S=w[1],M=r.config.swipeDuration,b=Mi({},kS(Fa(r),i),r.getMovement(r.state.values)),T=[0,0];b.elapsedTime<M&&(m!==!1&&Math.abs(a)>y&&Math.abs(c)>C&&(T[0]=F4(a)),g!==!1&&Math.abs(l)>v&&Math.abs(u)>S&&(T[1]=F4(l))),r.updateSharedState({buttons:0}),r.updateGestureState(Mi({},b,{tap:s,swipe:T})),r.fireGestureHandler(r.config.filterTaps&&s===!0)}},r.clean=function(){t.prototype.clean.call(Fa(r)),r.state._dragStarted=!1,r.releasePointerCapture(),wge(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0,_active:!1}),r.updateSharedState({buttons:0}),setTimeout(function(){return r.fireGestureHandler()},0))},r.onClick=function(i){r.state._dragIsTap||i.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(i,s){s===void 0&&(s=!1),!(!this.state._active||this.state._dragStarted)&&(s||this.setStartState(i),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(i){if(this.config.useTouch?(qo(i,"onTouchStart",this.onDragStart),qo(i,"onTouchMove",this.onDragChange),qo(i,"onTouchEnd",this.onDragEnd),qo(i,"onTouchCancel",this.onDragEnd)):(qo(i,"onPointerDown",this.onDragStart),qo(i,"onPointerMove",this.onDragChange),qo(i,"onPointerUp",this.onDragEnd),qo(i,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){var s=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";qo(i,s,this.onClick)}},e}(Mge);function Fge(t,e){var n,r=[],i,s=!1;function o(){for(var a=arguments.length,l=new Array(a),A=0;A<a;A++)l[A]=arguments[A];return s&&n===this&&e(l,r)||(i=t.apply(this,l),s=!0,n=this,r=l),i}return o}function mv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!mv(t[r],e[r]))return!1;return!0}var s;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!mv(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&t.$$typeof)&&!mv(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}function Uge(t,e){try{return mv(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function Lge(t,e){e===void 0&&(e={}),vc.set("drag",Ige);var n=F.useRef();return n.current||(n.current=Fge(fge,Uge)),_ge({drag:t},n.current(e))}const Rge="data:image/svg+xml,%3csvg%20width='202'%20height='48'%20viewBox='0%200%20202%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.4361%200C11.9263%200%207.45967%204.47715%207.45967%2010V26.0084C7.4157%2026.0166%207.37328%2026.0309%207.33402%2026.0509L0.215688%2029.6709C0.15011%2029.7043%200.0956539%2029.7522%200.057793%2029.81C0.019932%2029.8678%200%2029.9333%200%2030C0%2030.0667%200.019932%2030.1322%200.057793%2030.19C0.0956539%2030.2478%200.15011%2030.2957%200.215688%2030.3291L7.33402%2033.9491C7.37328%2033.9691%207.4157%2033.9834%207.45967%2033.9916V38C7.45967%2043.5228%2011.9263%2048%2017.4361%2048H192.024C197.533%2048%20202%2043.5229%20202%2038V10C202%204.47715%20197.533%200%20192.024%200H17.4361Z'%20fill='%23FFFAE6'/%3e%3c/svg%3e",Pge="data:image/svg+xml,%3csvg%20width='11'%20height='8'%20viewBox='0%200%2011%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.209717%204C0.209717%203.86207%200.268251%203.7298%200.372443%203.63227C0.476635%203.53474%200.61795%203.47995%200.765299%203.47995H8.31382L5.55813%200.900519C5.50354%200.852909%205.45976%200.795496%205.42939%200.731703C5.39903%200.667912%205.3827%200.599047%205.38138%200.52922C5.38007%200.459393%205.39379%200.390034%205.42173%200.325279C5.44968%200.260524%205.49127%200.2017%205.54402%200.152318C5.59678%200.102934%205.65962%200.0640039%205.7288%200.0378485C5.79798%200.011693%205.87208%20-0.00115108%205.94668%208.05855e-05C6.02128%200.00131226%206.09485%200.0165954%206.163%200.0450191C6.23115%200.0734429%206.29249%200.114424%206.34335%200.165518L10.0472%203.6325C10.1513%203.73001%2010.2097%203.86219%2010.2097%204C10.2097%204.13781%2010.1513%204.26999%2010.0472%204.3675L6.34335%207.83448C6.29249%207.88557%206.23115%207.92656%206.163%207.95498C6.09485%207.9834%206.02128%207.99869%205.94668%207.99992C5.87208%208.00115%205.79798%207.98831%205.7288%207.96215C5.65962%207.936%205.59678%207.89706%205.54402%207.84768C5.49127%207.7983%205.44968%207.73948%205.42173%207.67472C5.39379%207.60997%205.38007%207.54061%205.38138%207.47078C5.3827%207.40095%205.39903%207.33209%205.42939%207.2683C5.45976%207.2045%205.50354%207.14709%205.55813%207.09948L8.31382%204.52005H0.765299C0.61795%204.52005%200.476635%204.46526%200.372443%204.36773C0.268251%204.2702%200.209717%204.13792%200.209717%204Z'%20fill='%23ABABAB'/%3e%3c/svg%3e",Nge="data:image/svg+xml,%3csvg%20width='7'%20height='7'%20viewBox='0%200%207%207'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.709717%200.5L6.20972%206'%20stroke='%23323232'%20stroke-width='0.75'%20stroke-linecap='round'/%3e%3cpath%20d='M0.709717%206L6.20972%200.5'%20stroke='%23323232'%20stroke-width='0.75'%20stroke-linecap='round'/%3e%3c/svg%3e",Dge="data:image/svg+xml,%3csvg%20width='15'%20height='4'%20viewBox='0%200%2015%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.5%202C6.5%202.69036%207.05964%203.25%207.75%203.25C8.44036%203.25%209%202.69036%209%202C9%201.30964%208.44036%200.75%207.75%200.75C7.05964%200.75%206.5%201.30964%206.5%202Z'%20fill='%23323232'/%3e%3cpath%20d='M12.5%202C12.5%202.69036%2013.0596%203.25%2013.75%203.25C14.4404%203.25%2015%202.69036%2015%202C15%201.30964%2014.4404%200.75%2013.75%200.75C13.0596%200.75%2012.5%201.30964%2012.5%202Z'%20fill='%23323232'/%3e%3cpath%20d='M0.5%202C0.5%202.69036%201.05964%203.25%201.75%203.25C2.44036%203.25%203%202.69036%203%202C3%201.30964%202.44036%200.75%201.75%200.75C1.05964%200.75%200.5%201.30964%200.5%202Z'%20fill='%23323232'/%3e%3c/svg%3e",Oge="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.9375%201.4375C8.9375%201.18886%208.83873%200.950403%208.66291%200.774587C8.4871%200.598772%208.24864%200.5%208%200.5C7.75136%200.5%207.5129%200.598772%207.33709%200.774587C7.16127%200.950403%207.0625%201.18886%207.0625%201.4375V7.0625H1.4375C1.18886%207.0625%200.950403%207.16127%200.774587%207.33709C0.598772%207.5129%200.5%207.75136%200.5%208C0.5%208.24864%200.598772%208.4871%200.774587%208.66291C0.950403%208.83873%201.18886%208.9375%201.4375%208.9375H7.0625V14.5625C7.0625%2014.8111%207.16127%2015.0496%207.33709%2015.2254C7.5129%2015.4012%207.75136%2015.5%208%2015.5C8.24864%2015.5%208.4871%2015.4012%208.66291%2015.2254C8.83873%2015.0496%208.9375%2014.8111%208.9375%2014.5625V8.9375H14.5625C14.8111%208.9375%2015.0496%208.83873%2015.2254%208.66291C15.4012%208.4871%2015.5%208.24864%2015.5%208C15.5%207.75136%2015.4012%207.5129%2015.2254%207.33709C15.0496%207.16127%2014.8111%207.0625%2014.5625%207.0625H8.9375V1.4375Z'%20fill='%23323232'/%3e%3c/svg%3e",kge="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2015C11.866%2015%2015%2011.866%2015%208C15%204.13401%2011.866%201%208%201C4.13401%201%201%204.13401%201%208C1%2011.866%204.13401%2015%208%2015Z'%20fill='%23DDDDDD'/%3e%3cpath%20d='M8%2011.49V11.5M6%206.67125C6%205.74824%206.89543%205%208%205C9.10457%205%2010%205.74824%2010%206.67125C10%207.59426%209.10457%208.34251%208%208.34251C8%208.34251%207.99913%208.84134%207.99913%209.45668'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3ccircle%20cx='7.94995'%20cy='11.25'%20r='0.75'%20fill='white'/%3e%3c/svg%3e",Qge="data:image/svg+xml,%3csvg%20width='20'%20height='21'%20viewBox='0%200%2020%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%200.592285C8.02219%200.592285%206.08879%201.17877%204.4443%202.27759C2.79981%203.3764%201.51809%204.93819%200.761209%206.76545C0.00433284%208.59271%20-0.1937%2010.6034%200.192152%2012.5432C0.578004%2014.483%201.53041%2016.2648%202.92894%2017.6633C4.32746%2019.0619%206.10929%2020.0143%208.0491%2020.4001C9.98891%2020.786%2011.9996%2020.588%2013.8268%2019.8311C15.6541%2019.0742%2017.2159%2017.7925%2018.3147%2016.148C19.4135%2014.5035%2020%2012.5701%2020%2010.5923C19.9974%207.94091%2018.943%205.39887%2017.0682%203.52407C15.1934%201.64927%2012.6514%200.594868%2010%200.592285ZM14.8781%2011.5679H5.12195C4.86321%2011.5679%204.61506%2011.4651%204.4321%2011.2821C4.24913%2011.0992%204.14635%2010.851%204.14635%2010.5923C4.14635%2010.3335%204.24913%2010.0854%204.4321%209.90242C4.61506%209.71946%204.86321%209.61667%205.12195%209.61667H14.8781C15.1368%209.61667%2015.3849%209.71946%2015.5679%209.90242C15.7509%2010.0854%2015.8537%2010.3335%2015.8537%2010.5923C15.8537%2010.851%2015.7509%2011.0992%2015.5679%2011.2821C15.3849%2011.4651%2015.1368%2011.5679%2014.8781%2011.5679Z'%20fill='%23636363'/%3e%3cpath%20d='M5%2010.5923H15'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",Hge="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.4998%2010.3457V9.77473C16.4998%208.86206%2016.1048%207.98677%2015.4015%207.34141C14.6983%206.69605%2013.7445%206.3335%2012.75%206.3335C11.7555%206.3335%2010.8017%206.69605%2010.0985%207.34141C9.39523%207.98677%209.00016%208.86206%209.00016%209.77473V10.3457C8.67029%2010.3457%208.35378%2010.4653%208.11961%2010.6785C7.88544%2010.8917%207.75258%2011.1813%207.75%2011.484V17.1952C7.75258%2017.4979%207.88544%2017.7874%208.11961%2018.0006C8.35378%2018.2139%208.67029%2018.3335%209.00016%2018.3335H16.4998C16.8297%2018.3335%2017.1462%2018.2139%2017.3804%2018.0006C17.6146%2017.7874%2017.7474%2017.4979%2017.75%2017.1952V11.4864C17.7481%2011.1832%2017.6156%2010.8931%2017.3813%2010.6794C17.1471%2010.4656%2016.8302%2010.3457%2016.4998%2010.3457ZM15.2503%2010.3457H10.2497V9.77473C10.2435%209.47244%2010.3041%209.17212%2010.4277%208.89187C10.5513%208.61161%2010.7355%208.35722%2010.9691%208.14402C11.2027%207.93081%2011.4809%207.7632%2011.787%207.65127C12.0931%207.53935%2012.4206%207.48543%2012.75%207.49276C13.0794%207.48543%2013.4069%207.53935%2013.713%207.65127C14.0191%207.7632%2014.2973%207.93081%2014.5309%208.14402C14.7645%208.35722%2014.9487%208.61161%2015.0723%208.89187C15.1959%209.17212%2015.2565%209.47244%2015.2503%209.77473V10.3457Z'%20fill='%23ABABAB'/%3e%3c/svg%3e",aT=({title:t,author:e,pageNumber:n,content:r,onClick:i,selected:s,visibility:o})=>p.jsx("div",{className:"cursor-pointer  w-full h-[8rem]",onClick:i,children:p.jsxs("div",{className:`flex flex-col gap-[1.25rem] rounded-[0.875rem] bg-gray-10 shadow-custom p-5
          ${s&&" border-[1px] border-[#6B7FF0]"}`,children:[p.jsxs("div",{className:`flex ${o==="PRIVATE"?"justify-between":"text-right"} text-b2 text-gray-400`,children:[o==="PRIVATE"&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:Hge}),p.jsx("span",{className:"text-c1",children:"나만보기"})]}),p.jsxs("div",{children:[n||"페이지","p"]})]}),p.jsxs("div",{className:"flex flex-col gap-[0.5rem]",children:[p.jsx("div",{className:"text-b2 text-gray-800",children:r||"발췌 카드 위젯을 만들어보세요"}),p.jsxs("div",{className:"text-c2 text-gray-400",children:[t||"제목"," / ",e||"작가"]})]})]})}),lT=({cardId:t,cardIndex:e,selected:n,content:r,rating:i,title:s,author:o,onClick:a})=>p.jsxs("div",{className:`flex w-full flex-col px-4 py-3 bg-gray-10 shadow-custom h-[6rem] justify-between rounded-[0.75rem]  ${n&&" border-[1px] border-[#6B7FF0]"}`,onClick:a,children:[p.jsx("div",{className:"flex flex-row",children:[...Array(5)].map((l,A)=>p.jsx("div",{children:p.jsx("img",{src:A<=i?f5:d5,alt:"rating",className:""},A)},A))}),p.jsxs("div",{className:"flex flex-col gap-[0.38rem]",children:[p.jsx("p",{className:"text-b2 text-gray-800",children:r||"한줄평 카드 위젯을 만들어보세요"}),p.jsxs("p",{className:"text-c2 text-gray-400",children:[s||"제목"," / ",o||"작가"]})]})]}),yx="data:image/svg+xml,%3csvg%20width='30'%20height='31'%20viewBox='0%200%2030%2031'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2024.8984C5%2024.0696%205.32924%2023.2748%205.91529%2022.6887C6.50134%2022.1027%207.2962%2021.7734%208.125%2021.7734H25'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.125%203.02344H25V28.0234H8.125C7.2962%2028.0234%206.50134%2027.6942%205.91529%2027.1081C5.32924%2026.5221%205%2025.7272%205%2024.8984V6.14844C5%205.31964%205.32924%204.52478%205.91529%203.93873C6.50134%203.35268%207.2962%203.02344%208.125%203.02344Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qj="data:image/svg+xml,%3csvg%20width='19'%20height='20'%20viewBox='0%200%2019%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='0.0234375'%20width='19'%20height='19'%20rx='4'%20fill='white'/%3e%3cpath%20d='M15%204.71055C14.9999%204.60887%2014.9773%204.50847%2014.9338%204.41658C14.8903%204.3247%2014.8269%204.24361%2014.7482%204.17916C14.6696%204.11472%2014.5776%204.06852%2014.479%204.0439C14.3803%204.01928%2014.2775%204.01684%2014.1778%204.03677L7.30275%205.41182C7.14696%205.44297%207.00675%205.52711%206.90598%205.64994C6.80521%205.77277%206.7501%205.92672%206.75%206.0856V12.3517C6.52459%2012.2994%206.29391%2012.2731%206.0625%2012.2733C4.92331%2012.2733%204%2012.8887%204%2013.6484C4%2014.4081%204.92331%2015.0234%206.0625%2015.0234C7.20169%2015.0234%208.125%2014.4081%208.125%2013.6484V8.02442L13.625%206.92438V10.9767C13.3996%2010.9243%2013.1689%2010.898%2012.9375%2010.8983C11.7983%2010.8983%2010.875%2011.5136%2010.875%2012.2733C10.875%2013.033%2011.7983%2013.6484%2012.9375%2013.6484C14.0767%2013.6484%2015%2013.033%2015%2012.2733V4.71055Z'%20fill='%238A8A8A'/%3e%3c/svg%3e",jge="/assets/info-musicbox-CD5TAAKJ.svg",Vge="/assets/info-memobox-BhWPyfgD.svg",zge=({setBottomSheetShow:t,selected:e,setSelected:n,cardId:r,cardIndex:i,bookNumber:s=1,firstImg:o,secondImg:a,firstId:l,secondId:A,readOnly:c,setVisible:u,setEnabled:d=()=>{},setCardData:m=()=>{}})=>{const[g,x]=F.useState("BOOK_WITH_SONG"),[y,v]=F.useState(""),[w,C]=F.useState(""),[S,M]=F.useState(""),[b,T]=F.useState("");F.useEffect(()=>{let Q=!1;s===1&&(g==="BOOK_WITH_SONG"?Q=!!(o&&y&&w):Q=!!(o&&b)),s===2&&(g==="BOOK_WITH_SONG"?Q=!!(o&&a&&y&&w):Q=!!(o&&a&&b)),console.log(Q),d(Q),m({cardType:g,resourceId1:l,resourceId2:A||null,text1:g==="BOOK_WITH_SONG"?y:b,text2:g==="BOOK_WITH_SONG"?w:null,text3:g==="BOOK_WITH_SONG"?S:null})},[o,a,y,w,b,g,s,S]),F.useEffect(()=>{console.log(S)},[S]);const L=()=>{x(Q=>Q==="BOOK_WITH_SONG"?"BOOK_WITH_MEMO":"BOOK_WITH_SONG")},P=Q=>{const{name:G,value:J}=Q.target;G==="가수명"&&v(J),G==="책제목"&&M(J),G==="노래제목"&&C(J),G==="메모"&&T(J)},E=()=>{c||(n("firstBook"),t(!0))},U=()=>{c||(n("secondBook"),t(!0))},j=()=>{c||(u(!1),setTimeout(()=>{t(!1)},300),n("music"))};return p.jsxs("div",{className:"w-full relative",children:[p.jsxs("div",{className:"flex gap-2  w-full h-[6.9375rem]",children:[p.jsx("div",{onClick:E,style:e==="firstBook"?{background:"linear-gradient(0deg, rgba(107, 127, 240, 0.20) 0%, rgba(107, 127, 240, 0.20) 100%), var(--Neutral-300, #DDD)"}:{},className:`${e==="firstBook"?"border-[1px] border-[#6B7FF0]":""} flex items-center justify-center w-[5.125rem] h-full bg-gray-custom rounded-[0.375rem] shadow-custom`,children:p.jsx("div",{className:"flex justify-center items-center w-[5.0625rem] h-[6.8rem] overflow-hidden rounded-[0.4rem]",children:p.jsx("img",{src:o||yx,alt:"Book Card",className:`${o?"object-cover w-full h-full":""}`})})}),s===2&&p.jsx("div",{onClick:U,style:e==="secondBook"?{background:"linear-gradient(0deg, rgba(107, 127, 240, 0.20) 0%, rgba(107, 127, 240, 0.20) 100%), var(--Neutral-300, #DDD)"}:{},className:`${e==="secondBook"?"border-[1px] border-[#6B7FF0]":""} flex items-center justify-center w-[5.125rem] h-full bg-gray-custom rounded-[0.375rem] shadow-custom`,children:p.jsx("div",{className:"flex justify-center items-center w-[5.0625rem] h-[6.8rem] overflow-hidden rounded-[0.4rem]",children:p.jsx("img",{src:a||yx,alt:"Book Card",className:`${a?"object-cover w-full h-full":""}`})})}),p.jsx("div",{onClick:j,className:`${e==="music"?"border-[1px] border-[#6B7FF0]":""} flex-grow
            py-3 px-4 flex flex-col justify-between bg-gray-10 shadow-custom rounded-[0.75rem]`,children:g==="BOOK_WITH_SONG"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative flex flex-row justify-between",children:[p.jsx("textarea",{type:"text",value:S,name:"책제목",placeholder:"책 제목",className:`text-left text-gray-800 text-c1 bg-gray-10  ${s===1?"w-[12.4375rem]":"w-[8.8125rem]"} resize-none focus:outline-none`,maxLength:21,onChange:P}),p.jsx("img",{src:qj,alt:"Music Icon"})]}),p.jsxs("div",{className:"relative flex flex-col items-end",children:[p.jsx("input",{type:"text",value:w,name:"노래제목",placeholder:"",className:`text-b1 text-right text-gray-800 font-semibold bg-gray-10 ${s===1?"w-[14.4375rem]":"w-[8.8125rem]"}`,maxLength:20,onChange:P}),!w&&p.jsxs("div",{className:"absolute top-3 transform -translate-y-1/2 pointer-events-none flex items-center text-c1",children:[p.jsx("span",{className:"text-red text-b1 mr-[0.2rem] font-semibold",children:"*"}),p.jsx("span",{className:"text-gray-500 text-b1 font-semibold",children:"노래 제목"})]}),p.jsxs("p",{className:`flex flex-row justify-end ${s===2&&"w-[9rem]"}`,children:[p.jsx("span",{className:"text-c1 text-gray-500 mr-1",children:"by"}),p.jsx("input",{type:"text",value:y,name:"가수명",placeholder:"",className:"text-right text-c1 text-gray-500 font-semibold bg-gray-10 focus:outline-none ",maxLength:20,onChange:P,style:{width:`${Math.max(y.length*1.4,2)}ch`,minWidth:"5.2ch",maxWidth:"100%"}})]}),!y&&p.jsxs("div",{className:"absolute top-[2rem] right-0 transform -translate-y-1/2 pointer-events-none flex items-center text-c1",children:[p.jsx("span",{className:"text-red mr-[0.2rem] font-semibold",children:"*"}),p.jsx("span",{className:"text-gray-500 font-semibold",children:"가수명"})]})]})]}):p.jsx("textarea",{type:"text",value:b,name:"메모",placeholder:"자유롭게 메모해보세요! (80자)",className:"text-gray-800 text-c1 bg-gray-10 w-full h-full resize-none focus:outline-none",maxLength:80,onChange:P})})]}),e==="music"&&p.jsx("div",{className:"mt-2 mr-10 absolute right-0",onClick:L,children:g==="BOOK_WITH_SONG"?p.jsx("img",{src:jge,alt:"Music Box Icon"}):p.jsx("img",{src:Vge,alt:"Memo Box Icon"})})]})},U4=({display:t=!1,bookNumber:e=1,type:n,cardId:r,cardIndex:i,imgPath1:s,imgPath2:o,text1:a,text2:l,text3:A})=>p.jsx("div",{className:"w-full relative",children:p.jsxs("div",{className:"flex gap-2  w-full h-[6.9375rem]",children:[p.jsx("div",{className:"flex justify-center items-center w-[5.0625rem] h-[6.8rem] bg-[#DDD] overflow-hidden  rounded-[0.4rem]",children:p.jsx("img",{src:t||!s?yx:s,alt:"Book Card",className:`${s?"object-cover w-full h-full":""}`})}),(t&&e===2||o)&&p.jsx("div",{className:"flex justify-center items-center w-[5.0625rem] h-[6.8rem] bg-[#DDD] overflow-hidden rounded-[0.4rem]",children:p.jsx("img",{src:t||!o?yx:o,alt:"Book Card",className:`${o?"object-cover w-full h-full":""}`})}),p.jsx("div",{className:`flex-grow
          py-3 px-4 flex flex-col justify-between bg-gray-10 shadow-custom rounded-[0.75rem]`,children:n==="BOOK_WITH_SONG"||t?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative flex flex-row justify-between ",children:[p.jsx("span",{className:"text-c1 text-gray-500 mr-1 line-clamp-2",children:A||"책 제목"}),p.jsx("img",{src:qj,alt:"Music Icon"})]}),p.jsxs("div",{className:"relative flex flex-col items-end",children:[p.jsx("span",{className:"text-gray-500 text-b1 font-semibold line-clamp-2",children:l||"노래 제목"}),p.jsxs("span",{className:"text-right text-gray-800 text-c1 bg-gray-10 w-full line-clamp-1",children:["by ",a||"가수명"]})]})]}):p.jsx("p",{className:"text-gray-800 text-c1 bg-gray-10 w-full line-clamp-5",children:a||"메모"})})]})}),Gge=({card:t})=>{switch(t.cardType){case"EXCERPT":return p.jsx(aT,{cardId:t.cardId,cardIndex:t.cardIndex,title:t.title,author:t.author,pageNumber:t.pageNumber,content:t.excerptContent});case"ONELINE":return p.jsx(lT,{cardId:t.cardId,cardIndex:t.cardIndex,title:t.title,author:t.author,rating:t.rating,content:t.oneLineContent});default:return p.jsx(U4,{type:t.cardType,cardId:t.cardId,cardIndex:t.cardIndex,imgPath1:t.imgPath1,imgPath2:t.imgPath2,text1:t.text1,text2:t.text2,text3:t.text3})}},Kge=({cards:t,setCards:e,isEditMode:n})=>{const r=s=>{if(!s.destination)return;const o=Array.from(t),[a]=o.splice(s.source.index,1);o.splice(s.destination.index,0,a),e(o)},i=s=>{const o=t.filter(a=>a.cardId!==s);e(o)};return p.jsx(kH,{onDragEnd:r,children:p.jsx(XH,{droppableId:"list",isDropDisabled:!n,children:s=>p.jsxs("div",{...s.droppableProps,ref:s.innerRef,children:[t.map((o,a)=>p.jsx(dpe,{draggableId:`${o.cardId}`,index:a,children:(l,A)=>p.jsxs("div",{ref:l.innerRef,...l.draggableProps,...l.dragHandleProps,className:`mb-4 p-1 flex justify-center rounded-xl relative ${n?A.isDragging?"bg-[#FFFAE6]":"bg-[#EEE]":""}`,children:[n&&p.jsx("img",{src:Qge,onClick:()=>i(o.cardId),className:"z-10 absolute top-1 left-1"}),p.jsx(Gge,{card:o})]})},o.cardId)),s.placeholder]})})})},Wge="/assets/readingspace-duck-pIeWmtbC.svg",Zj=({setColor:t,setIsNavBar:e,visible:n,setVisible:r,bottomSheetShow:i,setBottomSheetShow:s,setShowDeleteModal:o=()=>{},setShowOutModal:a=()=>{},setShowFullModal:l=()=>{},setIsFloatingVisible:A,isEditMode:c,setIsEditMode:u,isAllDelete:d=!1,setIsAllDelete:m,isMine:g=!0,otherUserId:x})=>{const y=Bt(),[v,w]=F.useState(!1),[C,S]=F.useState(!1),[M,b]=F.useState([]),[T,L]=F.useState(null),[P,E]=F.useState(window.innerHeight),[U,j]=F.useState(P-350),[Q,G]=F.useState(P*.95);F.useEffect(()=>{j(P-350),G(P*.95)},[P]),F.useEffect(()=>{const ie=()=>{E(window.innerHeight)};return window.addEventListener("resize",ie),()=>{window.removeEventListener("resize",ie)}},[]);const J=async()=>{try{const ie=g?await Bs():x;L(ie);const de=await Ut(`/users/${ie}/readingspace`);b(g?de.cardList:de.cardList.filter(te=>te.visibility==="PUBLIC"))}catch(ie){console.error("리딩스페이스 조회 오류",ie)}},k=async ie=>{try{const te=await eo("/readingspace",{updatedCardList:ie});u(!1),console.log(te),console.log("편집 완료")}catch(de){console.error("편집 저장 오류",de)}},V=()=>{const ie=M.map((de,te)=>({cardId:de.cardId,cardIndex:te+1}));k(ie)};F.useEffect(()=>{g&&t(c?"bg-gray-5":"bg-gray-50")},[c]),F.useEffect(()=>{J()},[]),F.useEffect(()=>{d&&(k([]).then(()=>{b([]),console.log("전체 삭제 완료 및 UI 업데이트")}),m(!1))},[d]);const N=()=>{w(!v)},W=()=>{pe.get()<Q&&Be.start({height:Q}),s(!0)},Y=()=>{u(!0),r(!1),setTimeout(()=>{s(!1)},200)},re=()=>{o(!0)},Se=()=>{c||(r(!1),setTimeout(()=>{s(!1)},300))},Fe=()=>{M.length===7?l(!0):y("/selectcard")},ce=()=>{w(ie=>!ie),u(!0)},[{height:pe},Be]=V2e(()=>({height:U,onChange:()=>{A(pe.get()<U+50),S(pe.get()>U+50),g&&e(pe.get()<U+50)}}),[U]),Le=Lge(({movement:[,ie],memo:de=pe.get(),last:te,event:fe})=>{if(fe.preventDefault(),c)return de;if(te)Be.start({height:ie<-100?Q:U});else{const O=Math.max(U,Math.min(Q,de-ie));Be.start({height:O})}return de},{axis:"y",pointer:{touch:!0}}),oe=ie=>{if(!ie.destination)return;const de=Array.from(M),[te]=de.splice(ie.source.index,1);de.splice(ie.destination.index,0,te),b(de)};return p.jsxs("div",{style:{maxWidth:"64rem"},children:[p.jsx("div",{className:"relative z-0",children:p.jsx(kH,{onDragEnd:oe,className:"z-[-3] bg-white ",children:p.jsx(Gme.div,{style:{maxWidth:"64rem",height:pe,boxShadow:"0px 0px 10px 0px rgba(0,0,0,0.10)",overflowY:"auto",touchAction:"none"},className:` ${c?"bg-[#DDD]":"bg-white"} fixed z-40  bottom-0 left-0 right-0 mx-auto rounded-t-[1.875rem] shadow-lg cursor-pointer overflow-hidden`,children:p.jsxs("div",{className:"relative mb-10",children:[p.jsxs("div",{className:`sticky top-0 z-50  h-[4rem] ${c?"bg-[#DDD]":"bg-white"}`,children:[p.jsx("div",{className:"flex h-8 w-full py-4",...Le(),children:p.jsx("div",{className:"h-1 w-12 bg-gray-300 rounded-full mx-auto"})}),p.jsxs("div",{className:"flex flex-row items-center justify-between px-5  mb-18",children:[p.jsxs("div",{className:"flex flex-row items-center gap-1",children:[p.jsx("p",{className:"text-btn3 text-gray-800 pt-1 font-semibold",children:"리딩 스페이스"}),g&&!c&&C&&p.jsx("img",{src:kge,onClick:N}),c&&p.jsx("div",{className:"py-2 px-4 text-c1 ml-2 bg-[#E8E4D5] rounded-[6.25rem]",children:"카드를 드래그하여 이동해보세요"}),v&&p.jsxs("div",{className:"absolute top-[1rem] left-[7.5rem] w-[12.625rem] h-[3rem]",children:[p.jsx("img",{src:Rge,className:"absolute top-2 left-0 w-full h-full object-cover"}),p.jsx("img",{src:Nge,className:"absolute top-4 right-[0.6rem]",onClick:()=>w(ie=>!ie)}),p.jsx("span",{className:"absolute top-[1rem] left-[1.2rem] text-c1 text-gray-800",children:"위젯을 드래그하여 이동해보세요"}),p.jsx("button",{className:"absolute left-[1.2rem] top-[2rem] text-black ",onClick:ce,children:p.jsxs("div",{className:"flex ",children:[p.jsx("span",{className:"text-c1 underline underline-offset-2 decoration-grau-600 text-gray-600 mr-2",children:"편집하러 가기"}),p.jsx("img",{src:Pge})]})})]})]}),p.jsx("div",{className:"flex flex-row items-center gap-2 flex-nowrap",children:g&&p.jsx("div",{className:"w-[2rem] flex justify-end",onClick:W,children:p.jsx("img",{src:Dge,alt:"menu"})})})]})]}),p.jsx("div",{className:"p-4",children:p.jsx(XH,{droppableId:"droppableList",isDropDisabled:!c,children:ie=>p.jsxs("div",{...ie.droppableProps,ref:ie.innerRef,className:"flex flex-col gap-1 ",children:[M.length===0?g?p.jsxs("div",{className:"m-auto mt-[5rem] flex flex-col items-center w-[13.6875rem]",children:[p.jsx("div",{className:" text-gray-500 text-c1 mb-[0.38rem]",children:"리딩 스페이스가 텅 비어있네요!"}),p.jsx("div",{className:"text-b1 text-gray-500 font-semibold mb-4",children:"나만의 리딩 스페이스를 꾸며보세요"}),p.jsx("button",{className:"text-white text-btn2 bg-orange-300 px-4 py-2 rounded-[0.5rem]",onClick:()=>y("/selectcard"),children:"추가하기"})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center m-[4rem]",children:[p.jsx("p",{className:" text-gray-500 text-c1 mb-[2rem]",children:"리딩스페이스가 텅 비어있어요."}),p.jsx("img",{src:Wge})]}):p.jsx(Kge,{cards:M,setCards:b,isEditMode:c}),ie.placeholder]})})}),c&&pe.get()===Q&&p.jsxs("div",{className:"fixed  gap-4 w-full bottom-0 flex-row  h-[4rem] bg-[#DDD] p-4 flex justify-between items-center z-50 ",children:[p.jsx("button",{className:"w-full h-[3rem] flex items-center justify-center text-white bg-gray-400 rounded-lg",onClick:()=>a(!0),children:"나가기"}),p.jsx("button",{className:"w-full h-[3rem] flex items-center justify-center text-white bg-gray-700 rounded-lg",onClick:V,children:"저장하기"})]})]})})})}),p.jsx(Ui,{bottomSheetShow:i,setBottomSheetShow:s,visible:n,setVisible:r,style:{zIndex:100,position:"absolute"},children:p.jsxs("div",{className:"w-full rounded-t-xl pb-[3.125rem] pt-4 px-5 bg-gray-10 ",children:[p.jsxs("div",{className:"flex flex-col bg-white rounded-lg",children:[p.jsxs("div",{className:"flex items-center p-4 gap-3 text-btn2 cursor-pointer",onClick:Fe,children:[p.jsx("img",{className:"w-6 h-6",src:Oge}),"추가하기"]}),p.jsx(vs,{}),p.jsxs("div",{className:"flex items-center p-4 gap-3 text-btn2 cursor-pointer",onClick:Y,children:[p.jsx("img",{className:"w-6 h-6",src:MQ}),"편집하기"]}),p.jsx(vs,{}),p.jsxs("div",{className:"flex items-center p-4 gap-3 text-btn2 cursor-pointer",onClick:re,children:[p.jsx("img",{src:TQ}),"전체 삭제하기"]})]}),p.jsx("div",{className:"flex justify-center items-center mt-[2.5625rem] p-4 bg-white rounded-lg cursor-pointer",onClick:Se,children:"취소"})]})})]})},Jj="data:image/svg+xml,%3csvg%20width='22'%20height='36'%20viewBox='0%200%2022%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2023L14%2018L9%2013'%20stroke='%23FFECA4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",eV=({bookCount:t})=>{const e=String(t).split("");return p.jsx("div",{className:"flex gap-[0.38rem]",children:e.map((n,r)=>p.jsx("p",{className:"w-[2.25rem] h-[2.75rem] bg-orange-50 baloo text-[2rem] text-orange-300 font-bold text-center rounded-[0.5rem]",children:n},r))})},Xge=({onClick:t})=>p.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:p.jsxs("div",{className:"flex flex-col py-4 bg-white w-[330px] rounded-[20px]",children:[p.jsxs("div",{className:"flex flex-col py-3 gap-2 mb-2",children:[p.jsx("div",{className:"flex justify-center items-center text-st text-center font-semibold ",children:"리딩스페이스가 꽉 찼어요!"}),p.jsx("div",{className:"flex justify-center items-center text-center text-b1",children:"위젯은 최대 7개까지만 넣을 수 있어요."})]}),p.jsx("div",{className:"px-4",children:p.jsx("button",{className:"text-b1 font-semibold text-white bg-gray-700 p-[10px] w-full rounded-[8px]",onClick:t,children:"뒤로가기"})})]})}),$ge=async t=>await Ut(`/users/${t}`),Yge=()=>{const t=Bt(),[e,n]=F.useState(!1),[r,i]=F.useState(!1),[s,o]=F.useState("bg-gray-50"),[a,l]=F.useState(!0),[A,c]=F.useState(!1),[u,d]=F.useState(!1),[m,g]=F.useState(!1),[x,y]=F.useState(!1),[v,w]=F.useState(!1),[C,S]=F.useState(!0),[M,b]=F.useState(!1),{sseData:T}=Jx(),L=Bs(),P=_r({queryKey:["userInfo",L],queryFn:()=>$ge(L),onSuccess:G=>console.log("유저 정보 로드 성공:",G),onError:G=>console.error("유저 정보 로드 실패:",G)}),E=P.data,U=()=>{y(!1),d(!1)},j=()=>{g(!1),i(!1),setTimeout(()=>{n(!1)},200)},Q=()=>{c(!1),w(!0),i(!1),setTimeout(()=>{n(!1)},200)};return P.isLoading?p.jsx("div",{children:"로딩 중..."}):(F.useEffect(()=>{const G=(T==null?void 0:T.isCommonAlarmChecked)===!1||(T==null?void 0:T.isAnnouncementChecked)===!1;M!==G&&b(G)},[T,M]),F.useEffect(()=>{JSON.parse(localStorage.getItem("isFirstLogin"))||localStorage.setItem("isFirstLogin",JSON.stringify(!0))}),p.jsxs("div",{className:`${s} w-full relative overflow-hidden h-screen`,children:[p.jsx("div",{className:"px-4",children:p.jsx(cue,{isDot:M})}),p.jsxs("div",{className:"pl-5 mt-[1.75rem] w-full",children:[p.jsxs("div",{className:"text-t2 font-semibold text-black",children:[E==null?void 0:E.nickname,"님"]}),p.jsx("div",{className:"text-t2 font-semibold text-black mt-[0.38rem]",children:"꾸준한 독서 함께해요!"}),p.jsxs("div",{className:"flex w-full flex-row relative",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-col w-[10.625rem] h-[6rem] bg-white rounded-[0.75rem] mt-[2.69rem] pl-4 pr-5 pt-3 gap-2",style:{boxShadow:"0px 0px 3px 0px rgba(0, 0, 0, 0.10)"},children:[p.jsx("span",{className:"text-b2 text-gray-800 font-semibold",children:"현재 나의 기록수"}),p.jsxs("div",{className:"flex flex-row",children:[p.jsx(eV,{bookCount:(E==null?void 0:E.bookCount)||0}),p.jsx("div",{className:"ml-[0.62rem] self-end text-b2 text-gray-500 font-semibold",children:"개"})]})]}),p.jsx("button",{className:"w-[10.5625rem]",onClick:()=>t(`/statistics/${L}`),children:p.jsxs("div",{className:"flex justify-center items-center gap-[0.38rem] w-[10.625rem] h-[2.625rem] bg-white rounded-[0.625rem] mt-[0.81rem]",style:{boxShadow:"0px 0px 3px 0px rgba(0, 0, 0, 0.10)"},children:[p.jsx("span",{className:"text-b2 text-gray-800 font-semibold",children:"독서 리포트 보러가기"}),p.jsx("img",{src:Jj,alt:"arrow"})]})})]}),p.jsx("div",{className:"absolute left-40 top-10 w-[12.6875rem] h-[12.9375rem]",children:p.jsx(Mu,{userId:L})})]}),p.jsx(Zj,{setColor:o,setIsNavBar:l,setShowDeleteModal:c,setShowOutModal:d,setShowFullModal:g,isEditMode:x,setIsEditMode:y,isAllDelete:v,visible:r,setVisible:i,bottomSheetShow:e,setBottomSheetShow:n,setIsAllDelete:w,setIsFloatingVisible:S}),C&&p.jsx("div",{className:"absolute right-0  bottom-24 z-50",children:p.jsx(Q2,{text:!JSON.parse(localStorage.getItem("isFirstLogin")),handleNavigate:()=>t("/selectbook")})})]}),a&&p.jsx(qf,{}),A&&p.jsx(Vp,{title:"정말 삭제하시겠어요?",content:"카드들이 모두 삭제되며 복구할 수 없어요.",leftBtnText:"삭제",rightBtnText:"취소",onLeftClick:Q,onRightClick:()=>c(!1)}),u&&p.jsx(Vp,{title:`편집된 사항을
저장하지 않고 나갈까요?`,leftBtnText:"나가기",rightBtnText:"계속하기",onLeftClick:U,onRightClick:()=>d(!1)}),m&&p.jsx(Xge,{onClick:j})]}))},qge=()=>p.jsxs("div",{className:"w-full max-w-[64rem]",children:[p.jsx(nr,{title:"책 등록하기"}),p.jsx(wQ,{})]}),Zge=()=>{const t=Bt();return p.jsxs("div",{className:"w-full",children:[p.jsx(nr,{title:"위젯 선택"}),p.jsxs("div",{className:"flex flex-col gap-[0.38rem] pt-[1.44rem] px-5 pb-[2.19rem]",children:[p.jsx("p",{className:"text-st text-black",children:"추가할 위젯 유형을 선택해주세요"}),p.jsx("p",{className:"text-b2 text-gray-500",children:"음악은 자유롭게 메모할 수 있는 빈 카드로 바꿀 수 있어요"})]}),p.jsxs("div",{className:"flex flex-col gap-5 px-5",children:[p.jsx("div",{onClick:()=>t("/selectcard/custom",{state:{bookNumber:1}}),children:p.jsx(U4,{display:!0})}),p.jsx("div",{onClick:()=>t("/selectcard/custom",{state:{bookNumber:2}}),children:p.jsx(U4,{display:!0,bookNumber:2})}),p.jsx(aT,{onClick:()=>t("/selectcard/extract")}),p.jsx(lT,{onClick:()=>t("/selectcard/review")})]})]})},xx=({isMe:t="default",bookData:e})=>{const n=["읽고 싶어요","읽고 있어요","다 읽었어요","중단했어요"],[r,i]=F.useState("읽고 싶어요"),[s,o]=F.useState(!1),[a,l]=F.useState(!1),[A,c]=F.useState(!0),u=()=>{o(!0)},d=x=>{i(x)},m=()=>{},g=t==="default"?e==null?void 0:e.bookInfoBasicDto:e;return console.log(g),p.jsxs("div",{className:"flex gap-4 w-full",children:[p.jsx("img",{className:"w-[7rem] h-[9.75rem] rounded bg-cover bg-no-repeat shadow-custom",src:g!=null&&g.imgPath?g==null?void 0:g.imgPath:ds,alt:"Cover"}),p.jsxs("div",{className:"flex flex-col justify-between py-2 w-full",children:[p.jsxs("div",{className:`flex flex-col ${t==="other"?"justify-center":""}  gap-1`,children:[p.jsx("div",{className:"text-t2 font-semibold",children:g==null?void 0:g.title}),p.jsx("div",{className:"text-b1 h-6",children:g==null?void 0:g.author})]}),p.jsx("div",{className:"flex flex-col mt-1 justify-between h-full",children:t==="other"?p.jsx("div",{className:"text-b2 text-orange-400",children:"유저닉네임님이 등록한 책"}):p.jsxs("div",{className:`flex flex-col ${t==="other"?"":"justify-between h-full"}  `,children:[t==="default"?p.jsx(p.Fragment,{}):p.jsx("div",{className:"text-b2 text-orange-400",children:"내가 등록한 책"}),p.jsxs("div",{className:"flex py-1.5 text-b2 text-gray-500 ",onClick:u,children:[r,p.jsx("img",{src:Aw})]}),s&&p.jsxs(Ui,{bottomSheetShow:s,setBottomSheetShow:o,visible:a,setVisible:l,children:[" ",p.jsx("div",{className:"px-4",children:p.jsx(cw,{title:"책 상태",options:n,currentOption:r,handleOption:d,isCancel:A,handlePutCancel:m})})]})]})})]})]})},Jge="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%3e%3cpath%20d='M15%2023L21%2017L15%2011'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",e1e=({bookData:t})=>{const[e,n]=F.useState(!1),[r,i]=F.useState(!1),s=F.useRef(null),o=t==null?void 0:t.description;F.useEffect(()=>{s.current&&i(s.current.scrollHeight>s.current.clientHeight)},[o]);const a=()=>{n(l=>!l)};return p.jsxs("div",{className:"flex flex-col px-4 gap-6 text-b1 font-semibold",children:["기본정보",p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex text-b2 text-gray-400 font-regular gap-4 w-[11.3125rem]",children:["카테고리",p.jsx("div",{className:"text-black",children:t==null?void 0:t.koreanGenreName})]}),p.jsxs("div",{className:"flex text-b2 text-gray-400 font-regular gap-4 w-[11.3125rem]",children:["출판사",p.jsx("div",{className:"text-black",children:t==null?void 0:t.publisher})]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex text-b2 text-gray-400 font-regular gap-4 w-[11.3125rem]",children:["페이지",p.jsxs("div",{className:"text-black",children:[t==null?void 0:t.pageCount,"p"]})]}),p.jsxs("div",{className:"flex text-b2 text-gray-400 font-regular gap-4 w-[11.3125rem]",children:["출간일",p.jsx("div",{className:"text-black",children:t==null?void 0:t.publishedDate})]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{ref:s,className:`relative text-b2 font-regular overflow-hidden transition-all cursor-pointer ${e?"max-h-full":"max-h-24"}`,onClick:a,dangerouslySetInnerHTML:{__html:o}}),r&&p.jsx("span",{className:`px-2 w-[5.5rem] cursor-pointer ${e?"text-blue-400":"absolute bottom-0 right-0 flex justify-end text-gray-400 bg-white-gradiation"}`,onClick:a,children:e?"접기":"더보기"})]})]})]})},t1e="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.35226%205.06488L7.5077%205.15117C9.30495%206.14889%2011.5695%205.33306%2012.3176%203.41838C12.47%203.02836%2013.0353%203.07133%2013.1269%203.47991L15.3043%2013.1843C15.6261%2014.6185%2014.9785%2016.0953%2013.7056%2016.8302C12.4327%2017.5651%2010.8299%2017.3875%209.74874%2016.3918L2.43318%209.65395C2.12517%209.37027%202.3706%208.85923%202.78456%208.92228C4.81675%209.23179%206.65557%207.67851%206.69015%205.62318L6.69314%205.44542C6.69877%205.11044%207.05934%204.90227%207.35226%205.06488Z'%20fill='%23EEEEEE'%20stroke='%23EEEEEE'%20stroke-width='2'/%3e%3c/svg%3e",n1e="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info/Star'%3e%3cpath%20id='Vector%203'%20d='M7.35226%205.06488L7.5077%205.15117C9.30495%206.14889%2011.5695%205.33306%2012.3176%203.41838C12.47%203.02836%2013.0353%203.07133%2013.1269%203.47991L15.3043%2013.1843C15.6261%2014.6185%2014.9785%2016.0953%2013.7056%2016.8302C12.4327%2017.5651%2010.8299%2017.3875%209.74874%2016.3918L2.43318%209.65395C2.12517%209.37027%202.3706%208.85923%202.78456%208.92228C4.81675%209.23179%206.65557%207.67851%206.69015%205.62318L6.69314%205.44542C6.69877%205.11044%207.05934%204.90227%207.35226%205.06488Z'%20fill='%23FFBF68'%20stroke='%23FFBF68'%20stroke-width='2'/%3e%3c/g%3e%3c/svg%3e",r1e="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info/Star'%3e%3cpath%20id='Vector%203'%20d='M7.35226%205.06488L7.5077%205.15117C9.30495%206.14889%2011.5695%205.33306%2012.3176%203.41838C12.47%203.02836%2013.0353%203.07133%2013.1269%203.47991L15.3043%2013.1843C15.6261%2014.6185%2014.9785%2016.0953%2013.7056%2016.8302C12.4327%2017.5651%2010.8299%2017.3875%209.74874%2016.3918L2.43318%209.65395C2.12517%209.37027%202.3706%208.85923%202.78456%208.92228C4.81675%209.23179%206.65557%207.67851%206.69015%205.62318L6.69314%205.44542C6.69877%205.11044%207.05934%204.90227%207.35226%205.06488Z'%20fill='%23EEEEEE'%20stroke='%23EEEEEE'%20stroke-width='2'/%3e%3cmask%20id='mask0_4163_37705'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='-1'%20y='3'%20width='16'%20height='19'%3e%3crect%20id='Rectangle%201852'%20x='-0.333984'%20y='7.62915'%20width='7.90788'%20height='16.4901'%20transform='rotate(-30%20-0.333984%207.62915)'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_4163_37705)'%3e%3cpath%20id='Vector%204'%20d='M7.35226%205.06488L7.5077%205.15117C9.30495%206.14889%2011.5695%205.33306%2012.3176%203.41838C12.47%203.02836%2013.0353%203.07133%2013.1269%203.47991L15.3043%2013.1843C15.6261%2014.6185%2014.9785%2016.0953%2013.7056%2016.8302C12.4327%2017.5651%2010.8299%2017.3875%209.74874%2016.3918L2.43318%209.65395C2.12517%209.37027%202.3706%208.85923%202.78456%208.92228C4.81675%209.23179%206.65557%207.67851%206.69015%205.62318L6.69314%205.44542C6.69877%205.11044%207.05934%204.90227%207.35226%205.06488Z'%20fill='%23FFBF68'%20stroke='%23FFBF68'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",i1e="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='heart'%3e%3cpath%20id='Vector'%20d='M17.0485%203.82611C16.6413%203.40569%2016.1577%203.07219%2015.6256%202.84465C15.0934%202.61711%2014.523%202.5%2013.9469%202.5C13.3708%202.5%2012.8004%202.61711%2012.2682%202.84465C11.736%203.07219%2011.2525%203.40569%2010.8453%203.82611L10.0001%204.69821L9.15494%203.82611C8.33234%202.9773%207.21666%202.50044%206.05333%202.50044C4.89%202.50044%203.77432%202.9773%202.95172%203.82611C2.12912%204.67492%201.66699%205.82616%201.66699%207.02656C1.66699%208.22696%202.12912%209.37819%202.95172%2010.227L3.79689%2011.0991L9.282%2016.759C9.67491%2017.1644%2010.3253%2017.1644%2010.7182%2016.759L16.2033%2011.0991L17.0485%2010.227C17.4559%209.80679%2017.7791%209.30785%2017.9996%208.75871C18.2202%208.20957%2018.3337%207.62097%2018.3337%207.02656C18.3337%206.43214%2018.2202%205.84355%2017.9996%205.2944C17.7791%204.74526%2017.4559%204.24633%2017.0485%203.82611Z'%20fill='%23EEEEEE'%20stroke='%23EEEEEE'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",s1e="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='heart'%3e%3cpath%20id='Vector'%20d='M17.0485%203.82611C16.6413%203.40569%2016.1577%203.07219%2015.6256%202.84465C15.0934%202.61711%2014.523%202.5%2013.9469%202.5C13.3708%202.5%2012.8004%202.61711%2012.2682%202.84465C11.736%203.07219%2011.2525%203.40569%2010.8453%203.82611L10.0001%204.69821L9.15494%203.82611C8.33234%202.9773%207.21666%202.50044%206.05333%202.50044C4.89%202.50044%203.77432%202.9773%202.95172%203.82611C2.12912%204.67492%201.66699%205.82616%201.66699%207.02656C1.66699%208.22696%202.12912%209.37819%202.95172%2010.227L3.79689%2011.0991L9.282%2016.759C9.67491%2017.1644%2010.3253%2017.1644%2010.7182%2016.759L16.2033%2011.0991L17.0485%2010.227C17.4559%209.80679%2017.7791%209.30785%2017.9996%208.75871C18.2202%208.20957%2018.3337%207.62097%2018.3337%207.02656C18.3337%206.43214%2018.2202%205.84355%2017.9996%205.2944C17.7791%204.74526%2017.4559%204.24633%2017.0485%203.82611Z'%20fill='%23323232'%20stroke='%23323232'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",o1e=async({bookinfoId:t})=>{try{const e=await Ut(`/bookinfo/${t}`);return console.log("책정보 조회 성공: ",e),e}catch(e){throw console.error("책정보 조회 실패: ",e),e}},a1e=async({providerId:t})=>{try{const e=await Ut(`/bookinfo/external/${t}`);return console.log("책정보 조회 성공: ",e),e}catch(e){throw console.error("책정보 조회 실패: ",e),e}},l1e=async({bookinfoId:t})=>{try{const e=await Ut(`/bookinfo/custom/${t}`);return console.log("책정보 조회 성공: ",e),e}catch(e){throw console.error("책정보 조회 실패: ",e),e}},A1e=async({bookinfoId:t,orderBy:e,page:n,size:r})=>{try{const i=new URLSearchParams;e&&i.append("orderBy",e),n&&i.append("page",n),r&&i.append("size",r);const s=`/bookinfo/${t}/onelineratings${i.toString()?`?${i}`:""}`,o=await Ut(s);return console.log("한줄평 목록 조회 성공: ",o),o}catch(i){throw console.error("한줄평 목록 조회 실패: ",i),i}},c1e=async(t,e)=>{const n=`books/${t}/rating`,r={rating:e};try{const i=await eo(n,r);return console.log("별점 등록 성공: ",i),i==null?void 0:i.data}catch(i){throw console.error("별점 등록 실패:",i),i}},u1e=async t=>{const e=`books/${t}/rating`;try{const n=await io(e);console.log("별점 삭제 성공: ",n)}catch(n){throw console.error("별점 삭제 실패: ",n),n}},d1e=async(t,e)=>{const n="onelines",r={oneLineContent:e,userBookId:t};try{const i=await Fi(n,r);return console.log("한줄평 등록 성공: ",i),i==null?void 0:i.data}catch(i){throw console.error("한줄평 등록 실패:",i),i}},f1e=async(t,e)=>{const n=`onelines/${t}`,r={oneLineContent:e};try{const i=await i5(n,r);return console.log("한줄평 수정 성공: ",i),i==null?void 0:i.data}catch(i){throw console.error("한줄평 수정 실패:",i),i}},h1e=async t=>{const e=`onelines/${t}`;try{const n=await io(e);console.log("한줄평 삭제 성공: ",n)}catch(n){throw console.error("한줄평 삭제 실패: ",n),n}},p1e=async t=>{const e=`onelines/${t}/like`;try{const n=await Fi(e);return console.log("한줄평 좋아요 성공: ",n),n}catch(n){throw console.error("한줄평 좋아요 실패:",n),n}},m1e=async t=>{const e=`onelines/${t}/like`;try{const n=await io(e);console.log("한줄평 좋아요 삭제 성공: ",n)}catch(n){throw console.error("한줄평 좋아요 삭제 실패: ",n),n}},g1e=async({bookinfoId:t})=>{try{const e=await Ut(`/bookinfo/${t}/archives/users/me`);return console.log("나의 기록 조회 성공: ",e),e}catch(e){throw console.error("나의 기록 조회 실패: ",e),e}},v1e=async({bookinfoId:t})=>{try{const e=await Ut(`/bookinfo/${t}/explore`);return console.log("추천도서 조회 성공: ",e),e}catch(e){throw console.error("추천도서 조회 실패: ",e),e}},tV=({data:t})=>{const e=Bt(),n=t==null?void 0:t.createdTime.split("T")[0].replace(/-/g,"."),[r,i]=F.useState((t==null?void 0:t.isLiked)||!1),[s,o]=F.useState((t==null?void 0:t.oneLineLikeCount)||0),a=Bs(),l=async c=>{try{r?(i(!1),o(s-1),await m1e(c)):(i(!0),o(s+1),await p1e(c))}catch(u){console.error("좋아요 처리 실패:",u)}},A=c=>{e(`/user/${c}`)};return p.jsxs("div",{className:"flex flex-col p-4 gap-1.5 text-b2 w-[24.5625rem]",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("div",{className:"flex gap-0.5",children:Array.from({length:5},(c,u)=>{let d=t1e;return(t==null?void 0:t.rating)>u&&(d=(t==null?void 0:t.rating)>=u+1?n1e:r1e),p.jsx("img",{src:d,alt:"star"},u)})}),t==null?void 0:t.oneLineContent]}),p.jsxs("div",{className:"flex justify-between items-center text-btn4 text-gray-500",children:[p.jsxs("div",{className:"flex gap-2.5",children:[a===t.userId?p.jsx("span",{className:"text-orange-400",children:"나의 한줄평"}):p.jsx("span",{className:" underline cursor-pointer",onClick:()=>A(t==null?void 0:t.userId),children:t==null?void 0:t.userNickname}),p.jsx("span",{children:n})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("img",{src:r?s1e:i1e,onClick:()=>l(t.oneLineId)}),p.jsx("span",{className:"text-right text-btn4 text-gray-800 w-5",children:s})]})]})]})},nV=({bookData:t,ratingData:e})=>{const{bookinfoId:n}=ma(),r=(e==null?void 0:e.oneLineRatingList)||[],i=Bt(),s=()=>{i("/info/book/comment",{state:{ratingList:r}})},[o,a]=F.useState([]);F.useEffect(()=>{(async()=>{try{const c=await v1e({bookinfoId:n});console.log("조회 성공: ",c==null?void 0:c.bookList),a((c==null?void 0:c.bookList)||[])}catch(c){console.error("오류 발생: ",c)}})()},[n]);const l=r.slice(0,3);return p.jsxs("div",{className:"flex flex-col pb-[8rem] gap-5",children:[p.jsx(e1e,{bookData:t}),p.jsx(QE,{}),(r==null?void 0:r.length)>0&&p.jsxs("div",{className:"flex flex-col items-center gap-1",children:[p.jsxs("div",{className:"flex px-4 text-b1 font-semibold justify-between items-center w-full",children:["한줄평 (",r==null?void 0:r.length,")",p.jsx("img",{className:"cursor-pointer",src:Jge,onClick:s,alt:"right"})]}),l.map((A,c)=>p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(tV,{data:A}),p.jsx("div",{className:"w-[22.5625rem]",children:p.jsx(vs,{})})]},c))]}),p.jsx(QE,{}),(o==null?void 0:o.length)>0&&p.jsxs("div",{className:"flex flex-col px-4 gap-6 text-b1 font-semibold",children:["이 책을 읽은 사용자들이 읽은 다른 책",p.jsx("div",{className:"flex gap-3 overflow-x-scroll w-full",children:o.map((A,c)=>p.jsxs("div",{className:"flex flex-col gap-2",style:{width:"6.5rem",minWidth:"6.5rem"},children:[p.jsx("img",{className:"w-[6.5rem] h-[9.75rem] rounded-[0.25rem]",src:A.imgPath,alt:`book-cover-${c}`}),A.title]},c))})]})]})},rV=({bookinfoId:t})=>{const[e,n]=F.useState(null);return F.useEffect(()=>{(async()=>{try{const i=await g1e({bookinfoId:t});console.log("조회 성공: ",i),n(i.userBookArchiveList)}catch(i){console.error("오류 발생: ",i)}})()},[]),p.jsx("div",{className:"flex flex-col justify-center items-center",children:(e==null?void 0:e.length)>0?p.jsx("div",{className:"flex flex-col gap-4",children:e.map((r,i)=>{const{type:s,data:o}=r;if(s==="REVIEW")return p.jsx(k2,{reviewData:o},i);if(s==="EXCERPT")return p.jsx(hM,{excerptData:o},i)})}):p.jsxs("div",{className:"flex justify-center mt-[3.25rem] text-b2 text-gray-400",children:["아직 작성된 독서기록이 없어요. ",p.jsx("br",{}),"‘독서 기록하기’ 버튼을 눌러 책 구절을 ",p.jsx("br",{}),"발췌하거나 감상평을 기록해 보세요!"]})})},F9="data:image/svg+xml,%3csvg%20width='49'%20height='48'%20viewBox='0%200%2049%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info/Star'%3e%3cpath%20id='Vector%203'%20d='M30.2993%2010.0222L31.0593%208.07709C31.5381%206.85164%2033.3142%206.98665%2033.6022%208.27039L38.5544%2030.3423C39.3205%2033.7566%2037.7788%2037.2727%2034.7484%2039.0223C31.7179%2040.7719%2027.9021%2040.3491%2025.3282%2037.9785L8.68953%2022.6537C7.7218%2021.7624%208.49292%2020.1568%209.79357%2020.3548L11.8581%2020.6693C15.0506%2021.1555%2017.9394%2018.7153%2017.9937%2015.4865L18.046%2012.3796C18.0629%2011.3731%2019.1462%2010.7477%2020.0263%2011.2362L22.7431%2012.7444C25.5665%2014.3118%2029.1242%2013.0302%2030.2993%2010.0222Z'%20fill='%23EEEEEE'%20stroke='%23EEEEEE'%20stroke-width='1.33333'/%3e%3c/g%3e%3c/svg%3e",U9="data:image/svg+xml,%3csvg%20width='49'%20height='48'%20viewBox='0%200%2049%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info/Star'%3e%3cpath%20id='Vector%204'%20d='M30.2993%2010.0222L31.0593%208.07709C31.5381%206.85164%2033.3142%206.98665%2033.6022%208.27039L38.5544%2030.3423C39.3205%2033.7566%2037.7788%2037.2727%2034.7484%2039.0223C31.7179%2040.7719%2027.9021%2040.3491%2025.3282%2037.9785L8.68953%2022.6537C7.7218%2021.7624%208.49292%2020.1568%209.79357%2020.3548L11.8581%2020.6693C15.0506%2021.1555%2017.9394%2018.7153%2017.9937%2015.4865L18.046%2012.3796C18.0629%2011.3731%2019.1462%2010.7477%2020.0263%2011.2362L22.7431%2012.7444C25.5665%2014.3118%2029.1242%2013.0302%2030.2993%2010.0222Z'%20fill='%23FFBF68'%20stroke='%23FFBF68'%20stroke-width='1.33333'/%3e%3c/g%3e%3c/svg%3e",L9="data:image/svg+xml,%3csvg%20width='49'%20height='48'%20viewBox='0%200%2049%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info/Star'%3e%3cpath%20id='Vector%205'%20d='M30.2993%2010.0222L31.0593%208.07709C31.5381%206.85164%2033.3142%206.98665%2033.6022%208.27039L38.5544%2030.3423C39.3205%2033.7566%2037.7788%2037.2727%2034.7484%2039.0223C31.7179%2040.7719%2027.9021%2040.3491%2025.3282%2037.9785L8.68953%2022.6537C7.7218%2021.7624%208.49292%2020.1568%209.79357%2020.3548L11.8581%2020.6693C15.0506%2021.1555%2017.9394%2018.7153%2017.9937%2015.4865L18.046%2012.3796C18.0629%2011.3731%2019.1462%2010.7477%2020.0263%2011.2362L22.7431%2012.7444C25.5665%2014.3118%2029.1242%2013.0302%2030.2993%2010.0222Z'%20fill='%23EEEEEE'%20stroke='%23EEEEEE'%20stroke-width='1.33333'/%3e%3cmask%20id='mask0_4607_19577'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='4'%20y='9'%20width='32'%20height='40'%3e%3crect%20id='Rectangle%201852'%20x='4.05957'%20y='17.5234'%20width='16'%20height='35.4423'%20transform='rotate(-30%204.05957%2017.5234)'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_4607_19577)'%3e%3cpath%20id='Vector%204'%20d='M30.2993%2010.0222L31.0593%208.07709C31.5381%206.85164%2033.3142%206.98665%2033.6022%208.27039L38.5544%2030.3423C39.3205%2033.7566%2037.7788%2037.2727%2034.7484%2039.0223C31.7179%2040.7719%2027.9021%2040.3491%2025.3282%2037.9785L8.68953%2022.6537C7.7218%2021.7624%208.49292%2020.1568%209.79357%2020.3548L11.8581%2020.6693C15.0506%2021.1555%2017.9394%2018.7153%2017.9937%2015.4865L18.046%2012.3796C18.0629%2011.3731%2019.1462%2010.7477%2020.0263%2011.2362L22.7431%2012.7444C25.5665%2014.3118%2029.1242%2013.0302%2030.2993%2010.0222Z'%20fill='%23FFBF68'%20stroke='%23FFBF68'%20stroke-width='1.33333'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",y1e="data:image/svg+xml,%3csvg%20width='11'%20height='22'%20viewBox='0%200%2011%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.62989%207.43564C2.62989%207.71287%202.78271%207.85149%203.08835%207.85149C3.72509%207.85149%204.23766%207.9901%204.62607%208.26733C5.01449%208.55116%205.20869%209.05281%205.20869%209.77228C5.20869%2010.4323%204.98902%2010.967%204.54967%2011.3762C4.10395%2011.7921%203.57227%2012%202.95463%2012C2.3943%2012%201.93266%2011.8647%201.56972%2011.5941C1.20678%2011.33%200.93935%2010.9736%200.767431%2010.5248C0.589144%2010.0759%200.5%209.58416%200.5%209.0495C0.5%208.29703%200.636899%207.58746%200.910697%206.92079C1.17813%206.25413%201.56336%205.67327%202.06638%205.17822C2.5694%204.68317%203.17431%204.31683%203.88109%204.07921C4.03391%204.0264%204.18036%204%204.32044%204C4.5624%204%204.76616%204.08251%204.93171%204.24752C5.09089%204.41254%205.17049%204.62046%205.17049%204.87129C5.17049%205.13531%205.08134%205.32673%204.90306%205.44554C4.72477%205.56436%204.53693%205.66997%204.33954%205.76238C4.12942%205.86139%203.89064%205.9868%203.62321%206.13861C3.35578%206.29703%203.12337%206.48185%202.92598%206.69307C2.72859%206.91089%202.62989%207.15842%202.62989%207.43564ZM7.9212%207.43564C7.9212%207.71287%208.07402%207.85149%208.37966%207.85149C9.0164%207.85149%209.52897%207.9901%209.91738%208.26733C10.3058%208.55116%2010.5%209.05281%2010.5%209.77228C10.5%2010.4323%2010.2803%2010.967%209.84097%2011.3762C9.39526%2011.7921%208.86358%2012%208.24594%2012C7.68561%2012%207.22397%2011.8647%206.86103%2011.5941C6.49809%2011.33%206.23066%2010.9736%206.05874%2010.5248C5.88045%2010.0759%205.79131%209.58416%205.79131%209.0495C5.79131%208.29703%205.92821%207.58746%206.20201%206.92079C6.46944%206.25413%206.85466%205.67327%207.35769%205.17822C7.86071%204.68317%208.46562%204.31683%209.1724%204.07921C9.32521%204.0264%209.47167%204%209.61175%204C9.85371%204%2010.0575%204.08251%2010.223%204.24752C10.3822%204.41254%2010.4618%204.62046%2010.4618%204.87129C10.4618%205.13531%2010.3727%205.32673%2010.1944%205.44554C10.0161%205.56436%209.82824%205.66997%209.63085%205.76238C9.42073%205.86139%209.18195%205.9868%208.91452%206.13861C8.64709%206.29703%208.41468%206.48185%208.21729%206.69307C8.0199%206.91089%207.9212%207.15842%207.9212%207.43564Z'%20fill='%23ABABAB'/%3e%3c/svg%3e",x1e="data:image/svg+xml,%3csvg%20width='11'%20height='22'%20viewBox='0%200%2011%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.37011%208.56436C8.37011%208.28713%208.21729%208.14851%207.91165%208.14851C7.27491%208.14851%206.76234%208.0099%206.37393%207.73267C5.98551%207.44884%205.79131%206.94719%205.79131%206.22772C5.79131%205.56766%206.01098%205.033%206.45033%204.62376C6.89605%204.20792%207.42773%204%208.04537%204C8.6057%204%209.06734%204.13531%209.43028%204.40594C9.79322%204.66997%2010.0606%205.0264%2010.2326%205.47525C10.4109%205.92409%2010.5%206.41584%2010.5%206.9505C10.5%207.70297%2010.3631%208.41254%2010.0893%209.07921C9.82187%209.74587%209.43664%2010.3267%208.93362%2010.8218C8.4306%2011.3168%207.82569%2011.6832%207.11891%2011.9208C6.96609%2011.9736%206.81964%2012%206.67956%2012C6.4376%2012%206.23384%2011.9175%206.06829%2011.7525C5.90911%2011.5875%205.82951%2011.3795%205.82951%2011.1287C5.82951%2010.8647%205.91866%2010.6733%206.09694%2010.5545C6.27523%2010.4356%206.46307%2010.33%206.66046%2010.2376C6.87058%2010.1386%207.10936%2010.0132%207.37679%209.86139C7.64422%209.70297%207.87663%209.51815%208.07402%209.30693C8.27141%209.08911%208.37011%208.84158%208.37011%208.56436ZM3.0788%208.56436C3.0788%208.28713%202.92598%208.14851%202.62034%208.14851C1.9836%208.14851%201.47103%208.0099%201.08262%207.73267C0.694206%207.44884%200.5%206.94719%200.5%206.22772C0.5%205.56766%200.719675%205.033%201.15903%204.62376C1.60474%204.20792%202.13642%204%202.75406%204C3.31439%204%203.77603%204.13531%204.13897%204.40594C4.50191%204.66997%204.76934%205.0264%204.94126%205.47525C5.11955%205.92409%205.20869%206.41584%205.20869%206.9505C5.20869%207.70297%205.07179%208.41254%204.79799%209.07921C4.53056%209.74587%204.14534%2010.3267%203.64231%2010.8218C3.13929%2011.3168%202.53438%2011.6832%201.8276%2011.9208C1.67479%2011.9736%201.52833%2012%201.38825%2012C1.14629%2012%200.942534%2011.9175%200.776982%2011.7525C0.617797%2011.5875%200.538204%2011.3795%200.538204%2011.1287C0.538204%2010.8647%200.627348%2010.6733%200.805635%2010.5545C0.983922%2010.4356%201.17176%2010.33%201.36915%2010.2376C1.57927%2010.1386%201.81805%2010.0132%202.08548%209.86139C2.35291%209.70297%202.58532%209.51815%202.78271%209.30693C2.9801%209.08911%203.0788%208.84158%203.0788%208.56436Z'%20fill='%23ABABAB'/%3e%3c/svg%3e",w1e="data:image/svg+xml,%3csvg%20width='15'%20height='3'%20viewBox='0%200%2015%203'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group'%3e%3cpath%20id='Vector'%20d='M6.5%201.25C6.5%201.94036%207.05964%202.5%207.75%202.5C8.44036%202.5%209%201.94036%209%201.25C9%200.559644%208.44036%200%207.75%200C7.05964%200%206.5%200.559644%206.5%201.25Z'%20fill='%23323232'/%3e%3cpath%20id='Vector_2'%20d='M12.5%201.25C12.5%201.94036%2013.0596%202.5%2013.75%202.5C14.4404%202.5%2015%201.94036%2015%201.25C15%200.559644%2014.4404%200%2013.75%200C13.0596%200%2012.5%200.559644%2012.5%201.25Z'%20fill='%23323232'/%3e%3cpath%20id='Vector_3'%20d='M0.5%201.25C0.5%201.94036%201.05964%202.5%201.75%202.5C2.44036%202.5%203%201.94036%203%201.25C3%200.559644%202.44036%200%201.75%200C1.05964%200%200.5%200.559644%200.5%201.25Z'%20fill='%23323232'/%3e%3c/g%3e%3c/svg%3e",AT=({bookData:t})=>{const e=t==null?void 0:t.bookInfoBasicDto,[n,r]=F.useState(!1),[i,s]=F.useState(!1),[o,a]=F.useState(!1),[l,A]=F.useState(!1),[c,u]=F.useState(!1),[d,m]=F.useState(!1),[g,x]=F.useState((t==null?void 0:t.myOneLine)||""),[y,v]=F.useState((t==null?void 0:t.myOneLine)||""),[w,C]=F.useState(0);F.useEffect(()=>{e!=null&&e.myRating&&C(e.myRating),t!=null&&t.myOneLine&&(v(t.myOneLine),x(t.myOneLine))},[t,e]);const S=j=>{const{value:Q}=j.target;Q.length<=25&&x(Q)},M=()=>{A(!1),setTimeout(()=>{r(!1)},200)},b=()=>{m(!1),setTimeout(()=>{a(!1)},200)},T=()=>{s(!1),u(!1),a(!0)},L=async(j,Q)=>{v(g),A(!1),setTimeout(()=>{r(!1)},200);try{await d1e(j,Q),window.location.reload()}catch(G){console.error(G)}},P=async(j,Q)=>{v(g),m(!1),setTimeout(()=>{a(!1)},200);try{await f1e(j,Q),window.location.reload()}catch(G){console.error(G)}},E=async j=>{v(""),x(""),u(!1),setTimeout(()=>{s(!1)},200);try{await h1e(j),window.location.reload()}catch(Q){console.error(Q)}},U=async(j,Q)=>{const{offsetX:G,target:J}=Q.nativeEvent,k=J.offsetWidth;let V=G<k/2?j+.5:j+1;if(V<1&&(V=1),w===V){C(0);try{await u1e(e.userbookId)}catch(N){console.error(N)}}else{C(V);try{await c1e(e.userbookId,V)}catch(N){console.error(N)}}};return p.jsxs("div",{children:[e!=null&&e.userbookId?p.jsx("div",{children:y?p.jsx("div",{children:p.jsxs("div",{className:"relative flex flex-col items-center p-5 gap-4 bg-gray-10 w-[22.5625rem] rounded-lg",children:[p.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(j,Q)=>{let G=F9;return w>Q&&(G=w>=Q+1?U9:L9),p.jsx("img",{className:"cursor-pointer",src:G,onClick:J=>U(Q,J),alt:"star"},Q)})}),p.jsxs("div",{className:"flex justify-center items-center gap-2 max-h-12 text-b2",children:[p.jsx("img",{src:y1e,alt:"left-quotation"}),y,p.jsx("img",{src:x1e,alt:"right-quotation"})]}),p.jsx("img",{className:"absolute top-5 right-5 cursor-pointer",src:w1e,alt:"menu",onClick:()=>s(!0)})]})}):p.jsx("div",{children:p.jsxs("div",{className:"flex flex-col items-center px-4 pt-4 pb-5 gap-2 bg-gray-10 w-[22.5625rem] rounded-lg",children:[p.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(j,Q)=>{let G=F9;return w>Q&&(G=w>=Q+1?U9:L9),p.jsx("img",{className:"cursor-pointer",src:G,onClick:J=>U(Q,J),alt:"star"},Q)})}),p.jsx("input",{type:"text",className:"w-full px-1 py-2 text-b2 text-gray-400 border-b border-[#DDDDDD]",placeholder:"책에 대한 나의 한줄 평을 작성해주세요!",onClick:()=>r(!0)})]})})}):p.jsxs("div",{className:"p-4 bg-gray-50 text-b2 text-gray-400 text-center w-[361px] rounded-lg ",children:["책을 서재에 담아",p.jsx("br",{}),"별점과 한줄평을 입력해보세요"]}),p.jsx(Ui,{bottomSheetShow:n,setBottomSheetShow:r,visible:l,setVisible:A,children:p.jsxs("div",{className:"flex flex-col px-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-st font-semibold",children:"한줄평 작성"}),p.jsx("span",{className:"text-b1 text-gray-500 cursor-pointer",onClick:M,children:"취소"})]}),p.jsx("input",{type:"text",value:g,className:"mt-[1.625rem] mb-[3.1875rem] px-1 py-2 text-b1 placeholder:text-gray-400 border-b border-[#DDDDDD] w-full",placeholder:"책에 대한 나의 한줄 평을 작성해주세요! (25자 이내)",onChange:S}),p.jsx(mr,{text:"완료",disabled:!g,onClick:()=>L(e.userbookId,g)})]})}),p.jsx(pM,{bottomSheetShow:i,setBottomSheetShow:s,visible:c,setVisible:u,handleEdit:T,handleDelete:()=>E(t==null?void 0:t.oneLineId)}),p.jsx(Ui,{bottomSheetShow:o,setBottomSheetShow:a,visible:d,setVisible:m,children:p.jsxs("div",{className:"flex flex-col px-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-st font-semibold",children:"한줄평 수정"}),p.jsx("span",{className:"text-b1 text-gray-500 cursor-pointer",onClick:b,children:"취소"})]}),p.jsx("input",{type:"text",value:g,className:"mt-[1.625rem] mb-[3.1875rem] px-1 py-2 text-b1 placeholder:text-gray-400 border-b border-[#DDDDDD] w-full",placeholder:"책에 대한 나의 한줄 평을 작성해주세요! (25자 이내)",onChange:S}),p.jsx(mr,{text:"완료",disabled:!g,onClick:()=>P(t==null?void 0:t.oneLineId,g)})]})})]})},C1e=()=>{const{bookinfoId:t}=ma(),[e,n]=F.useState("책 정보"),[r,i]=F.useState(null),[s,o]=F.useState(null),[a,l]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{l(!0);const c=await o1e({bookinfoId:t}),u=await A1e({bookinfoId:t});console.log("조회 성공: ",c),o(c),i(u),console.log("조회2 성공: ",u)}catch(c){console.error("오류 발생: ",c)}finally{l(!1)}})()},[t]),a?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx(S2,{})}):p.jsxs("div",{className:"w-full w-max-[64rem]",children:[p.jsx(nr,{title:""}),p.jsxs("div",{className:"flex flex-col mt-2 gap-5",children:[p.jsx("div",{className:"flex flex-col gap-2 px-4",children:p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsx(xx,{bookData:s}),p.jsx(AT,{bookData:s})]})}),p.jsxs("div",{className:"flex flex-col mt-2 gap-4",children:[p.jsx(Al,{tabs:["책 정보","기록"],activeTab:e,onTabClick:n,size:""}),e==="책 정보"&&p.jsx(nV,{bookData:s==null?void 0:s.bookInfoDetailDto,ratingData:r}),e==="기록"&&p.jsx(rV,{bookinfoId:t}),p.jsx("div",{className:"fixed bottom-[2.625rem] flex justify-end w-[24.5625rem] cursor-pointer",children:p.jsx(Q2,{})})]})]})]})},B1e=()=>{const{providerId:t}=ma(),[e,n]=F.useState("책 정보"),[r,i]=F.useState(null);return F.useEffect(()=>{(async()=>{try{const o=await a1e({providerId:t});console.log("조회성공: ",o),i(o)}catch(o){console.error("오류 발생: ",o)}})()},[t]),p.jsxs("div",{className:"w-[24.5625rem]",children:[p.jsx(nr,{title:""}),p.jsxs("div",{className:"flex flex-col mt-2 gap-5",children:[p.jsx("div",{className:"flex flex-col gap-2 px-4",children:p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsx(xx,{bookData:r}),p.jsx(AT,{bookData:r})]})}),p.jsxs("div",{className:"flex flex-col mt-2 gap-4",children:[p.jsx(Al,{tabs:["책 정보","기록"],activeTab:e,onTabClick:n,size:""}),e==="책 정보"&&p.jsx(nV,{bookData:r==null?void 0:r.bookInfoDetailDto}),p.jsx("div",{className:"fixed bottom-[2.625rem] flex justify-end w-[24.5625rem] cursor-pointer",children:p.jsx(Q2,{})})]})]})]})},S1e=()=>{const{state:t}=bs(),e=(t==null?void 0:t.ratingList)||[];return p.jsx("div",{children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(nr,{title:`한줄평 (${e.length})`}),p.jsx("div",{className:"flex flex-col gap-1",children:e.length>0&&e.map((n,r)=>p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(tV,{data:n},r),p.jsx(vs,{})]},r))})]})})},_1e="/assets/user-no-archive-DSmMBUrQ.svg",E1e=()=>{const{bookinfoId:t}=ma(),[e,n]=F.useState(null),[r,i]=F.useState(!0);F.useEffect(()=>{(async()=>{try{i(!0);const a=await l1e({bookinfoId:t});console.log("조회성공: ",a),n(a)}catch(a){console.error("오류 발생: ",a)}finally{i(!1)}})()},[t]),console.log("bookdata",e),F.useState("기록");const s=!!(e!=null&&e.isMine);return console.log(s),p.jsx("div",{className:"w-full",children:e!=null&&e.isMine?p.jsxs("div",{children:[p.jsx("div",{className:"px-4",children:p.jsx(CQ,{})}),p.jsxs("div",{className:"flex flex-col mt-2 gap-5",children:[p.jsx("div",{className:"flex flex-col gap-2 px-4",children:p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsx(xx,{bookData:e,isMe:s}),p.jsx(AT,{})]})}),p.jsxs("div",{children:[p.jsx("div",{className:"flex items-center text-btn2 px-4 pt-1 h-11 border-b-2 border-gray-50",children:"기록"}),p.jsx(rV,{})]}),p.jsx("div",{className:"fixed bottom-[2.625rem] flex justify-end w-[24.5625rem] cursor-pointer",children:p.jsx(Q2,{})})]})]}):p.jsxs("div",{children:[p.jsx(nr,{title:""}),p.jsxs("div",{className:"flex flex-col items-center px-4 mt-4 gap-[8.875rem]",children:[p.jsx(xx,{isMe:s,bookData:e}),p.jsxs("div",{className:"flex flex-col items-center gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("div",{className:"flex justify-center px-6 py-2 bg-gray-50 text-center rounded-xl text-b2 font-semibold text-gray-500 ",children:["다른유저가 직접 등록한 책에는 ",p.jsx("br",{}),"기록을 남길 수 없어요."]}),p.jsx("img",{className:"w-4 h-3 mt-[-0.0625rem]",src:$D,alt:"polygon"})]}),p.jsx("img",{src:_1e,alt:"no archive"})]})]})]})})},QS=({num:t,text:e,big:n=!1})=>p.jsxs("div",{className:`relative flex flex-col h-[6.1875rem] rounded-lg bg-white ${n?"w-[138px]":"w-[88px]"}`,children:[n?p.jsxs("div",{className:"absolute top-[-0.3125rem] left-[1.625rem] flex justify-between items-center w-20",children:[p.jsx("div",{className:"w-1 h-2.5 rounded-sm bg-gray-500"}),p.jsx("div",{className:"w-1 h-2.5 rounded-sm bg-gray-500"}),p.jsx("div",{className:"w-1 h-2.5 rounded-sm bg-gray-500"}),p.jsx("div",{className:"w-1 h-2.5 rounded-sm bg-gray-500"})]}):p.jsxs("div",{className:"absolute top-[-0.3125rem] left-[1.625rem] flex justify-between items-center w-9",children:[p.jsx("div",{className:"w-1 h-2.5 rounded-sm bg-gray-500"}),p.jsx("div",{className:"w-1 h-2.5 rounded-sm bg-gray-500"})]}),p.jsx("div",{className:"h-4 rounded-t-lg bg-yellow-100"}),p.jsxs("div",{className:"flex flex-col items-center py-3 gap-[0.1875rem]",children:[p.jsx("div",{className:"text-c3 text-blue-400 font-semibold",children:t}),p.jsx("div",{className:"text-btn3 text-gray-500",children:e})]})]}),b1e="data:image/svg+xml,%3csvg%20width='113'%20height='106'%20viewBox='0%200%20113%20106'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%20145'%3e%3cpath%20id='Rectangle%201758'%20d='M0%209.0791C0%204.06485%204.06485%200%209.0791%200H113V16.0489C113%2017.624%20111.309%2018.6201%20109.931%2017.8563C108.554%2017.0924%20106.862%2018.0885%20106.862%2019.6636V85.3124C106.862%2086.9513%20108.191%2088.2799%20109.83%2088.2799C111.453%2088.2799%20112.775%2089.5837%20112.797%2091.2066L113%20106H9.0791C4.06485%20106%200%20101.935%200%2096.9209V9.0791Z'%20fill='%23FFBF68'/%3e%3c/g%3e%3c/svg%3e",M1e="data:image/svg+xml,%3csvg%20width='116'%20height='31'%20viewBox='0%200%20116%2031'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Rectangle%201758'%20d='M0%209.0791C0%204.06485%204.06485%200%209.0791%200H116V2.53038C116%204.20502%20114.504%205.48345%20112.85%205.22212C111.195%204.96079%20109.699%206.23922%20109.699%207.91386V22.7193C109.699%2024.4305%20111.086%2025.8177%20112.798%2025.8177C114.451%2025.8177%20115.813%2027.1156%20115.892%2028.7669L116%2031H9.0791C4.06485%2031%200%2026.9351%200%2021.9209V9.0791Z'%20fill='%23FFECA4'/%3e%3c/svg%3e",T1e="data:image/svg+xml,%3csvg%20width='49'%20height='92'%20viewBox='0%200%2049%2092'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Rectangle%201759'%20d='M49%209.09566C49%204.07226%2044.9304%200%2039.9102%200H0V14.9863C0%2015.6862%200.862375%2016.0178%201.33076%2015.4979C1.79915%2014.978%202.66153%2015.3096%202.66153%2016.0095V75.337C2.66153%2076.0457%202.08738%2076.6203%201.37913%2076.6203C0.674316%2076.6203%200.1016%2077.1894%200.0967622%2077.8947L0%2092H39.9102C44.9304%2092%2049%2087.9277%2049%2082.9043V9.09566Z'%20fill='%23FFCF88'/%3e%3c/svg%3e",I1e="data:image/svg+xml,%3csvg%20width='117'%20height='14'%20viewBox='0%200%20117%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Vector'%20d='M0%200H113.585C115.471%200%20117%201.5288%20117%203.41468H115.211V10.9027H117C117%2012.6133%20115.613%2014%20113.903%2014H0V0Z'%20fill='%23EEEEEE'/%3e%3c/svg%3e",F1e="data:image/svg+xml,%3csvg%20width='171'%20height='14'%20viewBox='0%200%20171%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Vector'%20d='M171%207C171%203.13401%20167.866%200%20164%200H0V1.49698C0%202.05857%200.514234%202.47949%201.06476%202.36852C1.61528%202.25754%202.12951%202.67846%202.12951%203.24005V11.254C2.12951%2011.7471%201.64481%2012.0941%201.17801%2011.9353C0.755146%2011.7913%200.304674%2012.0634%200.235253%2012.5047L0%2014H164C167.866%2014%20171%2010.866%20171%207Z'%20fill='%23EEEEEE'/%3e%3c/svg%3e",U1e="data:image/svg+xml,%3csvg%20width='184'%20height='34'%20viewBox='0%200%20184%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Vector'%20d='M184%209.76746C184%204.37304%20179.627%200%20174.232%200H0V1.24648C0%203.92976%202.32974%206.01887%204.99715%205.72749C7.66456%205.4361%209.99431%207.5252%209.99431%2010.2085V23.3501C9.99431%2026.0928%207.7709%2028.3162%205.02819%2028.3162C2.41949%2028.3162%200.255491%2030.3346%200.0740958%2032.937L0%2034H174.232C179.627%2034%20184%2029.627%20184%2024.2325V9.76746Z'%20fill='%23FFECA4'/%3e%3c/svg%3e",L1e="data:image/svg+xml,%3csvg%20width='100'%20height='34'%20viewBox='0%200%20100%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Rectangle%201758'%20d='M0%209.0791C0%204.06485%204.06485%200%209.0791%200H96.4968C98.4316%200%20100%201.56844%20100%203.5032C100%204.93579%2098.6887%206.00979%2097.2842%205.72749C95.8797%205.44518%2094.5683%206.51918%2094.5683%207.95177V25.6586C94.5683%2027.1263%2095.7581%2028.3162%2097.2259%2028.3162C98.6545%2028.3162%2099.8275%2029.4456%2099.8815%2030.8731C99.9462%2032.5806%2098.5796%2034%2096.8709%2034H9.0791C4.06485%2034%200%2029.9351%200%2024.9209V9.0791Z'%20fill='%23FFCF88'/%3e%3c/svg%3e",R1e="data:image/svg+xml,%3csvg%20width='290'%20height='27'%20viewBox='0%200%20290%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2010.6787C0%205.25481%204.37304%200.857864%209.76746%200.857864H290V3.82206C290%204.77675%20289.121%205.48637%20288.194%205.28058C287.267%205.07479%20286.389%205.78441%20286.389%206.7391V22.0276C286.389%2022.8614%20287.216%2023.4392%20287.993%2023.1479C288.704%2022.8816%20289.478%2023.3433%20289.585%2024.0983L290%2027H9.76745C4.37303%2027%200%2022.603%200%2017.1791V10.6787Z'%20fill='%23FFBF68'/%3e%3c/svg%3e",P1e=async t=>{try{const e=await Ut(`/users/${t}/statistics`);return console.log("유저 통계 정보 조회 성공: ",e),e}catch(e){throw console.error("유저 통계 정보 조회 실패: ",e),e}},iV=async t=>{try{const e=await Ut(`/users/${t}/keywords`);return console.log("키워드 조회 성공: ",e),e}catch(e){throw console.error("키워드 조회 실패: ",e),e}},N1e=async()=>{try{const t=await Ut("/export/statistics");return console.log("통계 요약 정보 조회 성공: ",t),t}catch(t){throw console.error("통계 요약 정보 조회 실패: ",t),t}},D1e=async()=>{try{const t=await Ut("/export/character");return console.log("캐릭터 요약 정보 조회 성공: ",t),t}catch(t){throw console.error("캐릭터 요약 정보 조회 실패: ",t),t}},O1e=()=>{const[t,e]=F.useState(null),[n,r]=F.useState(!1);if(F.useEffect(()=>{(async()=>{try{const u=await iV();console.log("조회 성공: ",u),e(u),r(!1)}catch(u){console.error("오류 발생: ",u),r(!0)}})()},[]),n||!t||t.length===0)return p.jsxs("div",{className:"flex flex-col px-5 py-7 gap-6 text-b1 font-semibold",children:["내 기록 키워드예요",p.jsxs("div",{className:"flex justify-center items-center text-btn4 text-center text-gray-400 font-regular w-full h-16",children:["북덕이 분석하기에",p.jsx("br",{})," 정보가 부족해요"]})]});const[i,s,o,a,l,A]=t;return p.jsxs("div",{className:"flex flex-col px-5 py-7 gap-6 text-b1 font-semibold",children:["내 기록 키워드예요",p.jsxs("div",{className:"relative mx-[2.2813rem] w-[18.125rem] h-[11.4375rem]",children:[p.jsx("div",{className:"mt-[0.23rem] pt-[3.75rem] pl-4 text-t1 text-white w-[7.0625rem] h-[6.625rem]",style:{backgroundImage:`url(${b1e})`},children:i}),p.jsx("div",{className:"absolute left-[7.4375rem] top-[2.6875rem] flex justify-end items-center pr-4 text-b1 text-gray-500 w-[7.25rem] h-[1.9375rem]",style:{backgroundImage:`url(${M1e})`},children:s}),p.jsx("div",{className:"absolute top-0 right-0 flex justify-center pr-3 text-st text-white w-[3.0625rem] h-[5.8125rem]",style:{backgroundImage:`url(${T1e})`,writingMode:"vertical-rl"},children:o}),p.jsx("div",{className:"absolute left-[7.4375rem] top-[4.875rem] w-[7.3125rem] h-[0.875rem]",style:{backgroundImage:`url(${I1e})`}}),p.jsx("div",{className:"absolute left-[7.4375rem] top-[6.0625rem] w-[10.6875rem] h-[0.875rem]",style:{backgroundImage:`url(${F1e})`}}),p.jsx("div",{className:"absolute top-[7.3125rem] flex items-center pl-[1.4375rem] text-b1 text-gray-400 w-[184px] h-[2.125rem]",style:{backgroundImage:`url(${U1e})`},children:a}),p.jsx("div",{className:"absolute right-[0] top-[7.3125rem] flex justify-end items-center pr-[1.125rem] text-right text-b1 text-white w-[100px] h-[2.125rem]",style:{backgroundImage:`url(${L1e})`},children:l}),p.jsx("div",{className:"absolute top-[156px] flex items-center justify-end pr-[1.125rem] text-b2 text-white w-[290px] h-[27px]",style:{backgroundImage:`url(${R1e})`},children:A})]})]})},k1e="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Subtract'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.3765%209.99951C19.3765%2015.178%2015.1785%2019.376%2010%2019.376C4.82152%2019.376%200.623535%2015.178%200.623535%209.99951C0.623535%204.82103%204.82152%200.623047%2010%200.623047C15.1785%200.623047%2019.3765%204.82103%2019.3765%209.99951ZM5.86225%205.86176C6.20554%205.51847%206.76212%205.51847%207.1054%205.86176L10.1422%208.89857L13.179%205.8618C13.5223%205.51852%2014.0789%205.51852%2014.4221%205.8618C14.7654%206.20509%2014.7654%206.76167%2014.4221%207.10496L11.3854%2010.1417L14.4221%2013.1785C14.7654%2013.5218%2014.7654%2014.0784%2014.4221%2014.4217C14.0789%2014.7649%2013.5223%2014.7649%2013.179%2014.4217L10.1422%2011.3849L7.1054%2014.4217C6.76212%2014.765%206.20554%2014.765%205.86225%2014.4217C5.51896%2014.0784%205.51896%2013.5218%205.86225%2013.1785L8.89906%2010.1417L5.86225%207.10492C5.51896%206.76163%205.51896%206.20505%205.86225%205.86176Z'%20fill='%23ABABAB'/%3e%3c/svg%3e",R9="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='share'%3e%3cpath%20id='Icon'%20d='M3.34998%2012.5492V15.483C3.34998%2015.9276%203.52513%2016.354%203.83691%2016.6684C4.14869%2016.9828%204.57155%2017.1595%205.01248%2017.1595H14.9875C15.4284%2017.1595%2015.8513%2016.9828%2016.163%2016.6684C16.4748%2016.354%2016.65%2015.9276%2016.65%2015.483V12.5492M10.0343%2012.3408L10.0343%202.84082M10.0343%202.84082L6.2343%206.47073M10.0343%202.84082L13.8343%206.47073'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Q1e=({onClose:t})=>{const e=Bt(),n=()=>{e("/statistics/export/character")},r=()=>{e("/statistics/export/summary")};return p.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:p.jsxs("div",{className:"flex flex-col p-2.5 items-center bg-white w-72 h-[193px] rounded-2xl",children:[p.jsx("div",{className:"flex justify-end items-end w-full",children:p.jsx("img",{src:k1e,alt:"close",className:"cursor-pointer",onClick:t})}),p.jsx("span",{className:"text-st font-semibold mb-5",children:"어떤 이미지로 저장할까요?"}),p.jsxs("div",{className:"flex flex-col mb-2.5 gap-3 text-btn2 font-semibold text-white",children:[p.jsxs("button",{className:"flex justify-center items-center gap-2.5 bg-gray-600 px-5 py-3 rounded-lg",onClick:n,children:["캐릭터 이미지로 저장하기",p.jsx("img",{src:R9,alt:"share",className:"w-5 h-5"})]}),p.jsxs("button",{className:"flex justify-center items-center gap-2.5 bg-orange-300 px-5 py-3 rounded-lg",onClick:r,children:["통계 요약 이미지로 저장하기",p.jsx("img",{src:R9,alt:"share",className:"w-5 h-5"})]})]})]})})},H1e=()=>{const[t,e]=F.useState(!0),[n,r]=F.useState(0),[i,s]=F.useState(!1),o=()=>{s(!i)},a=()=>{const l=window.scrollY;l>n?e(!1):e(!0),r(l)};return F.useEffect(()=>(window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}),[n]),p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`fixed bottom-10 flex justify-between items-center px-4 py-2.5 text-btn3 text-white  [background:rgba(18,18,18,0.70)] w-[22.5625rem] rounded-[6.25rem] cursor-pointer transition-transform duration-300
      }`,style:{transform:`translateY(${t?"0":"calc(100% + 50px)"})`},onClick:o,children:["요약된 이미지로 저장할 수 있어요",p.jsx("div",{className:"px-3 py-1 font-semibold bg-blue-400 bg-opacity-90 rounded-[20px]",children:"이미지 보기"})]}),i&&p.jsx(Q1e,{onClose:o})]})},j1e=({author:t,imgPath:e})=>{const n=e;return console.log(n),p.jsx("div",{className:"flex pl-5 py-7 gap-5",children:t&&n?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col gap-3 text-b1 font-semibold w-[9.4375rem]",children:["선호하는 작가예요",p.jsx("span",{className:"text-t1 text-orange-400 w-[9.4375rem]",children:t})]}),p.jsx("div",{className:"flex gap-1.5 overflow-scroll",children:n.map((r,i)=>p.jsx("img",{className:"w-[5.125rem] h-[6.9375rem] rounded-md",src:r,alt:`book-cover-${i}`},i))})]}):p.jsxs("div",{className:"flex flex-col gap-5 font-semibold w-full",children:["선호하는 작가예요",p.jsxs("div",{className:"flex justify-center pr-5 items-center text-btn4 text-center text-gray-400 font-regular w-full h-16",children:["북덕이 분석하기에",p.jsx("br",{})," 정보가 부족해요"]})]})})},V1e="data:image/svg+xml,%3csvg%20width='22'%20height='23'%20viewBox='0%200%2022%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.229%201.87335L15.3881%201.46609C15.7472%200.547008%2017.0792%200.648269%2017.2953%201.61107L20.4782%2015.7971C20.9838%2018.0508%2019.9662%2020.3716%2017.9659%2021.5265C15.9656%2022.6813%2013.4469%2022.4022%2011.748%2020.8375L1.05399%2010.988C0.328186%2010.3195%200.90653%209.11526%201.88202%209.26383L2.31427%209.32966C4.70866%209.69433%206.87523%207.8642%206.91597%205.44254L6.93788%204.14035C6.95058%203.38554%207.76306%202.91645%208.4231%203.28286L9.56178%203.91498C11.6794%205.09053%2014.3476%204.12929%2015.229%201.87335Z'%20fill='%23FFBF68'%20stroke='%23FFBF68'/%3e%3c/svg%3e",sV=({title:t})=>p.jsxs("div",{className:"flex items-center px-5 gap-2.5 text-st font-semibold w-[24.5625rem] h-[3.125rem] border-b border-gray-100",children:[p.jsx("img",{src:V1e}),t]}),z1e=({userData:t})=>{const e=t||[];return p.jsxs("div",{className:"flex flex-col mt-3.5",children:[p.jsx(sV,{title:"독서 취향 분석"}),e.length>0?p.jsxs("div",{className:"flex flex-col pt-6 pb-7 gap-4 bg-gray-10",children:[p.jsxs("div",{className:"px-5 text-b1 font-semibold",children:["선호하는 장르 ",p.jsx("span",{className:"text-orange-400",children:"TOP3"}),"를 알려드릴게요"]}),p.jsx("div",{className:"flex flex-col gap-3",children:e.map((n,r)=>p.jsxs("div",{className:"flex px-11 py-2 gap-6 text-b2 font-semibold bg-white",children:[p.jsx("span",{children:r+1}),p.jsx("span",{children:n.genreName}),p.jsx("span",{className:"text-gray-600",children:n.bookCount})]},r))})]}):p.jsxs("div",{className:"flex flex-col pt-6 pb-7 gap-4 bg-gray-10",children:[p.jsxs("div",{className:"px-5 text-b1 font-semibold",children:["선호하는 장르 ",p.jsx("span",{className:"text-orange-400",children:"TOP3"}),"를 알려드릴게요"]}),p.jsxs("div",{className:"flex justify-center items-center text-btn4 text-center text-gray-400 font-regular w-full h-16",children:["북덕이 분석하기에",p.jsx("br",{})," 정보가 부족해요"]})]})]})},G1e=({userData:t,isFirstHalf:e})=>{const n=new Date().getMonth()+1,r=e?[1,2,3,4,5,6]:[7,8,9,10,11,12],i=n<=6,s=t?Math.max(...t.map(l=>l.bookCount||0)):0,o=t&&t.length>0?t.every(l=>l.bookCount===t[0].bookCount):!1,a=l=>{if(l===0)return"h-[0.25rem]";if(o)return"h-[7rem]";const A=112;return`h-[${A+(224-A)*(l/s)}px]`};return p.jsx("div",{className:"flex items-end text-b1 text-center text-white font-semibold w-full",children:r.map((l,A)=>{if(e&&!i||!e&&i||l>n||e&&l>6||!e&&l<=6)return null;const c=t==null?void 0:t.find(w=>w.month===l),u=!c&&l<n,d=!c&&l===n,m=!u&&((c==null?void 0:c.bookCount)===0||d),g=["ml-[6px] rounded-t-sm w-[32px]","ml-[6px] rounded-t-sm w-[32px]","ml-[7px] rounded-t-sm w-[43px]","ml-[7px] rounded-t-sm w-[32px]","ml-[10px] rounded-t-sm w-[36px]","ml-[11px] rounded-t-sm w-[32px]"],x=l===n?"":e&&l===1?"rotate-[5.223deg]":e&&l===6?"rotate-[-10.435deg]":!e&&l===7?"rotate-[5.223deg]":!e&&l===12?"rotate-[-10.435deg]":"",y=u?"bg-gray-100":"bg-orange-300",v=u?"h-[7rem]":a((c==null?void 0:c.bookCount)||0);return p.jsxs("div",{className:"relative flex flex-col items-center",children:[m&&p.jsx("span",{className:"absolute bottom-full left-[1.4375rem] text-gray-100 mb-1",children:"0"}),p.jsx("div",{className:`${g[A]} ${y} ${v} ${x}`,children:!m&&!u&&((c==null?void 0:c.bookCount)||0)})]},l)})})},K1e=({userData:t})=>p.jsxs("div",{className:"flex flex-col pt-5 h-[24.3125rem]",children:[p.jsx(sV,{title:`${t!=null&&t.isFirstHalf?"상반기":"하반기"} 월별 독서량`}),p.jsxs("div",{className:"flex flex-col pt-[2.3475rem]",children:[p.jsxs("div",{className:"flex justify-between items-end",children:[p.jsx("div",{className:" bg-gray-100 rounded-tr-[0.625rem] w-[3.5rem] h-[3.75rem]"}),p.jsx("div",{className:"flex items-end w-[16.125rem] h-[14rem]",children:p.jsx(G1e,{userData:t==null?void 0:t.monthlyBookCount,isFirstHalf:t==null?void 0:t.isFirstHalf})}),p.jsx("div",{className:" bg-gray-100 rounded-tl-[0.625rem] w-[3.5rem] h-[3.75rem]"})]}),t!=null&&t.isFirstHalf?p.jsxs("div",{className:"flex justify-center text-center gap-[24px] mt-[0.625rem] text-btn4 font-semibold text-gray-400",children:[p.jsx("span",{children:"1월"}),p.jsx("span",{children:"2월"}),p.jsx("span",{children:"3월"}),p.jsx("span",{children:"4월"}),p.jsx("span",{children:"5월"}),p.jsx("span",{children:"6월"})]}):p.jsxs("div",{className:"flex justify-center text-center gap-[24px] mt-[0.625rem] text-btn4 font-semibold text-gray-400",children:[p.jsx("span",{children:"7월"}),p.jsx("span",{children:"8월"}),p.jsx("span",{children:"9월"}),p.jsx("span",{children:"10월"}),p.jsx("span",{children:"11월"}),p.jsx("span",{children:"12월"})]})]})]}),W1e="data:image/svg+xml,%3csvg%20width='6'%20height='9'%20viewBox='0%200%206%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.33341%207.77799L4.66675%204.44466L1.33341%201.11133'%20stroke='%23ABABAB'%20stroke-width='0.833333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",X1e=({nickname:t,userId:e,duckTitle:n,genreToKorean:r})=>{const i=r[n]||"기타";return p.jsxs("div",{className:"flex min-h-auto",children:[p.jsxs("div",{className:"flex flex-col gap-1 mt-[3.8125rem] ml-[1.75rem]",children:[p.jsxs("div",{className:"text-t2 font-semibold w-[10.8125rem]",children:[p.jsx("span",{className:"font-regular",children:t}),"님은",p.jsx("br",{}),i,"에 진심인 ",i,"덕!"]}),p.jsxs("div",{className:"flex pt-1 pb-5 text-btn4 text-gray-400 gap-0.5 cursor-pointer",children:["자세히보기",p.jsx("img",{className:"ml-2",src:W1e})]})]}),p.jsx("div",{className:"w-[180px]",children:p.jsx(Mu,{userId:e})})]})},$1e=()=>{var c;const{userId:t}=ma(),[e,n]=F.useState(null),[r,i]=F.useState(!0),[s,o]=F.useState(!1),[a,l]=F.useState(!1),A={FICTION:"소설",LITERARY:"시/에세이",BUSINESS:"경제/경영",SELF_HELP:"자기계발",SCIENCE:"과학",SOCIETY:"정치/사회",LANGUAGE:"언어",TRAVEL:"여행",HISTORY:"역사",COMPUTER:"컴퓨터/IT",HEALTH:"건강/스포츠",HOBBY:"취미/실용",ART:"예술",RELIGION:"종교",COMICS:"만화",HOME_COOKING:"가정/요리",ARCHITECTURE:"건축",REFERENCE:"교재/참고서",TECHNOLOGY:"기술/공학",HUMANITIES:"인문",YOUTH:"아동/청소년",OTHERS:"기타"};return F.useEffect(()=>{const u=async()=>{try{const m=await P1e(t);n(m)}catch(m){console.error("유저 데이터 로딩 오류: ",m)}finally{i(!1)}},d=async()=>{try{const m=await iV(t);l(Array.isArray(m)&&m.length>0)}catch(m){console.error("키워드 로딩 오류: ",m),l(!1)}};u(),d()},[t]),F.useEffect(()=>{(async()=>{const d=await Bs();o(String(d)===String(t))})()},[t]),r?p.jsx("div",{className:"text-center mt-10"}):p.jsxs("div",{className:"flex flex-col pb-[11.25rem]",children:[p.jsx(nr,{title:"독서 리포트"}),p.jsx(X1e,{nickname:e==null?void 0:e.nickname,userId:t,duckTitle:e==null?void 0:e.duckTitle,genreToKorean:A}),p.jsxs("div",{className:"flex flex-col pt-6 px-7 pb-7 gap-7 bg-gray-50",children:[p.jsxs("div",{className:"text-b1 font-semibold",children:[e!=null&&e.isFirstHalf?"상반기":"하반기"," 기록은 총"," ",p.jsx("span",{className:"text-blue-800",children:(e==null?void 0:e.excerptCount)+(e==null?void 0:e.bookRecordCount)}),"개!"]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx(QS,{num:e==null?void 0:e.excerptCount,text:"발췌"}),p.jsx(QS,{num:e==null?void 0:e.bookRecordCount,text:"감상평"}),p.jsx(QS,{num:e==null?void 0:e.finishedBookCount,text:"다 읽은 책",big:!0})]})]}),p.jsx(K1e,{userData:e}),p.jsx(z1e,{userData:(c=e==null?void 0:e.mostReadGenres)==null?void 0:c.map(u=>({...u,genreName:A[u.genreName]||u.genreName}))}),p.jsx(vs,{}),p.jsx(j1e,{author:e==null?void 0:e.mostReadAuthor,imgPath:e==null?void 0:e.imgPaths}),p.jsx(vs,{}),p.jsx(O1e,{}),p.jsxs("div",{className:"flex justify-center text-center mt-[3.75rem] text-b2 text-gray-400",children:["북덕은 언제나 ",e==null?void 0:e.nickname,"님의",p.jsx("br",{}),"독서를 응원합니다!"]}),p.jsx("div",{className:"flex justify-center",children:s&&a&&p.jsx(H1e,{})})]})},Y1e="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%2047'%3e%3cpath%20id='Line%2010'%20d='M1%201L12%2012'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3cpath%20id='Line%2011'%20d='M1%2012L12%201'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/g%3e%3c/svg%3e",oV=({title:t="제목",check:e=!1,edit:n=!1,editState:r=!1,handleEdit:i})=>{const s=Bt(),o=()=>{s(-1)};return p.jsxs("div",{className:"flex justify-between items-center px-4 py-1 h-[2.75rem]",children:[p.jsx("div",{className:"text-st font-semibold",children:t}),p.jsx("img",{className:"w-6 h-6 p-1.5 cursor-pointer",src:Y1e,onClick:o})]})},q1e="/assets/bookduck-CfDYSoqx.svg",Z1e=()=>{const[t,e]=F.useState(null),r={FICTION:"소설",LITERARY:"시/에세이",BUSINESS:"경제/경영",SELF_HELP:"자기계발",SCIENCE:"과학",SOCIETY:"정치/사회",LANGUAGE:"언어",TRAVEL:"여행",HISTORY:"역사",COMPUTER:"컴퓨터/IT",HEALTH:"건강/스포츠",HOBBY:"취미/실용",ART:"예술",RELIGION:"종교",COMICS:"만화",HOME_COOKING:"가정/요리",ARCHITECTURE:"건축",REFERENCE:"교재/참고서",TECHNOLOGY:"기술/공학",HUMANITIES:"인문",YOUTH:"아동/청소년",OTHERS:"기타"}[t==null?void 0:t.duckTitle]||"기타";return F.useEffect(()=>{(async()=>{try{const s=await D1e();console.log("조회성공: ",s),e(s)}catch(s){console.error("오류 발생: ",s)}})()},[]),p.jsxs("div",{className:"flex flex-col items-center bg-yellow-gradation w-[20.1875rem] h-[31.875rem] rounded-[1.6627rem]",children:[p.jsx("img",{src:q1e,className:"mt-[39px] w-[6.3125rem] h-[1.3125rem]"}),p.jsxs("div",{className:" mt-[1.125rem] text-st text-center text-gray-800 font-semibold",children:[(t==null?void 0:t.nickname)||"북덕","님은",p.jsx("br",{}),r,"에 진심인 ",r,"덕!"]}),p.jsx("div",{className:"mt-[3rem] w-[253px] h-[258px]",children:p.jsx(Mu,{userId:Bs()})}),p.jsxs("div",{className:"mt-6 text-btn3 text-gray-400",children:["#",(t==null?void 0:t.keywords[0])||"슬픈"," #",(t==null?void 0:t.keywords[1])||"아름다운"," #",(t==null?void 0:t.keywords[2])||"귀여운"]})]})},J1e=()=>p.jsxs("div",{className:"flex flex-col bg-yellow-80 h-full",children:[p.jsx(oV,{title:"캐릭터로 내보내기"}),p.jsxs("div",{className:"flex flex-col items-center mt-[62px]",children:[p.jsx(Z1e,{}),p.jsx("div",{className:"mt-9 px-6 py-2.5 text-btn2 text-gray-600 font-semibold bg-yellow-50 rounded-[63rem] cursor-pointer",children:"이미지 저장"})]})]});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var L4=function(t,e){return L4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},L4(t,e)};function Qo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");L4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var R4=function(){return R4=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R4.apply(this,arguments)};function Si(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{A(r.next(c))}catch(u){o(u)}}function l(c){try{A(r.throw(c))}catch(u){o(u)}}function A(c){c.done?s(c.value):i(c.value).then(a,l)}A((r=r.apply(t,[])).next())})}function oi(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(A){return function(c){return l([A,c])}}function l(A){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=A[0]&2?i.return:A[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,A[1])).done)return s;switch(i=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,i=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){n.label=A[1];break}if(A[0]===6&&n.label<s[1]){n.label=s[1],s=A;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(A);break}s[2]&&n.ops.pop(),n.trys.pop();continue}A=e.call(t,n)}catch(c){A=[6,c],i=0}finally{r=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function x1(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var ol=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),A3=function(t,e){return ol.fromClientRect(t,e.getBoundingClientRect())},eve=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new ol(0,0,r,i)},c3=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},P9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tve=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var w1=0;w1<P9.length;w1++)tve[P9.charCodeAt(w1)]=w1;var N9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var C1=0;C1<N9.length;C1++)x0[N9.charCodeAt(C1)]=C1;var nve=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)s=x0[t.charCodeAt(r)],o=x0[t.charCodeAt(r+1)],a=x0[t.charCodeAt(r+2)],l=x0[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return A},rve=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},ive=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},qc=5,cT=11,HS=2,sve=cT-qc,aV=65536>>qc,ove=1<<qc,jS=ove-1,ave=1024>>qc,lve=aV+ave,Ave=lve,cve=32,uve=Ave+cve,dve=65536>>cT,fve=1<<sve,hve=fve-1,D9=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},pve=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},mve=function(t,e){var n=nve(t),r=Array.isArray(n)?ive(n):new Uint32Array(n),i=Array.isArray(n)?rve(n):new Uint16Array(n),s=24,o=D9(i,s/2,r[4]/2),a=r[5]===2?D9(i,(s+r[4])/2):pve(r,Math.ceil((s+r[4])/4));return new gve(r[0],r[1],r[2],r[3],o,a)},gve=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>qc],n=(n<<HS)+(e&jS),this.data[n];if(e<=65535)return n=this.index[aV+(e-55296>>qc)],n=(n<<HS)+(e&jS),this.data[n];if(e<this.highStart)return n=uve-dve+(e>>cT),n=this.index[n],n+=e>>qc&hve,n=this.index[n],n=(n<<HS)+(e&jS),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),O9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vve=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var B1=0;B1<O9.length;B1++)vve[O9.charCodeAt(B1)]=B1;var yve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",k9=50,xve=1,lV=2,AV=3,wve=4,Cve=5,Q9=7,cV=8,H9=9,lA=10,P4=11,j9=12,N4=13,Bve=14,w0=15,D4=16,S1=17,l0=18,Sve=19,V9=20,O4=21,A0=22,VS=23,ud=24,as=25,C0=26,B0=27,dd=28,_ve=29,wc=30,Eve=31,_1=32,E1=33,k4=34,Q4=35,H4=36,o2=37,j4=38,gv=39,vv=40,zS=41,uV=42,bve=43,Mve=[9001,65288],dV="!",Jt="×",b1="÷",V4=mve(yve),Ua=[wc,H4],z4=[xve,lV,AV,Cve],fV=[lA,cV],z9=[B0,C0],Tve=z4.concat(fV),G9=[j4,gv,vv,k4,Q4],Ive=[w0,N4],Fve=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,o){var a=V4.get(s);if(a>k9?(i.push(!0),a-=k9):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),n.push(D4);if(a===wve||a===P4){if(o===0)return r.push(o),n.push(wc);var l=n[o-1];return Tve.indexOf(l)===-1?(r.push(r[o-1]),n.push(l)):(r.push(o),n.push(wc))}if(r.push(o),a===Eve)return n.push(e==="strict"?O4:o2);if(a===uV||a===_ve)return n.push(wc);if(a===bve)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(o2):n.push(wc);n.push(a)}),[r,n,i]},GS=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==lA)break}if(i===lA)for(var s=n;s>0;){s--;var a=r[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=n;l<=r.length;){l++;var o=r[l];if(o===e)return!0;if(o!==lA)break}if(a!==lA)break}return!1},K9=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===lA)n--;else return r}return 0},Uve=function(t,e,n,r,i){if(n[r]===0)return Jt;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Jt;var o=s-1,a=s+1,l=e[s],A=o>=0?e[o]:0,c=e[a];if(l===lV&&c===AV)return Jt;if(z4.indexOf(l)!==-1)return dV;if(z4.indexOf(c)!==-1||fV.indexOf(c)!==-1)return Jt;if(K9(s,e)===cV)return b1;if(V4.get(t[s])===P4||(l===_1||l===E1)&&V4.get(t[a])===P4||l===Q9||c===Q9||l===H9||[lA,N4,w0].indexOf(l)===-1&&c===H9||[S1,l0,Sve,ud,dd].indexOf(c)!==-1||K9(s,e)===A0||GS(VS,A0,s,e)||GS([S1,l0],O4,s,e)||GS(j9,j9,s,e))return Jt;if(l===lA)return b1;if(l===VS||c===VS)return Jt;if(c===D4||l===D4)return b1;if([N4,w0,O4].indexOf(c)!==-1||l===Bve||A===H4&&Ive.indexOf(l)!==-1||l===dd&&c===H4||c===V9||Ua.indexOf(c)!==-1&&l===as||Ua.indexOf(l)!==-1&&c===as||l===B0&&[o2,_1,E1].indexOf(c)!==-1||[o2,_1,E1].indexOf(l)!==-1&&c===C0||Ua.indexOf(l)!==-1&&z9.indexOf(c)!==-1||z9.indexOf(l)!==-1&&Ua.indexOf(c)!==-1||[B0,C0].indexOf(l)!==-1&&(c===as||[A0,w0].indexOf(c)!==-1&&e[a+1]===as)||[A0,w0].indexOf(l)!==-1&&c===as||l===as&&[as,dd,ud].indexOf(c)!==-1)return Jt;if([as,dd,ud,S1,l0].indexOf(c)!==-1)for(var u=s;u>=0;){var d=e[u];if(d===as)return Jt;if([dd,ud].indexOf(d)!==-1)u--;else break}if([B0,C0].indexOf(c)!==-1)for(var u=[S1,l0].indexOf(l)!==-1?o:s;u>=0;){var d=e[u];if(d===as)return Jt;if([dd,ud].indexOf(d)!==-1)u--;else break}if(j4===l&&[j4,gv,k4,Q4].indexOf(c)!==-1||[gv,k4].indexOf(l)!==-1&&[gv,vv].indexOf(c)!==-1||[vv,Q4].indexOf(l)!==-1&&c===vv||G9.indexOf(l)!==-1&&[V9,C0].indexOf(c)!==-1||G9.indexOf(c)!==-1&&l===B0||Ua.indexOf(l)!==-1&&Ua.indexOf(c)!==-1||l===ud&&Ua.indexOf(c)!==-1||Ua.concat(as).indexOf(l)!==-1&&c===A0&&Mve.indexOf(t[a])===-1||Ua.concat(as).indexOf(c)!==-1&&l===l0)return Jt;if(l===zS&&c===zS){for(var m=n[s],g=1;m>0&&(m--,e[m]===zS);)g++;if(g%2!==0)return Jt}return l===_1&&c===E1?Jt:b1},Lve=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Fve(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[as,wc,uV].indexOf(a)!==-1?o2:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,o]},Rve=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===dV,this.start=r,this.end=i}return t.prototype.slice=function(){return or.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Pve=function(t,e){var n=c3(t),r=Lve(n,e),i=r[0],s=r[1],o=r[2],a=n.length,l=0,A=0;return{next:function(){if(A>=a)return{done:!0,value:null};for(var c=Jt;A<a&&(c=Uve(n,s,i,++A,o))===Jt;);if(c!==Jt||A===a){var u=new Rve(n,c,l,A);return l=A,{value:u,done:!1}}return{done:!0,value:null}}}},Nve=1,Dve=2,Y2=4,W9=8,wx=10,X9=47,Z0=92,Ove=9,kve=32,M1=34,c0=61,Qve=35,Hve=36,jve=37,T1=39,I1=40,u0=41,Vve=95,Vi=45,zve=33,Gve=60,Kve=62,Wve=64,Xve=91,$ve=93,Yve=61,qve=123,F1=63,Zve=125,$9=124,Jve=126,eye=128,Y9=65533,KS=42,Lc=43,tye=44,nye=58,rye=59,a2=46,iye=0,sye=8,oye=11,aye=14,lye=31,Aye=127,Yo=-1,hV=48,pV=97,mV=101,cye=102,uye=117,dye=122,gV=65,vV=69,yV=70,fye=85,hye=90,ai=function(t){return t>=hV&&t<=57},pye=function(t){return t>=55296&&t<=57343},fd=function(t){return ai(t)||t>=gV&&t<=yV||t>=pV&&t<=cye},mye=function(t){return t>=pV&&t<=dye},gye=function(t){return t>=gV&&t<=hye},vye=function(t){return mye(t)||gye(t)},yye=function(t){return t>=eye},U1=function(t){return t===wx||t===Ove||t===kve},Cx=function(t){return vye(t)||yye(t)||t===Vve},q9=function(t){return Cx(t)||ai(t)||t===Vi},xye=function(t){return t>=iye&&t<=sye||t===oye||t>=aye&&t<=lye||t===Aye},Ql=function(t,e){return t!==Z0?!1:e!==wx},L1=function(t,e,n){return t===Vi?Cx(e)||Ql(e,n):Cx(t)?!0:!!(t===Z0&&Ql(t,e))},WS=function(t,e,n){return t===Lc||t===Vi?ai(e)?!0:e===a2&&ai(n):ai(t===a2?e:t)},wye=function(t){var e=0,n=1;(t[e]===Lc||t[e]===Vi)&&(t[e]===Vi&&(n=-1),e++);for(var r=[];ai(t[e]);)r.push(t[e++]);var i=r.length?parseInt(or.apply(void 0,r),10):0;t[e]===a2&&e++;for(var s=[];ai(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(or.apply(void 0,s),10):0;(t[e]===vV||t[e]===mV)&&e++;var l=1;(t[e]===Lc||t[e]===Vi)&&(t[e]===Vi&&(l=-1),e++);for(var A=[];ai(t[e]);)A.push(t[e++]);var c=A.length?parseInt(or.apply(void 0,A),10):0;return n*(i+a*Math.pow(10,-o))*Math.pow(10,l*c)},Cye={type:2},Bye={type:3},Sye={type:4},_ye={type:13},Eye={type:8},bye={type:21},Mye={type:9},Tye={type:10},Iye={type:11},Fye={type:12},Uye={type:14},R1={type:23},Lye={type:1},Rye={type:25},Pye={type:24},Nye={type:26},Dye={type:27},Oye={type:28},kye={type:29},Qye={type:31},G4={type:32},xV=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(c3(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==G4;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case M1:return this.consumeStringToken(M1);case Qve:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(q9(n)||Ql(r,i)){var s=L1(n,r,i)?Dve:Nve,o=this.consumeName();return{type:5,value:o,flags:s}}break;case Hve:if(this.peekCodePoint(0)===c0)return this.consumeCodePoint(),_ye;break;case T1:return this.consumeStringToken(T1);case I1:return Cye;case u0:return Bye;case KS:if(this.peekCodePoint(0)===c0)return this.consumeCodePoint(),Uye;break;case Lc:if(WS(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case tye:return Sye;case Vi:var a=e,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(WS(a,l,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(L1(a,l,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Vi&&A===Kve)return this.consumeCodePoint(),this.consumeCodePoint(),Pye;break;case a2:if(WS(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case X9:if(this.peekCodePoint(0)===KS)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===KS&&(c=this.consumeCodePoint(),c===X9))return this.consumeToken();if(c===Yo)return this.consumeToken()}break;case nye:return Nye;case rye:return Dye;case Gve:if(this.peekCodePoint(0)===zve&&this.peekCodePoint(1)===Vi&&this.peekCodePoint(2)===Vi)return this.consumeCodePoint(),this.consumeCodePoint(),Rye;break;case Wve:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),m=this.peekCodePoint(2);if(L1(u,d,m)){var o=this.consumeName();return{type:7,value:o}}break;case Xve:return Oye;case Z0:if(Ql(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case $ve:return kye;case Yve:if(this.peekCodePoint(0)===c0)return this.consumeCodePoint(),Eye;break;case qve:return Iye;case Zve:return Fye;case uye:case fye:var g=this.peekCodePoint(0),x=this.peekCodePoint(1);return g===Lc&&(fd(x)||x===F1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case $9:if(this.peekCodePoint(0)===c0)return this.consumeCodePoint(),Mye;if(this.peekCodePoint(0)===$9)return this.consumeCodePoint(),bye;break;case Jve:if(this.peekCodePoint(0)===c0)return this.consumeCodePoint(),Tye;break;case Yo:return G4}return U1(e)?(this.consumeWhiteSpace(),Qye):ai(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Cx(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:or(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();fd(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===F1&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(or.apply(void 0,e.map(function(l){return l===F1?hV:l})),16),s=parseInt(or.apply(void 0,e.map(function(l){return l===F1?yV:l})),16);return{type:30,start:i,end:s}}var o=parseInt(or.apply(void 0,e),16);if(this.peekCodePoint(0)===Vi&&fd(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];fd(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var s=parseInt(or.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===I1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===I1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Yo)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===T1||n===M1){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Yo||this.peekCodePoint(0)===u0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),R1)}for(;;){var i=this.consumeCodePoint();if(i===Yo||i===u0)return{type:22,value:or.apply(void 0,e)};if(U1(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Yo||this.peekCodePoint(0)===u0?(this.consumeCodePoint(),{type:22,value:or.apply(void 0,e)}):(this.consumeBadUrlRemnants(),R1);if(i===M1||i===T1||i===I1||xye(i))return this.consumeBadUrlRemnants(),R1;if(i===Z0)if(Ql(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),R1;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;U1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===u0||e===Yo)return;Ql(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=or.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Yo||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===wx)return this._value.splice(0,r),Lye;if(i===Z0){var s=this._value[r+1];s!==Yo&&s!==void 0&&(s===wx?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Ql(i,s)&&(n+=this.consumeStringSlice(r),n+=or(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Y2,r=this.peekCodePoint(0);for((r===Lc||r===Vi)&&e.push(this.consumeCodePoint());ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===a2&&ai(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=W9;ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===vV||r===mV)&&((i===Lc||i===Vi)&&ai(s)||ai(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=W9;ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[wye(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(L1(i,s,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return i===jve?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(fd(e)){for(var n=or(e);fd(this.peekCodePoint(0))&&n.length<6;)n+=or(this.consumeCodePoint());U1(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||pye(r)||r>1114111?Y9:r}return e===Yo?Y9:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(q9(n))e+=or(n);else if(Ql(n,this.peekCodePoint(0)))e+=or(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),wV=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new xV;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||jye(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?G4:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),q2=function(t){return t.type===15},Ah=function(t){return t.type===17},Bn=function(t){return t.type===20},Hye=function(t){return t.type===0},K4=function(t,e){return Bn(t)&&t.value===e},CV=function(t){return t.type!==31},jf=function(t){return t.type!==31&&t.type!==4},ga=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},jye=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},RA=function(t){return t.type===17||t.type===15},fr=function(t){return t.type===16||RA(t)},BV=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Gr={type:17,number:0,flags:Y2},uT={type:16,number:50,flags:Y2},AA={type:16,number:100,flags:Y2},S0=function(t,e,n){var r=t[0],i=t[1];return[In(r,e),In(typeof i<"u"?i:r,n)]},In=function(t,e){if(t.type===16)return t.number/100*e;if(q2(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},SV="deg",_V="grad",EV="rad",bV="turn",u3={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case SV:return Math.PI*e.number/180;case _V:return Math.PI/200*e.number;case EV:return e.number;case bV:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},MV=function(t){return t.type===15&&(t.unit===SV||t.unit===_V||t.unit===EV||t.unit===bV)},TV=function(t){var e=t.filter(Bn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gr,Gr];case"to top":case"bottom":return qs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gr,AA];case"to right":case"left":return qs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[AA,AA];case"to bottom":case"top":return qs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[AA,Gr];case"to left":case"right":return qs(270)}return 0},qs=function(t){return Math.PI*t/180},SA={name:"color",parse:function(t,e){if(e.type===18){var n=Vye[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return cA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return cA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return cA(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return cA(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=qa[e.value.toUpperCase()];if(typeof a<"u")return a}return qa.TRANSPARENT}},_A=function(t){return(255&t)===0},Ur=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},cA=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},Z9=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},J9=function(t,e){var n=e.filter(jf);if(n.length===3){var r=n.map(Z9),i=r[0],s=r[1],o=r[2];return cA(i,s,o,1)}if(n.length===4){var a=n.map(Z9),i=a[0],s=a[1],o=a[2],l=a[3];return cA(i,s,o,l)}return 0};function XS(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var eL=function(t,e){var n=e.filter(jf),r=n[0],i=n[1],s=n[2],o=n[3],a=(r.type===17?qs(r.number):u3.parse(t,r))/(Math.PI*2),l=fr(i)?i.number/100:0,A=fr(s)?s.number/100:0,c=typeof o<"u"&&fr(o)?In(o,1):1;if(l===0)return cA(A*255,A*255,A*255,1);var u=A<=.5?A*(l+1):A+l-A*l,d=A*2-u,m=XS(d,u,a+1/3),g=XS(d,u,a),x=XS(d,u,a-1/3);return cA(m*255,g*255,x*255,c)},Vye={hsl:eL,hsla:eL,rgb:J9,rgba:J9},J0=function(t,e){return SA.parse(t,wV.create(e).parseComponentValue())},qa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zye={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Bn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gye={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},d3=function(t,e){var n=SA.parse(t,e[0]),r=e[1];return r&&fr(r)?{color:n,stop:r}:{color:n,stop:null}},tL=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Gr),r.stop===null&&(r.stop=AA);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=In(a,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var A=null,o=0;o<i.length;o++){var c=i[o];if(c===null)A===null&&(A=o);else if(A!==null){for(var u=o-A,d=i[A-1],m=(c-d)/(u+1),g=1;g<=u;g++)i[A+g-1]=m*g;A=null}}return t.map(function(x,y){var v=x.color;return{color:v,stop:Math.max(Math.min(1,i[y]/e),0)}})},Kye=function(t,e,n){var r=e/2,i=n/2,s=In(t[0],e)-r,o=i-In(t[1],n);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},Wye=function(t,e,n){var r=typeof t=="number"?t:Kye(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,o=n/2,a=i/2,l=Math.sin(r-Math.PI/2)*a,A=Math.cos(r-Math.PI/2)*a;return[i,s-A,s+A,o-l,o+l]},ho=function(t,e){return Math.sqrt(t*t+e*e)},nL=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,a){var l=a[0],A=a[1],c=ho(n-l,r-A);return(i?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:a,optimumDistance:c}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Xye=function(t,e,n,r,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=o=Math.min(ho(e,n),ho(e,n-i),ho(e-r,n),ho(e-r,n-i));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=nL(r,i,e,n,!0),A=l[0],c=l[1];s=ho(A-e,(c-n)/a),o=a*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=o=Math.max(ho(e,n),ho(e,n-i),ho(e-r,n),ho(e-r,n-i));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),u=nL(r,i,e,n,!1),A=u[0],c=u[1];s=ho(A-e,(c-n)/a),o=a*s}break}return Array.isArray(t.size)&&(s=In(t.size[0],r),o=t.size.length===2?In(t.size[1],i):s),[s,o]},$ye=function(t,e){var n=qs(180),r=[];return ga(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){n=TV(i);return}else if(MV(o)){n=u3.parse(t,o);return}}var a=d3(t,i);r.push(a)}),{angle:n,stops:r,type:1}},P1=function(t,e){var n=qs(180),r=[];return ga(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=TV(i);return}else if(MV(o)){n=(u3.parse(t,o)+qs(270))%qs(360);return}}var a=d3(t,i);r.push(a)}),{angle:n,stops:r,type:1}},Yye=function(t,e){var n=qs(180),r=[],i=1,s=0,o=3,a=[];return ga(e).forEach(function(l,A){var c=l[0];if(A===0){if(Bn(c)&&c.value==="linear"){i=1;return}else if(Bn(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=SA.parse(t,c.values[0]);r.push({stop:Gr,color:u})}else if(c.name==="to"){var u=SA.parse(t,c.values[0]);r.push({stop:AA,color:u})}else if(c.name==="color-stop"){var d=c.values.filter(jf);if(d.length===2){var u=SA.parse(t,d[1]),m=d[0];Ah(m)&&r.push({stop:{type:16,number:m.number*100,flags:m.flags},color:u})}}}}),i===1?{angle:(n+qs(180))%qs(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}},IV="closest-side",FV="farthest-side",UV="closest-corner",LV="farthest-corner",RV="circle",PV="ellipse",NV="cover",DV="contain",qye=function(t,e){var n=0,r=3,i=[],s=[];return ga(e).forEach(function(o,a){var l=!0;if(a===0){var A=!1;l=o.reduce(function(u,d){if(A)if(Bn(d))switch(d.value){case"center":return s.push(uT),u;case"top":case"left":return s.push(Gr),u;case"right":case"bottom":return s.push(AA),u}else(fr(d)||RA(d))&&s.push(d);else if(Bn(d))switch(d.value){case RV:return n=0,!1;case PV:return n=1,!1;case"at":return A=!0,!1;case IV:return r=0,!1;case NV:case FV:return r=1,!1;case DV:case UV:return r=2,!1;case LV:return r=3,!1}else if(RA(d)||fr(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return u},l)}if(l){var c=d3(t,o);i.push(c)}}),{size:r,shape:n,stops:i,position:s,type:2}},N1=function(t,e){var n=0,r=3,i=[],s=[];return ga(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(c,u){if(Bn(u))switch(u.value){case"center":return s.push(uT),!1;case"top":case"left":return s.push(Gr),!1;case"right":case"bottom":return s.push(AA),!1}else if(fr(u)||RA(u))return s.push(u),!1;return c},l):a===1&&(l=o.reduce(function(c,u){if(Bn(u))switch(u.value){case RV:return n=0,!1;case PV:return n=1,!1;case DV:case IV:return r=0,!1;case FV:return r=1,!1;case UV:return r=2,!1;case NV:case LV:return r=3,!1}else if(RA(u)||fr(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return c},l)),l){var A=d3(t,o);i.push(A)}}),{size:r,shape:n,stops:i,position:s,type:2}},Zye=function(t){return t.type===1},Jye=function(t){return t.type===2},dT={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=OV[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function exe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!OV[t.name])}var OV={"linear-gradient":$ye,"-moz-linear-gradient":P1,"-ms-linear-gradient":P1,"-o-linear-gradient":P1,"-webkit-linear-gradient":P1,"radial-gradient":qye,"-moz-radial-gradient":N1,"-ms-radial-gradient":N1,"-o-radial-gradient":N1,"-webkit-radial-gradient":N1,"-webkit-gradient":Yye},txe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return jf(r)&&exe(r)}).map(function(r){return dT.parse(t,r)})}},nxe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Bn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rxe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return ga(e).map(function(n){return n.filter(fr)}).map(BV)}},ixe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return ga(e).map(function(n){return n.filter(Bn).map(function(r){return r.value}).join(" ")}).map(sxe)}},sxe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},tf;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(tf||(tf={}));var oxe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return ga(e).map(function(n){return n.filter(axe)})}},axe=function(t){return Bn(t)||fr(t)},f3=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lxe=f3("top"),Axe=f3("right"),cxe=f3("bottom"),uxe=f3("left"),h3=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return BV(n.filter(fr))}}},dxe=h3("top-left"),fxe=h3("top-right"),hxe=h3("bottom-right"),pxe=h3("bottom-left"),p3=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mxe=p3("top"),gxe=p3("right"),vxe=p3("bottom"),yxe=p3("left"),m3=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return q2(n)?n.number:0}}},xxe=m3("top"),wxe=m3("right"),Cxe=m3("bottom"),Bxe=m3("left"),Sxe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_xe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Exe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Bn).reduce(function(n,r){return n|bxe(r.value)},0)}},bxe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Mxe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Txe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Bx;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Bx||(Bx={}));var Ixe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Bx.STRICT;case"normal":default:return Bx.NORMAL}}},Fxe={name:"line-height",initialValue:"normal",prefix:!1,type:4},rL=function(t,e){return Bn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:fr(t)?In(t,e):e},Uxe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:dT.parse(t,e)}},Lxe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},W4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},g3=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Rxe=g3("top"),Pxe=g3("right"),Nxe=g3("bottom"),Dxe=g3("left"),Oxe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Bn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},kxe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},v3=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Qxe=v3("top"),Hxe=v3("right"),jxe=v3("bottom"),Vxe=v3("left"),zxe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Gxe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Kxe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&K4(e[0],"none")?[]:ga(e).map(function(n){for(var r={color:qa.TRANSPARENT,offsetX:Gr,offsetY:Gr,blur:Gr},i=0,s=0;s<n.length;s++){var o=n[s];RA(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=SA.parse(t,o)}return r})}},Wxe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Xxe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=qxe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},$xe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Yxe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,i,s,o,a]:null},qxe={matrix:$xe,matrix3d:Yxe},iL={type:16,number:50,flags:Y2},Zxe=[iL,iL],Jxe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(fr);return n.length!==2?Zxe:[n[0],n[1]]}},ewe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ep;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ep||(ep={}));var twe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ep.BREAK_ALL;case"keep-all":return ep.KEEP_ALL;case"normal":default:return ep.NORMAL}}},nwe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ah(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},kV={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},rwe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ah(e)?e.number:1}},iwe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},swe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Bn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},owe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},awe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},lwe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ah(e))return e.number;if(Bn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Awe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Bn).map(function(n){return n.value})}},cwe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Cr=function(t,e){return(t&e)!==0},uwe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},dwe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(CV),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var l=a&&Ah(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},fwe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(CV),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(Bn(s)&&s.value!=="none"){var a=o&&Ah(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},hwe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(q2).map(function(n){return kV.parse(t,n)})}},pwe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(Hye);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},sL=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},mwe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&K4(e[0],"none")?[]:ga(e).map(function(n){for(var r={color:255,offsetX:Gr,offsetY:Gr,blur:Gr,spread:Gr,inset:!1},i=0,s=0;s<n.length;s++){var o=n[s];K4(o,"inset")?r.inset=!0:RA(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=SA.parse(t,o)}return r})}},gwe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Bn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},vwe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ywe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return q2(e)?e.number:0}},xwe=function(){function t(e,n){var r,i;this.animationDuration=it(e,hwe,n.animationDuration),this.backgroundClip=it(e,zye,n.backgroundClip),this.backgroundColor=it(e,Gye,n.backgroundColor),this.backgroundImage=it(e,txe,n.backgroundImage),this.backgroundOrigin=it(e,nxe,n.backgroundOrigin),this.backgroundPosition=it(e,rxe,n.backgroundPosition),this.backgroundRepeat=it(e,ixe,n.backgroundRepeat),this.backgroundSize=it(e,oxe,n.backgroundSize),this.borderTopColor=it(e,lxe,n.borderTopColor),this.borderRightColor=it(e,Axe,n.borderRightColor),this.borderBottomColor=it(e,cxe,n.borderBottomColor),this.borderLeftColor=it(e,uxe,n.borderLeftColor),this.borderTopLeftRadius=it(e,dxe,n.borderTopLeftRadius),this.borderTopRightRadius=it(e,fxe,n.borderTopRightRadius),this.borderBottomRightRadius=it(e,hxe,n.borderBottomRightRadius),this.borderBottomLeftRadius=it(e,pxe,n.borderBottomLeftRadius),this.borderTopStyle=it(e,mxe,n.borderTopStyle),this.borderRightStyle=it(e,gxe,n.borderRightStyle),this.borderBottomStyle=it(e,vxe,n.borderBottomStyle),this.borderLeftStyle=it(e,yxe,n.borderLeftStyle),this.borderTopWidth=it(e,xxe,n.borderTopWidth),this.borderRightWidth=it(e,wxe,n.borderRightWidth),this.borderBottomWidth=it(e,Cxe,n.borderBottomWidth),this.borderLeftWidth=it(e,Bxe,n.borderLeftWidth),this.boxShadow=it(e,mwe,n.boxShadow),this.color=it(e,Sxe,n.color),this.direction=it(e,_xe,n.direction),this.display=it(e,Exe,n.display),this.float=it(e,Mxe,n.cssFloat),this.fontFamily=it(e,owe,n.fontFamily),this.fontSize=it(e,awe,n.fontSize),this.fontStyle=it(e,cwe,n.fontStyle),this.fontVariant=it(e,Awe,n.fontVariant),this.fontWeight=it(e,lwe,n.fontWeight),this.letterSpacing=it(e,Txe,n.letterSpacing),this.lineBreak=it(e,Ixe,n.lineBreak),this.lineHeight=it(e,Fxe,n.lineHeight),this.listStyleImage=it(e,Uxe,n.listStyleImage),this.listStylePosition=it(e,Lxe,n.listStylePosition),this.listStyleType=it(e,W4,n.listStyleType),this.marginTop=it(e,Rxe,n.marginTop),this.marginRight=it(e,Pxe,n.marginRight),this.marginBottom=it(e,Nxe,n.marginBottom),this.marginLeft=it(e,Dxe,n.marginLeft),this.opacity=it(e,rwe,n.opacity);var s=it(e,Oxe,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=it(e,kxe,n.overflowWrap),this.paddingTop=it(e,Qxe,n.paddingTop),this.paddingRight=it(e,Hxe,n.paddingRight),this.paddingBottom=it(e,jxe,n.paddingBottom),this.paddingLeft=it(e,Vxe,n.paddingLeft),this.paintOrder=it(e,gwe,n.paintOrder),this.position=it(e,Gxe,n.position),this.textAlign=it(e,zxe,n.textAlign),this.textDecorationColor=it(e,iwe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=it(e,swe,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=it(e,Kxe,n.textShadow),this.textTransform=it(e,Wxe,n.textTransform),this.transform=it(e,Xxe,n.transform),this.transformOrigin=it(e,Jxe,n.transformOrigin),this.visibility=it(e,ewe,n.visibility),this.webkitTextStrokeColor=it(e,vwe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=it(e,ywe,n.webkitTextStrokeWidth),this.wordBreak=it(e,twe,n.wordBreak),this.zIndex=it(e,nwe,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return _A(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Cr(this.display,4)||Cr(this.display,33554432)||Cr(this.display,268435456)||Cr(this.display,536870912)||Cr(this.display,67108864)||Cr(this.display,134217728)},t}(),wwe=function(){function t(e,n){this.content=it(e,uwe,n.content),this.quotes=it(e,pwe,n.quotes)}return t}(),oL=function(){function t(e,n){this.counterIncrement=it(e,dwe,n.counterIncrement),this.counterReset=it(e,fwe,n.counterReset)}return t}(),it=function(t,e,n){var r=new xV,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new wV(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,Bn(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return u3.parse(t,s.parseComponentValue());case"color":return SA.parse(t,s.parseComponentValue());case"image":return dT.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return RA(a)?a:Gr;case"length-percentage":var l=s.parseComponentValue();return fr(l)?l:Gr;case"time":return kV.parse(t,s.parseComponentValue())}break}},Cwe="data-html2canvas-debug",Bwe=function(t){var e=t.getAttribute(Cwe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},X4=function(t,e){var n=Bwe(t);return n===1||e===n},va=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,X4(n,3))debugger;this.styles=new xwe(e,window.getComputedStyle(n,null)),q4(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=A3(this.context,n),X4(n,4)&&(this.flags|=16)}return t}(),Swe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",aL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var D1=0;D1<aL.length;D1++)_0[aL.charCodeAt(D1)]=D1;var _we=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)s=_0[t.charCodeAt(r)],o=_0[t.charCodeAt(r+1)],a=_0[t.charCodeAt(r+2)],l=_0[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return A},Ewe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},bwe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Zc=5,fT=11,$S=2,Mwe=fT-Zc,QV=65536>>Zc,Twe=1<<Zc,YS=Twe-1,Iwe=1024>>Zc,Fwe=QV+Iwe,Uwe=Fwe,Lwe=32,Rwe=Uwe+Lwe,Pwe=65536>>fT,Nwe=1<<Mwe,Dwe=Nwe-1,lL=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Owe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},kwe=function(t,e){var n=_we(t),r=Array.isArray(n)?bwe(n):new Uint32Array(n),i=Array.isArray(n)?Ewe(n):new Uint16Array(n),s=24,o=lL(i,s/2,r[4]/2),a=r[5]===2?lL(i,(s+r[4])/2):Owe(r,Math.ceil((s+r[4])/4));return new Qwe(r[0],r[1],r[2],r[3],o,a)},Qwe=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Zc],n=(n<<$S)+(e&YS),this.data[n];if(e<=65535)return n=this.index[QV+(e-55296>>Zc)],n=(n<<$S)+(e&YS),this.data[n];if(e<this.highStart)return n=Rwe-Pwe+(e>>fT),n=this.index[n],n+=e>>Zc&Dwe,n=this.index[n],n=(n<<$S)+(e&YS),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),AL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var O1=0;O1<AL.length;O1++)Hwe[AL.charCodeAt(O1)]=O1;var jwe=1,qS=2,ZS=3,cL=4,uL=5,Vwe=7,dL=8,JS=9,e_=10,fL=11,hL=12,pL=13,mL=14,t_=15,zwe=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Gwe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Kwe=kwe(Swe),ks="×",n_="÷",Wwe=function(t){return Kwe.get(t)},Xwe=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],o=e[n];if(s===qS&&o===ZS)return ks;if(s===qS||s===ZS||s===cL||o===qS||o===ZS||o===cL)return n_;if(s===dL&&[dL,JS,fL,hL].indexOf(o)!==-1||(s===fL||s===JS)&&(o===JS||o===e_)||(s===hL||s===e_)&&o===e_||o===pL||o===uL||o===Vwe||s===jwe)return ks;if(s===pL&&o===mL){for(;i===uL;)i=e[--r];if(i===mL)return ks}if(s===t_&&o===t_){for(var a=0;i===t_;)a++,i=e[--r];if(a%2===0)return ks}return n_},$we=function(t){var e=zwe(t),n=e.length,r=0,i=0,s=e.map(Wwe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=ks;r<n&&(o=Xwe(e,s,++r))===ks;);if(o!==ks||r===n){var a=Gwe.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},Ywe=function(t){for(var e=$we(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},qwe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},Zwe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=c3(r.data).map(function(l){return or(l)}),s=0,o={},a=i.every(function(l,A){n.setStart(r,s),n.setEnd(r,s+l.length);var c=n.getBoundingClientRect();s+=l.length;var u=c.x>o.x||c.y>o.y;return o=c,A===0?!0:u});return t.body.removeChild(e),a},Jwe=function(){return typeof new Image().crossOrigin<"u"},e3e=function(){return typeof new XMLHttpRequest().responseType=="string"},t3e=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},gL=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},n3e=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var o=$4(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),vL(o).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=t.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=n+"px",gL(l)?vL($4(n,n,0,0,A)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),gL(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},$4=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},vL=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},jr={get SUPPORT_RANGE_BOUNDS(){var t=qwe(document);return Object.defineProperty(jr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=jr.SUPPORT_RANGE_BOUNDS&&Zwe(document);return Object.defineProperty(jr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=t3e(document);return Object.defineProperty(jr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?n3e(document):Promise.resolve(!1);return Object.defineProperty(jr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Jwe();return Object.defineProperty(jr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=e3e();return Object.defineProperty(jr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(jr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(jr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},tp=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),r3e=function(t,e,n,r){var i=o3e(e,n),s=[],o=0;return i.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(jr.SUPPORT_RANGE_BOUNDS){var l=yL(r,o,a.length).getClientRects();if(l.length>1){var A=hT(a),c=0;A.forEach(function(d){s.push(new tp(d,ol.fromDOMRectList(t,yL(r,c+o,d.length).getClientRects()))),c+=d.length})}else s.push(new tp(a,ol.fromDOMRectList(t,l)))}else{var u=r.splitText(a.length);s.push(new tp(a,i3e(t,r))),r=u}else jr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),s},i3e=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=A3(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return ol.EMPTY},yL=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},hT=function(t){if(jr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return Ywe(t)},s3e=function(t,e){if(jr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return l3e(t,e)},o3e=function(t,e){return e.letterSpacing!==0?hT(t):s3e(t,e)},a3e=[32,160,4961,65792,65793,4153,4241],l3e=function(t,e){for(var n=Pve(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),a=c3(o),l="";a.forEach(function(A){a3e.indexOf(A)===-1?l+=or(A):(l.length&&r.push(l),r.push(or(A)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)s();return r},A3e=function(){function t(e,n,r){this.text=c3e(n.data,r.textTransform),this.textBounds=r3e(e,this.text,r,n)}return t}(),c3e=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(u3e,d3e);case 2:return t.toUpperCase();default:return t}},u3e=/(^|\s|:|-|\(|\))([a-z])/g,d3e=function(t,e,n){return t.length>0?e+n.toUpperCase():t},HV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(va),jV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(va),VV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,o=A3(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(va),zV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(va),Y4=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(va),f3e=[{type:15,flags:0,unit:"px",number:3}],h3e=[{type:16,flags:0,number:50}],p3e=function(t){return t.width>t.height?new ol(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ol(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},m3e=function(t){var e=t.type===g3e?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Sx="checkbox",_x="radio",g3e="password",xL=707406591,pT=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=m3e(r),(i.type===Sx||i.type===_x)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=p3e(i.bounds)),i.type){case Sx:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=f3e;break;case _x:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=h3e;break}return i}return e}(va),GV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(va),KV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(va),WV=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=$V(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?J0(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):qa.TRANSPARENT,o=r.contentWindow.document.body?J0(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):qa.TRANSPARENT;i.backgroundColor=_A(s)?_A(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(va),v3e=["OL","UL","MENU"],yv=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,YV(i)&&i.data.trim().length>0)n.textNodes.push(new A3e(t,i,n.styles));else if(kd(i))if(ez(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return yv(t,a,n,r)});else{var o=XV(t,i);o.styles.isVisible()&&(y3e(i,o,r)?o.flags|=4:x3e(o.styles)&&(o.flags|=2),v3e.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?yv(t,i.shadowRoot,o,r):!Ex(i)&&!qV(i)&&!bx(i)&&yv(t,i,o,r))}},XV=function(t,e){return Z4(e)?new HV(t,e):ZV(e)?new jV(t,e):qV(e)?new VV(t,e):w3e(e)?new zV(t,e):C3e(e)?new Y4(t,e):B3e(e)?new pT(t,e):bx(e)?new GV(t,e):Ex(e)?new KV(t,e):JV(e)?new WV(t,e):new va(t,e)},$V=function(t,e){var n=XV(t,e);return n.flags|=4,yv(t,e,n,n),n},y3e=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||mT(t)&&n.styles.isTransparent()},x3e=function(t){return t.isPositioned()||t.isFloating()},YV=function(t){return t.nodeType===Node.TEXT_NODE},kd=function(t){return t.nodeType===Node.ELEMENT_NODE},q4=function(t){return kd(t)&&typeof t.style<"u"&&!xv(t)},xv=function(t){return typeof t.className=="object"},w3e=function(t){return t.tagName==="LI"},C3e=function(t){return t.tagName==="OL"},B3e=function(t){return t.tagName==="INPUT"},S3e=function(t){return t.tagName==="HTML"},qV=function(t){return t.tagName==="svg"},mT=function(t){return t.tagName==="BODY"},ZV=function(t){return t.tagName==="CANVAS"},wL=function(t){return t.tagName==="VIDEO"},Z4=function(t){return t.tagName==="IMG"},JV=function(t){return t.tagName==="IFRAME"},CL=function(t){return t.tagName==="STYLE"},_3e=function(t){return t.tagName==="SCRIPT"},Ex=function(t){return t.tagName==="TEXTAREA"},bx=function(t){return t.tagName==="SELECT"},ez=function(t){return t.tagName==="SLOT"},BL=function(t){return t.tagName.indexOf("-")>0},E3e=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(a){var l=n.counters[a.counter];l&&a.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var l=n.counters[a.counter];o.push(a.counter),l||(l=n.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),SL={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_L={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},b3e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},M3e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},hd=function(t,e,n,r,i,s){return t<e||t>n?l2(t,i,s.length>0):r.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=r.values[l];return o},"")+s},tz=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},sr=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(tz(Math.abs(t),s,r,function(o){return or(Math.floor(o%s)+e)})+i)},cc=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return tz(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},yd=1,Pl=2,Nl=4,E0=8,La=function(t,e,n,r,i,s){if(t<-9999||t>9999)return l2(t,4,i.length>0);var o=Math.abs(t),a=i;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var A=o%10;A===0&&Cr(s,yd)&&a!==""?a=e[A]+a:A>1||A===1&&l===0||A===1&&l===1&&Cr(s,Pl)||A===1&&l===1&&Cr(s,Nl)&&t>100||A===1&&l>1&&Cr(s,E0)?a=e[A]+(l>0?n[l-1]:"")+a:A===1&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},EL="十百千萬",bL="拾佰仟萬",ML="マイナス",r_="마이너스",l2=function(t,e,n){var r=n?". ":"",i=n?"、":"",s=n?", ":"",o=n?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=sr(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return cc(t,"〇一二三四五六七八九",i);case 6:return hd(t,1,3999,SL,3,r).toLowerCase();case 7:return hd(t,1,3999,SL,3,r);case 8:return sr(t,945,969,!1,r);case 9:return sr(t,97,122,!1,r);case 10:return sr(t,65,90,!1,r);case 11:return sr(t,1632,1641,!0,r);case 12:case 49:return hd(t,1,9999,_L,3,r);case 35:return hd(t,1,9999,_L,3,r).toLowerCase();case 13:return sr(t,2534,2543,!0,r);case 14:case 30:return sr(t,6112,6121,!0,r);case 15:return cc(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return cc(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return La(t,"零一二三四五六七八九",EL,"負",i,Pl|Nl|E0);case 47:return La(t,"零壹貳參肆伍陸柒捌玖",bL,"負",i,yd|Pl|Nl|E0);case 42:return La(t,"零一二三四五六七八九",EL,"负",i,Pl|Nl|E0);case 41:return La(t,"零壹贰叁肆伍陆柒捌玖",bL,"负",i,yd|Pl|Nl|E0);case 26:return La(t,"〇一二三四五六七八九","十百千万",ML,i,0);case 25:return La(t,"零壱弐参四伍六七八九","拾百千万",ML,i,yd|Pl|Nl);case 31:return La(t,"영일이삼사오육칠팔구","십백천만",r_,s,yd|Pl|Nl);case 33:return La(t,"零一二三四五六七八九","十百千萬",r_,s,0);case 32:return La(t,"零壹貳參四五六七八九","拾百千",r_,s,yd|Pl|Nl);case 18:return sr(t,2406,2415,!0,r);case 20:return hd(t,1,19999,M3e,3,r);case 21:return sr(t,2790,2799,!0,r);case 22:return sr(t,2662,2671,!0,r);case 22:return hd(t,1,10999,b3e,3,r);case 23:return cc(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return cc(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return sr(t,3302,3311,!0,r);case 28:return cc(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return cc(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return sr(t,3792,3801,!0,r);case 37:return sr(t,6160,6169,!0,r);case 38:return sr(t,4160,4169,!0,r);case 39:return sr(t,2918,2927,!0,r);case 40:return sr(t,1776,1785,!0,r);case 43:return sr(t,3046,3055,!0,r);case 44:return sr(t,3174,3183,!0,r);case 45:return sr(t,3664,3673,!0,r);case 46:return sr(t,3872,3881,!0,r);case 3:default:return sr(t,48,57,!0,r)}},nz="data-html2canvas-ignore",TL=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new E3e,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=T3e(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,A=U3e(i).then(function(){return Si(r,void 0,void 0,function(){var c,u;return oi(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(N3e),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,F3e(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,u)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(R3e(document.doctype)+"<html></html>"),P3e(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},t.prototype.createElementClone=function(e){if(X4(e,2))debugger;if(ZV(e))return this.createCanvasClone(e);if(wL(e))return this.createVideoClone(e);if(CL(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return Z4(n)&&(Z4(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),BL(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return i_(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!kd(n)||!_3e(n)&&!n.hasAttribute(nz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!kd(n)||!CL(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(kd(s)&&ez(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(n,a,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(YV(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&kd(e)&&(q4(e)||xv(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&q4(i)&&(this.clonedReferenceElement=i),mT(i)&&k3e(i);var l=this.counters.parse(new oL(this.context,s)),A=this.resolvePseudoContent(e,i,o,np.BEFORE);BL(e)&&(n=!0),wL(e)||this.cloneChildNodes(e,i,n),A&&i.insertBefore(A,i.firstChild);var c=this.resolvePseudoContent(e,i,a,np.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(s&&(this.options.copyStyles||xv(e))&&!JV(e)||n)&&i_(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Ex(e)||bx(e))&&(Ex(i)||bx(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new oL(this.context,r));var l=new wwe(this.context,r),A=a.createElement("html2canvaspseudoelement");i_(r,A),l.content.forEach(function(u){if(u.type===0)A.appendChild(a.createTextNode(u.value));else if(u.type===22){var d=a.createElement("img");d.src=u.value,d.style.opacity="1",A.appendChild(d)}else if(u.type===18){if(u.name==="attr"){var m=u.values.filter(Bn);m.length&&A.appendChild(a.createTextNode(e.getAttribute(m[0].value)||""))}else if(u.name==="counter"){var g=u.values.filter(jf),x=g[0],y=g[1];if(x&&Bn(x)){var v=s.counters.getCounterValue(x.value),w=y&&Bn(y)?W4.parse(s.context,y.value):3;A.appendChild(a.createTextNode(l2(v,w,!1)))}}else if(u.name==="counters"){var C=u.values.filter(jf),x=C[0],S=C[1],y=C[2];if(x&&Bn(x)){var M=s.counters.getCounterValues(x.value),b=y&&Bn(y)?W4.parse(s.context,y.value):3,T=S&&S.type===0?S.value:"",L=M.map(function(U){return l2(U,b,!1)}).join(T);A.appendChild(a.createTextNode(L))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(a.createTextNode(sL(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(a.createTextNode(sL(l.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(a.createTextNode(u.value))}}),A.className=J4+" "+eb;var c=i===np.BEFORE?" "+J4:" "+eb;return xv(n)?n.className.baseValue+=c:n.className+=c,A}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),np;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(np||(np={}));var T3e=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(nz,"true"),t.body.appendChild(n),n},I3e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},F3e=function(t){return Promise.all([].slice.call(t.images,0).map(I3e))},U3e=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},L3e=["all","d","content"],i_=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);L3e.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},R3e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},P3e=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},N3e=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},D3e=":before",O3e=":after",J4="___html2canvas___pseudoelement_before",eb="___html2canvas___pseudoelement_after",IL=`{
    content: "" !important;
    display: none !important;
}`,k3e=function(t){Q3e(t,"."+J4+D3e+IL+`
         .`+eb+O3e+IL)},Q3e=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},rz=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),H3e=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(o_(e)||G3e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Si(this,void 0,void 0,function(){var n,r,i,s,o=this;return oi(this,function(a){switch(a.label){case 0:return n=rz.isSameOrigin(e),r=!s_(e)&&this._options.useCORS===!0&&jr.SUPPORT_CORS_IMAGES&&!n,i=!s_(e)&&!n&&!o_(e)&&typeof this._options.proxy=="string"&&jr.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!s_(e)&&!o_(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,A){var c=new Image;c.onload=function(){return l(c)},c.onerror=A,(K3e(s)||r)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return l(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=jr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")s(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(d){return o(d)},!1),u.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var A=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+A+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),n._options.imageTimeout){var c=n._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}l.send()})},t}(),j3e=/^data:image\/svg\+xml/i,V3e=/^data:image\/.*;base64,/i,z3e=/^data:image\/.*/i,G3e=function(t){return jr.SUPPORT_SVG_DRAWING||!W3e(t)},s_=function(t){return z3e.test(t)},K3e=function(t){return V3e.test(t)},o_=function(t){return t.substr(0,4)==="blob"},W3e=function(t){return t.substr(-3).toLowerCase()==="svg"||j3e.test(t)},tt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),pd=function(t,e,n){return new tt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},k1=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=pd(this.start,this.startControl,e),i=pd(this.startControl,this.endControl,e),s=pd(this.endControl,this.end,e),o=pd(r,i,e),a=pd(i,s,e),l=pd(o,a,e);return n?new t(this.start,r,o,l):new t(l,a,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Gs=function(t){return t.type===1},X3e=function(){function t(e){var n=e.styles,r=e.bounds,i=S0(n.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],a=S0(n.borderTopRightRadius,r.width,r.height),l=a[0],A=a[1],c=S0(n.borderBottomRightRadius,r.width,r.height),u=c[0],d=c[1],m=S0(n.borderBottomLeftRadius,r.width,r.height),g=m[0],x=m[1],y=[];y.push((s+l)/r.width),y.push((g+u)/r.width),y.push((o+x)/r.height),y.push((A+d)/r.height);var v=Math.max.apply(Math,y);v>1&&(s/=v,o/=v,l/=v,A/=v,u/=v,d/=v,g/=v,x/=v);var w=r.width-l,C=r.height-d,S=r.width-u,M=r.height-x,b=n.borderTopWidth,T=n.borderRightWidth,L=n.borderBottomWidth,P=n.borderLeftWidth,E=In(n.paddingTop,e.bounds.width),U=In(n.paddingRight,e.bounds.width),j=In(n.paddingBottom,e.bounds.width),Q=In(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?On(r.left+P/3,r.top+b/3,s-P/3,o-b/3,gn.TOP_LEFT):new tt(r.left+P/3,r.top+b/3),this.topRightBorderDoubleOuterBox=s>0||o>0?On(r.left+w,r.top+b/3,l-T/3,A-b/3,gn.TOP_RIGHT):new tt(r.left+r.width-T/3,r.top+b/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?On(r.left+S,r.top+C,u-T/3,d-L/3,gn.BOTTOM_RIGHT):new tt(r.left+r.width-T/3,r.top+r.height-L/3),this.bottomLeftBorderDoubleOuterBox=g>0||x>0?On(r.left+P/3,r.top+M,g-P/3,x-L/3,gn.BOTTOM_LEFT):new tt(r.left+P/3,r.top+r.height-L/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?On(r.left+P*2/3,r.top+b*2/3,s-P*2/3,o-b*2/3,gn.TOP_LEFT):new tt(r.left+P*2/3,r.top+b*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?On(r.left+w,r.top+b*2/3,l-T*2/3,A-b*2/3,gn.TOP_RIGHT):new tt(r.left+r.width-T*2/3,r.top+b*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?On(r.left+S,r.top+C,u-T*2/3,d-L*2/3,gn.BOTTOM_RIGHT):new tt(r.left+r.width-T*2/3,r.top+r.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||x>0?On(r.left+P*2/3,r.top+M,g-P*2/3,x-L*2/3,gn.BOTTOM_LEFT):new tt(r.left+P*2/3,r.top+r.height-L*2/3),this.topLeftBorderStroke=s>0||o>0?On(r.left+P/2,r.top+b/2,s-P/2,o-b/2,gn.TOP_LEFT):new tt(r.left+P/2,r.top+b/2),this.topRightBorderStroke=s>0||o>0?On(r.left+w,r.top+b/2,l-T/2,A-b/2,gn.TOP_RIGHT):new tt(r.left+r.width-T/2,r.top+b/2),this.bottomRightBorderStroke=u>0||d>0?On(r.left+S,r.top+C,u-T/2,d-L/2,gn.BOTTOM_RIGHT):new tt(r.left+r.width-T/2,r.top+r.height-L/2),this.bottomLeftBorderStroke=g>0||x>0?On(r.left+P/2,r.top+M,g-P/2,x-L/2,gn.BOTTOM_LEFT):new tt(r.left+P/2,r.top+r.height-L/2),this.topLeftBorderBox=s>0||o>0?On(r.left,r.top,s,o,gn.TOP_LEFT):new tt(r.left,r.top),this.topRightBorderBox=l>0||A>0?On(r.left+w,r.top,l,A,gn.TOP_RIGHT):new tt(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||d>0?On(r.left+S,r.top+C,u,d,gn.BOTTOM_RIGHT):new tt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=g>0||x>0?On(r.left,r.top+M,g,x,gn.BOTTOM_LEFT):new tt(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?On(r.left+P,r.top+b,Math.max(0,s-P),Math.max(0,o-b),gn.TOP_LEFT):new tt(r.left+P,r.top+b),this.topRightPaddingBox=l>0||A>0?On(r.left+Math.min(w,r.width-T),r.top+b,w>r.width+T?0:Math.max(0,l-T),Math.max(0,A-b),gn.TOP_RIGHT):new tt(r.left+r.width-T,r.top+b),this.bottomRightPaddingBox=u>0||d>0?On(r.left+Math.min(S,r.width-P),r.top+Math.min(C,r.height-L),Math.max(0,u-T),Math.max(0,d-L),gn.BOTTOM_RIGHT):new tt(r.left+r.width-T,r.top+r.height-L),this.bottomLeftPaddingBox=g>0||x>0?On(r.left+P,r.top+Math.min(M,r.height-L),Math.max(0,g-P),Math.max(0,x-L),gn.BOTTOM_LEFT):new tt(r.left+P,r.top+r.height-L),this.topLeftContentBox=s>0||o>0?On(r.left+P+Q,r.top+b+E,Math.max(0,s-(P+Q)),Math.max(0,o-(b+E)),gn.TOP_LEFT):new tt(r.left+P+Q,r.top+b+E),this.topRightContentBox=l>0||A>0?On(r.left+Math.min(w,r.width+P+Q),r.top+b+E,w>r.width+P+Q?0:l-P+Q,A-(b+E),gn.TOP_RIGHT):new tt(r.left+r.width-(T+U),r.top+b+E),this.bottomRightContentBox=u>0||d>0?On(r.left+Math.min(S,r.width-(P+Q)),r.top+Math.min(C,r.height+b+E),Math.max(0,u-(T+U)),d-(L+j),gn.BOTTOM_RIGHT):new tt(r.left+r.width-(T+U),r.top+r.height-(L+j)),this.bottomLeftContentBox=g>0||x>0?On(r.left+P+Q,r.top+M,Math.max(0,g-(P+Q)),x-(L+j),gn.BOTTOM_LEFT):new tt(r.left+P+Q,r.top+r.height-(L+j))}return t}(),gn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(gn||(gn={}));var On=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),o=n*s,a=r*s,l=t+n,A=e+r;switch(i){case gn.TOP_LEFT:return new k1(new tt(t,A),new tt(t,A-a),new tt(l-o,e),new tt(l,e));case gn.TOP_RIGHT:return new k1(new tt(t,e),new tt(t+o,e),new tt(l,A-a),new tt(l,A));case gn.BOTTOM_RIGHT:return new k1(new tt(l,e),new tt(l,e+a),new tt(t+o,A),new tt(t,A));case gn.BOTTOM_LEFT:default:return new k1(new tt(l,A),new tt(l-o,A),new tt(t,e+a),new tt(t,e))}},Mx=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},$3e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Tx=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Y3e=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Q1=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),q3e=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Z3e=function(t){return t.type===0},iz=function(t){return t.type===1},J3e=function(t){return t.type===2},FL=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},eCe=function(t,e,n,r,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},sz=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),oz=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new X3e(this.container),this.container.styles.opacity<1&&this.effects.push(new q3e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Y3e(r,i,s))}if(this.container.styles.overflowX!==0){var o=Mx(this.curves),a=Tx(this.curves);FL(o,a)?this.effects.push(new Q1(o,6)):(this.effects.push(new Q1(o,2)),this.effects.push(new Q1(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!iz(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=Mx(r.curves),a=Tx(r.curves);FL(o,a)||i.unshift(new Q1(a,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Cr(l.target,e)})},t}(),tb=function(t,e,n,r){t.container.elements.forEach(function(i){var s=Cr(i.flags,4),o=Cr(i.flags,2),a=new oz(i,t);Cr(i.styles.display,2048)&&r.push(a);var l=Cr(i.flags,8)?[]:r;if(s||o){var A=s||i.styles.isPositioned()?n:e,c=new sz(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some(function(g,x){return u>g.element.container.styles.zIndex.order?(d=x,!1):d>0}),A.negativeZIndex.splice(d,0,c)}else if(u>0){var m=0;A.positiveZIndex.some(function(g,x){return u>=g.element.container.styles.zIndex.order?(m=x+1,!1):m>0}),A.positiveZIndex.splice(m,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);tb(a,c,s?c:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),tb(a,e,n,l);Cr(i.flags,8)&&az(i,l)})},az=function(t,e){for(var n=t instanceof Y4?t.start:1,r=t instanceof Y4?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof zV&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=l2(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},tCe=function(t){var e=new oz(t,null),n=new sz(e),r=[];return tb(e,n,n,r),az(e.container,r),n},UL=function(t,e){switch(e){case 0:return Zs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Zs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Zs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Zs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},nCe=function(t,e){switch(e){case 0:return Zs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Zs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Zs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Zs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},rCe=function(t,e){switch(e){case 0:return Zs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Zs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Zs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Zs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},iCe=function(t,e){switch(e){case 0:return H1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return H1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return H1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return H1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},H1=function(t,e){var n=[];return Gs(t)?n.push(t.subdivide(.5,!1)):n.push(t),Gs(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Zs=function(t,e,n,r){var i=[];return Gs(t)?i.push(t.subdivide(.5,!1)):i.push(t),Gs(n)?i.push(n.subdivide(.5,!0)):i.push(n),Gs(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Gs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},lz=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Ix=function(t){var e=t.styles,n=t.bounds,r=In(e.paddingLeft,n.width),i=In(e.paddingRight,n.width),s=In(e.paddingTop,n.width),o=In(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},sCe=function(t,e){return t===0?e.bounds:t===2?Ix(e):lz(e)},oCe=function(t,e){return t===0?e.bounds:t===2?Ix(e):lz(e)},a_=function(t,e,n){var r=sCe(xd(t.styles.backgroundOrigin,e),t),i=oCe(xd(t.styles.backgroundClip,e),t),s=aCe(xd(t.styles.backgroundSize,e),n,r),o=s[0],a=s[1],l=S0(xd(t.styles.backgroundPosition,e),r.width-o,r.height-a),A=lCe(xd(t.styles.backgroundRepeat,e),l,s,r,i),c=Math.round(r.left+l[0]),u=Math.round(r.top+l[1]);return[A,c,u,o,a]},md=function(t){return Bn(t)&&t.value===tf.AUTO},j1=function(t){return typeof t=="number"},aCe=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(fr(o)&&a&&fr(a))return[In(o,n.width),In(a,n.height)];var l=j1(s);if(Bn(o)&&(o.value===tf.CONTAIN||o.value===tf.COVER)){if(j1(s)){var A=n.width/n.height;return A<s!=(o.value===tf.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var c=j1(r),u=j1(i),d=c||u;if(md(o)&&(!a||md(a))){if(c&&u)return[r,i];if(!l&&!d)return[n.width,n.height];if(d&&l){var m=c?r:i*s,g=u?i:r/s;return[m,g]}var x=c?r:n.width,y=u?i:n.height;return[x,y]}if(l){var v=0,w=0;return fr(o)?v=In(o,n.width):fr(a)&&(w=In(a,n.height)),md(o)?v=w*s:(!a||md(a))&&(w=v/s),[v,w]}var C=null,S=null;if(fr(o)?C=In(o,n.width):a&&fr(a)&&(S=In(a,n.height)),C!==null&&(!a||md(a))&&(S=c&&u?C/r*i:n.height),S!==null&&md(o)&&(C=c&&u?S/i*r:n.width),C!==null&&S!==null)return[C,S];throw new Error("Unable to calculate background-size for element")},xd=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},lCe=function(t,e,n,r,i){var s=e[0],o=e[1],a=n[0],l=n[1];switch(t){case 2:return[new tt(Math.round(r.left),Math.round(r.top+o)),new tt(Math.round(r.left+r.width),Math.round(r.top+o)),new tt(Math.round(r.left+r.width),Math.round(l+r.top+o)),new tt(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new tt(Math.round(r.left+s),Math.round(r.top)),new tt(Math.round(r.left+s+a),Math.round(r.top)),new tt(Math.round(r.left+s+a),Math.round(r.height+r.top)),new tt(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new tt(Math.round(r.left+s),Math.round(r.top+o)),new tt(Math.round(r.left+s+a),Math.round(r.top+o)),new tt(Math.round(r.left+s+a),Math.round(r.top+o+l)),new tt(Math.round(r.left+s),Math.round(r.top+o+l))];default:return[new tt(Math.round(i.left),Math.round(i.top)),new tt(Math.round(i.left+i.width),Math.round(i.top)),new tt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new tt(Math.round(i.left),Math.round(i.height+i.top))]}},ACe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",LL="Hidden Text",cCe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=ACe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(LL)),r.appendChild(s),r.appendChild(i);var a=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(LL)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Az=function(){function t(e,n){this.context=e,this.options=n}return t}(),uCe=1e4,dCe=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new cCe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),J3e(n)&&(this.ctx.globalAlpha=n.opacity),Z3e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),iz(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Si(this,void 0,void 0,function(){var r;return oi(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Si(this,void 0,void 0,function(){return oi(this,function(r){switch(r.label){case 0:if(Cr(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=hT(n.text);o.reduce(function(a,l){return s.ctx.fillText(l,a,n.bounds.top+i),a+s.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=gCe(n.fontFamily).join(", "),s=q2(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return Si(this,void 0,void 0,function(){var i,s,o,a,l,A,c,u,d=this;return oi(this,function(m){return i=this.createFontStyle(r),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),A=l.baseline,c=l.middle,u=r.paintOrder,n.textBounds.forEach(function(g){u.forEach(function(x){switch(x){case 0:d.ctx.fillStyle=Ur(r.color),d.renderTextWithLetterSpacing(g,r.letterSpacing,A);var y=r.textShadow;y.length&&g.text.trim().length&&(y.slice(0).reverse().forEach(function(v){d.ctx.shadowColor=Ur(v.color),d.ctx.shadowOffsetX=v.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=v.offsetY.number*d.options.scale,d.ctx.shadowBlur=v.blur.number,d.renderTextWithLetterSpacing(g,r.letterSpacing,A)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=Ur(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(v){switch(v){case 1:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+A),g.bounds.width,1);break;case 2:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:d.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+c),g.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&g.text.trim().length&&(d.ctx.strokeStyle=Ur(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+A)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Ix(n),o=Tx(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Si(this,void 0,void 0,function(){var r,i,s,o,a,l,w,w,A,c,u,d,S,m,g,M,x,y,v,w,C,S,M;return oi(this,function(b){switch(b.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,o=0,a=r.textNodes,b.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:b.sent(),b.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof HV))return[3,8];b.label=5;case 5:return b.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=b.sent(),this.renderReplacedElement(r,i,w),[3,8];case 7:return b.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof jV&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof VV))return[3,12];b.label=9;case 9:return b.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=b.sent(),this.renderReplacedElement(r,i,w),[3,12];case 11:return b.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof WV&&r.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,A.render(r.tree)]):[3,14];case 13:c=b.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),b.label=14;case 14:if(r instanceof pT&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===Sx?r.checked&&(this.ctx.save(),this.path([new tt(r.bounds.left+u*.39363,r.bounds.top+u*.79),new tt(r.bounds.left+u*.16,r.bounds.top+u*.5549),new tt(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new tt(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new tt(r.bounds.left+u*.72983,r.bounds.top+u*.23),new tt(r.bounds.left+u*.84,r.bounds.top+u*.34085),new tt(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=Ur(xL),this.ctx.fill(),this.ctx.restore()):r.type===_x&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ur(xL),this.ctx.fill(),this.ctx.restore())),fCe(r)&&r.value.length){switch(d=this.createFontStyle(s),S=d[0],m=d[1],g=this.fontMetrics.getMetrics(S,m).baseline,this.ctx.font=S,this.ctx.fillStyle=Ur(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pCe(r.styles.textAlign),M=Ix(r),x=0,r.styles.textAlign){case 1:x+=M.width/2;break;case 2:x+=M.width;break}y=M.add(x,0,0,-M.height/2+1),this.ctx.save(),this.path([new tt(M.left,M.top),new tt(M.left+M.width,M.top),new tt(M.left+M.width,M.top+M.height),new tt(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tp(r.value,y),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Cr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(v=r.styles.listStyleImage,v.type!==0)return[3,18];w=void 0,C=v.url,b.label=15;case 15:return b.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return w=b.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return b.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(S=this.createFontStyle(s)[0],this.ctx.font=S,this.ctx.fillStyle=Ur(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new ol(r.bounds.left,r.bounds.top+In(r.styles.paddingTop,r.bounds.width),r.bounds.width,rL(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tp(n.listValue,M),s.letterSpacing,rL(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),b.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Si(this,void 0,void 0,function(){var r,i,v,s,o,v,a,l,v,A,c,v,u,d,v,m,g,v,x,y,v;return oi(this,function(w){switch(w.label){case 0:if(Cr(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,i=n.negativeZIndex,w.label=2;case 2:return r<i.length?(v=i[r],[4,this.renderStack(v)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),s=0,o=n.nonInlineLevel,w.label=7;case 7:return s<o.length?(v=o[s],[4,this.renderNode(v)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:a=0,l=n.nonPositionedFloats,w.label=11;case 11:return a<l.length?(v=l[a],[4,this.renderStack(v)]):[3,14];case 12:w.sent(),w.label=13;case 13:return a++,[3,11];case 14:A=0,c=n.nonPositionedInlineLevel,w.label=15;case 15:return A<c.length?(v=c[A],[4,this.renderStack(v)]):[3,18];case 16:w.sent(),w.label=17;case 17:return A++,[3,15];case 18:u=0,d=n.inlineLevel,w.label=19;case 19:return u<d.length?(v=d[u],[4,this.renderNode(v)]):[3,22];case 20:w.sent(),w.label=21;case 21:return u++,[3,19];case 22:m=0,g=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return m<g.length?(v=g[m],[4,this.renderStack(v)]):[3,26];case 24:w.sent(),w.label=25;case 25:return m++,[3,23];case 26:x=0,y=n.positiveZIndex,w.label=27;case 27:return x<y.length?(v=y[x],[4,this.renderStack(v)]):[3,30];case 28:w.sent(),w.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var o=Gs(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Gs(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,i);var l=a.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),a},e.prototype.renderBackgroundImage=function(n){return Si(this,void 0,void 0,function(){var r,i,s,o,a,l;return oi(this,function(A){switch(A.label){case 0:r=n.styles.backgroundImage.length-1,i=function(c){var u,d,m,E,k,V,Q,G,L,g,E,k,V,Q,G,x,y,v,w,C,S,M,b,T,L,P,E,U,j,Q,G,J,k,V,N,W,Y,re,Se,Fe,ce,pe;return oi(this,function(Be){switch(Be.label){case 0:if(c.type!==0)return[3,5];u=void 0,d=c.url,Be.label=1;case 1:return Be.trys.push([1,3,,4]),[4,s.context.cache.match(d)];case 2:return u=Be.sent(),[3,4];case 3:return Be.sent(),s.context.logger.error("Error loading background-image "+d),[3,4];case 4:return u&&(m=a_(n,r,[u.width,u.height,u.width/u.height]),E=m[0],k=m[1],V=m[2],Q=m[3],G=m[4],L=s.ctx.createPattern(s.resizeImage(u,Q,G),"repeat"),s.renderRepeat(E,L,k,V)),[3,6];case 5:Zye(c)?(g=a_(n,r,[null,null,null]),E=g[0],k=g[1],V=g[2],Q=g[3],G=g[4],x=Wye(c.angle,Q,G),y=x[0],v=x[1],w=x[2],C=x[3],S=x[4],M=document.createElement("canvas"),M.width=Q,M.height=G,b=M.getContext("2d"),T=b.createLinearGradient(v,C,w,S),tL(c.stops,y).forEach(function(Le){return T.addColorStop(Le.stop,Ur(Le.color))}),b.fillStyle=T,b.fillRect(0,0,Q,G),Q>0&&G>0&&(L=s.ctx.createPattern(M,"repeat"),s.renderRepeat(E,L,k,V))):Jye(c)&&(P=a_(n,r,[null,null,null]),E=P[0],U=P[1],j=P[2],Q=P[3],G=P[4],J=c.position.length===0?[uT]:c.position,k=In(J[0],Q),V=In(J[J.length-1],G),N=Xye(c,k,V,Q,G),W=N[0],Y=N[1],W>0&&Y>0&&(re=s.ctx.createRadialGradient(U+k,j+V,0,U+k,j+V,W),tL(c.stops,W*2).forEach(function(Le){return re.addColorStop(Le.stop,Ur(Le.color))}),s.path(E),s.ctx.fillStyle=re,W!==Y?(Se=n.bounds.left+.5*n.bounds.width,Fe=n.bounds.top+.5*n.bounds.height,ce=Y/W,pe=1/ce,s.ctx.save(),s.ctx.translate(Se,Fe),s.ctx.transform(1,0,0,ce,0,0),s.ctx.translate(-Se,-Fe),s.ctx.fillRect(U,pe*(j-Fe)+Fe,Q,G*pe),s.ctx.restore()):s.ctx.fill())),Be.label=6;case 6:return r--,[2]}})},s=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<a.length?(l=a[o],[5,i(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Si(this,void 0,void 0,function(){return oi(this,function(s){return this.path(UL(i,r)),this.ctx.fillStyle=Ur(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return Si(this,void 0,void 0,function(){var o,a;return oi(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return o=nCe(s,i),this.path(o),this.ctx.fillStyle=Ur(n),this.ctx.fill(),a=rCe(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Si(this,void 0,void 0,function(){var r,i,s,o,a,l,A,c,u=this;return oi(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!_A(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=hCe(xd(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),_A(r.backgroundColor)||(this.ctx.fillStyle=Ur(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(m){u.ctx.save();var g=Mx(n.curves),x=m.inset?0:uCe,y=eCe(g,-x+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(u.path(g),u.ctx.clip(),u.mask(y)):(u.mask(g),u.ctx.clip(),u.path(y)),u.ctx.shadowOffsetX=m.offsetX.number+x,u.ctx.shadowOffsetY=m.offsetY.number,u.ctx.shadowColor=Ur(m.color),u.ctx.shadowBlur=m.blur.number,u.ctx.fillStyle=m.inset?Ur(m.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),d.label=2;case 2:a=0,l=0,A=s,d.label=3;case 3:return l<A.length?(c=A[l],c.style!==0&&!_A(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,n.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,o){return Si(this,void 0,void 0,function(){var a,l,A,c,u,d,m,g,x,y,v,w,C,S,M,b,M,b;return oi(this,function(T){return this.ctx.save(),a=iCe(s,i),l=UL(s,i),o===2&&(this.path(l),this.ctx.clip()),Gs(l[0])?(A=l[0].start.x,c=l[0].start.y):(A=l[0].x,c=l[0].y),Gs(l[1])?(u=l[1].end.x,d=l[1].end.y):(u=l[1].x,d=l[1].y),i===0||i===2?m=Math.abs(A-u):m=Math.abs(c-d),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),g=r<3?r*3:r*2,x=r<3?r*2:r,o===3&&(g=r,x=r),y=!0,m<=g*2?y=!1:m<=g*2+x?(v=m/(2*g+x),g*=v,x*=v):(w=Math.floor((m+x)/(g+x)),C=(m-w*g)/(w-1),S=(m-(w+1)*g)/w,x=S<=0||Math.abs(x-C)<Math.abs(x-S)?C:S),y&&(o===3?this.ctx.setLineDash([0,g+x]):this.ctx.setLineDash([g,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ur(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Gs(l[0])&&(M=l[3],b=l[0],this.ctx.beginPath(),this.formatPath([new tt(M.end.x,M.end.y),new tt(b.start.x,b.start.y)]),this.ctx.stroke()),Gs(l[1])&&(M=l[1],b=l[2],this.ctx.beginPath(),this.formatPath([new tt(M.end.x,M.end.y),new tt(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Si(this,void 0,void 0,function(){var r;return oi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ur(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=tCe(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Az),fCe=function(t){return t instanceof KV||t instanceof GV?!0:t instanceof pT&&t.type!==_x&&t.type!==Sx},hCe=function(t,e){switch(t){case 0:return Mx(e);case 2:return $3e(e);case 1:default:return Tx(e)}},pCe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},mCe=["-apple-system","system-ui"],gCe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return mCe.indexOf(e)===-1}):t},vCe=function(t){Qo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Si(this,void 0,void 0,function(){var r,i;return oi(this,function(s){switch(s.label){case 0:return r=$4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,yCe(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ur(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Az),yCe=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},xCe=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,x1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,x1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,x1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,x1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),wCe=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new xCe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new H3e(this,e)}return t.instanceCount=1,t}(),CCe=function(t,e){return e===void 0&&(e={}),BCe(t,e)};typeof window<"u"&&rz.setContext(window);var BCe=function(t,e){return Si(void 0,void 0,void 0,function(){var n,r,i,s,o,a,l,A,c,u,d,m,g,x,y,v,w,C,S,M,T,b,T,L,P,E,U,j,Q,G,J,k,V,N,W,Y,re,Se,Fe,ce;return oi(this,function(pe){switch(pe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(P=e.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:e.proxy,useCORS:(E=e.useCORS)!==null&&E!==void 0?E:!1},s=R4({logging:(U=e.logging)!==null&&U!==void 0?U:!0,cache:e.cache},i),o={windowWidth:(j=e.windowWidth)!==null&&j!==void 0?j:r.innerWidth,windowHeight:(Q=e.windowHeight)!==null&&Q!==void 0?Q:r.innerHeight,scrollX:(G=e.scrollX)!==null&&G!==void 0?G:r.pageXOffset,scrollY:(J=e.scrollY)!==null&&J!==void 0?J:r.pageYOffset},a=new ol(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new wCe(s,a),A=(k=e.foreignObjectRendering)!==null&&k!==void 0?k:!1,c={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),u=new TL(l,t,c),d=u.clonedReferenceElement,d?[4,u.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=pe.sent(),g=mT(d)||S3e(d)?eve(d.ownerDocument):A3(l,d),x=g.width,y=g.height,v=g.left,w=g.top,C=SCe(l,d,e.backgroundColor),S={canvas:e.canvas,backgroundColor:C,scale:(W=(N=e.scale)!==null&&N!==void 0?N:r.devicePixelRatio)!==null&&W!==void 0?W:1,x:((Y=e.x)!==null&&Y!==void 0?Y:0)+v,y:((re=e.y)!==null&&re!==void 0?re:0)+w,width:(Se=e.width)!==null&&Se!==void 0?Se:Math.ceil(x),height:(Fe=e.height)!==null&&Fe!==void 0?Fe:Math.ceil(y)},A?(l.logger.debug("Document cloned, using foreign object rendering"),T=new vCe(l,S),[4,T.render(d)]):[3,3];case 2:return M=pe.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+v+","+w+" with size "+x+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),b=$V(l,d),C===b.styles.backgroundColor&&(b.styles.backgroundColor=qa.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),T=new dCe(l,S),[4,T.render(b)];case 4:M=pe.sent(),pe.label=5;case 5:return(!((ce=e.removeContainer)!==null&&ce!==void 0)||ce)&&(TL.destroy(m)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},SCe=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?J0(t,getComputedStyle(r.documentElement).backgroundColor):qa.TRANSPARENT,s=r.body?J0(t,getComputedStyle(r.body).backgroundColor):qa.TRANSPARENT,o=typeof n=="string"?J0(t,n):n===null?qa.TRANSPARENT:4294967295;return e===r.documentElement?_A(i)?_A(s)?o:s:i:o};const _Ce="data:image/svg+xml,%3csvg%20width='285'%20height='430'%20viewBox='0%200%20285%20430'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M253%2011H285L270.971%2095.8833V131.99L276.91%20430H268.622L261.497%20140.031L253%2011Z'%20fill='url(%23paint0_linear_4241_51044)'/%3e%3cpath%20d='M0%200L264%200.00111653V108.652L0%2086.8555V0Z'%20fill='%23FFFBEC'/%3e%3cpath%20d='M5%20119L269%20128.633V426H5V119Z'%20fill='%23FFFBEC'/%3e%3cpath%20d='M0.00769043%2086.4248L263.937%2095.241L268.999%20128.996L5.21275%20120.476L0.00769043%2086.4248Z'%20fill='%23FFF8DA'/%3e%3crect%20x='10'%20y='426'%20width='264'%20height='4'%20fill='%23DDDDDD'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4241_51044'%20x1='282.606'%20y1='219.824'%20x2='266.849'%20y2='219.824'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EEEEEE'/%3e%3cstop%20offset='1'%20stop-color='%23DDDDDD'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ECe="data:image/svg+xml,%3csvg%20width='31'%20height='30'%20viewBox='0%200%2031%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Info/Star'%20filter='url(%23filter0_i_4256_29276)'%3e%3cpath%20id='Vector%203'%20d='M12.9327%207.51994L13.1638%207.64822C15.8355%209.13143%2019.2021%207.91862%2020.3141%205.07227C20.5407%204.49246%2021.381%204.55634%2021.5173%205.16373L24.7541%2019.5902C25.2325%2021.7222%2024.2698%2023.9178%2022.3775%2025.0103C20.4852%2026.1028%2018.1025%2025.8388%2016.4953%2024.3585L5.61999%2014.342C5.16212%2013.9203%205.52697%2013.1606%206.14236%2013.2543C9.1634%2013.7145%2011.897%2011.4054%2011.9484%208.34992L11.9528%208.08566C11.9612%207.58768%2012.4972%207.27821%2012.9327%207.51994Z'%20fill='%23F6EFCE'%20stroke='%23F6EFCE'%20stroke-width='2.97319'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_i_4256_29276'%20x='0.5'%20y='0'%20width='30'%20height='30'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='2'%20dy='1'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.907992%200%200%200%200%200.881489%200%200%200%200%200.766266%200%200%200%201%200'/%3e%3cfeBlend%20mode='normal'%20in2='shape'%20result='effect1_innerShadow_4256_29276'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",V1="data:image/svg+xml,%3csvg%20width='231'%20height='1'%20viewBox='0%200%20231%201'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20y1='0.5'%20x2='231'%20y2='0.5'%20stroke='%23E2E2E2'%20stroke-dasharray='2%202'/%3e%3c/svg%3e",bCe=t=>{const e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1;if(r===12)return{dateRange:`${n}`};if(r>=1&&r<=2)return{dateRange:`${n}.01${r===2?`~${n}.02`:""}`};if(r>=3&&r<=5)return{dateRange:`${n}.03${r>3?`~${n}.${String(r).padStart(2,"0")}`:""}`};if(r>=6&&r<=8)return{dateRange:`${n}.06${r>6?`~${n}.${String(r).padStart(2,"0")}`:""}`};if(r>=9&&r<=11)return{dateRange:`${n}.09${r>9?`~${n}.${String(r).padStart(2,"0")}`:""}`}},MCe=()=>{const[t,e]=F.useState(null),n=bCe(t==null?void 0:t.currentDate);return F.useEffect(()=>{(async()=>{try{const i=await N1e();console.log("조회 성공: ",i),e(i)}catch(i){console.error("오류 발생: ",i)}})()},[]),p.jsxs("div",{className:"relative flex flex-col items-center w-[285px] h-[430px]",children:[p.jsx("img",{className:"absolute top-0 left-0 w-[285px] h-[430px] z-[-1]",src:_Ce}),p.jsxs("div",{className:"flex flex-col items-center z-[1]",children:[p.jsxs("div",{className:" text-center mt-[27px] pr-[21px] text-st font-semibold",children:[p.jsx("span",{className:"font-regular",children:t==null?void 0:t.nickname}),"님의",p.jsx("br",{}),t==null?void 0:t.season," 독서 리포트"]}),p.jsxs("div",{className:"mt-5 mb-[1.1431rem] pr-4 text-b2 text-gray-500 font-semibold rotate-[1.417deg]",children:["Date ",n==null?void 0:n.dateRange]}),p.jsxs("div",{className:"relative flex flex-col pr-4 gap-2 text-gray-800 text-b2 font-semibold",children:[p.jsx("img",{className:"w-[14.4375rem] h-[0.0625rem]",src:V1}),p.jsxs("div",{className:"flex justify-between px-2 ",children:["다 읽은 책",p.jsxs("span",{children:[t==null?void 0:t.finishedBookCount," "]})]}),p.jsx("img",{className:"w-[14.4375rem] h-[0.0625rem]",src:V1}),p.jsxs("div",{className:"flex flex-col px-2 gap-1",children:[p.jsxs("div",{className:"flex justify-between",children:["선호하는 작가",p.jsx("span",{children:t==null?void 0:t.mostReadAuthor})]}),p.jsxs("div",{className:"flex justify-between",children:["선호하는 장르",p.jsx("span",{children:t==null?void 0:t.mostReadGenre})]}),p.jsxs("div",{className:"flex justify-between",children:["기록 키워드",p.jsx("span",{children:t==null?void 0:t.keyword})]})]}),p.jsx("img",{className:"mb-0.5 w-[14.4375rem] h-[0.0625rem]",src:V1}),p.jsxs("div",{className:"flex flex-col px-2 gap-1",children:[p.jsxs("div",{className:"flex justify-between",children:["발췌",p.jsx("span",{children:t==null?void 0:t.excerptCount})]}),p.jsxs("div",{className:"flex justify-between",children:["감상",p.jsx("span",{children:t==null?void 0:t.reviewCount})]}),p.jsxs("div",{className:"flex justify-between",children:["TOTAL",p.jsx("span",{children:t==null?void 0:t.bookRecordCount})]})]}),p.jsx("img",{className:"mt-0.5 w-[14.4375rem] h-[0.0625rem]",src:V1})]}),p.jsx("div",{className:"absolute bottom-[1.375rem] left-[6.4063rem] flex items-center text-[0.6875rem] font-caprasimo text-gray-500 z-10 w-[3.75rem] h-[0.8125rem]",children:"BookDuck"}),p.jsx("img",{className:"absolute bottom-[0.8125rem] left-[7.2813rem] w-[1.875rem] h-[1.875rem]",src:ECe})]})]})},TCe=()=>{const t=F.useRef(null),e=async()=>{if(t.current)try{const r=(await CCe(t.current,{backgroundColor:null,logging:!1})).toDataURL("image/png"),i=document.createElement("a");i.href=r,i.download="statistics-summary.png",i.click()}catch(n){console.error("이미지 저장 실패: ",n)}};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx(oV,{title:"통계 요약 이미지 내보내기"}),p.jsxs("div",{className:"flex flex-col items-center mt-[6.1875rem]",children:[p.jsx("div",{ref:t,style:{background:"transparent",overflow:"hidden"},children:p.jsx(MCe,{})}),p.jsx("div",{className:"mt-[3.6875rem] px-6 py-2.5 text-btn2 text-gray-600 font-semibold bg-gray-100 rounded-[63rem] cursor-pointer",onClick:e,children:"이미지 저장"})]})]})},y3=({type:t="primary",tabs:e=[],activeTab:n,activeTabs:r,multiple:i=!1,onTabClick:s})=>p.jsx(p.Fragment,{children:p.jsx("div",{className:`flex ${t==="primary"?"gap-[0.62rem]":"gap-2"}`,children:e.map((o,a)=>p.jsx("div",{onClick:()=>s(o),className:`h-7 px-3 py-[0.38rem] rounded-[1.88rem] ${t==="primary"?(i?r.includes(o):n===o)?"w-18 bg-gray-700":"w-18 border-[0.0625rem] border-gray-200 bg-gray-50":(i?r.includes(o):n===o)?"w-20 bg-orange-400":"w-20 border-[0.0625rem] border-gray-200 bg-gray-50"}  text-c1 cursor-pointer`,children:p.jsx("div",{className:`flex justify-center items-center ${t==="primary"?"w-[3rem]":"w-[3.5rem]"} h-4 text-c1 ${(i?r.includes(o):n===o)?"text-white":"text-gray-400"}`,children:o})},a))})}),gT=[{id:1,color:"#ABABAB"},{id:2,color:"#8A8A8A"},{id:3,color:"#636363"},{id:4,color:"#3A3A3A"},{id:5,color:"#F2C4CF"},{id:6,color:"#F294AE"},{id:7,color:"#F272A2"},{id:8,color:"#F24A98"},{id:9,color:"#F2CD5B"},{id:10,color:"#EAB11A"},{id:11,color:"#F2B443"},{id:12,color:"#F29B31"},{id:13,color:"#A9D9BF"},{id:14,color:"#97A884"},{id:15,color:"#739466"},{id:16,color:"#00462A"},{id:17,color:"#7391C8"},{id:18,color:"#6D77AF"},{id:19,color:"#6D77AF"},{id:20,color:"#2F4ACD"},{id:21,color:"#A76C4C"},{id:22,color:"#86684C"},{id:23,color:"#6E5B54"},{id:24,color:"#594336"}],Fx=({palette:t,handleColor:e})=>p.jsx(p.Fragment,{children:p.jsx("div",{className:`${t===gT?"grid grid-rows-4 grid-flow-col gap-7":"grid grid-rows-3 grid-flow-col gap-x-[2.7rem] gap-y-5"} `,children:t.map((n,r)=>p.jsx("div",{onClick:()=>e(n.color),style:{backgroundColor:n.color},className:"w-8 h-8 rounded-full cursor-pointer"},r))})}),cz=[{id:1,color:"#DFC679"},{id:2,color:"#8B4259"},{id:3,color:"#9B0D27"},{id:4,color:"#DCBD9E"},{id:5,color:"#C09E3C"},{id:6,color:"#F87015"},{id:7,color:"#CCB1B8"},{id:8,color:"#51594C"},{id:9,color:"#00691A"},{id:10,color:"#94A2BA"},{id:11,color:"#1D4173"},{id:12,color:"#0066FF"},{id:13,color:"#756F59"},{id:14,color:"#2D210D"},{id:15,color:"#611966"}],ICe=()=>{var m,g,x,y;const t=bs(),[e,n]=F.useState("기본"),{reviewColor:r,setReviewColor:i}=sh(),s=Bt(),o=(m=t.state)==null?void 0:m.textValue,a=(g=t.state)==null?void 0:g.titleValue,l=(x=t.state)==null?void 0:x.bookTitleValue,A=(y=t.state)==null?void 0:y.authorValue,c={data:{reviewContent:o,reviewTitle:a,title:l,author:A,color:r}},u=v=>{i(v),console.log(v)},d=()=>{s("/recording")};return p.jsxs(p.Fragment,{children:[p.jsx(nr,{title:"감상평 카드 꾸미기"}),p.jsx("div",{className:"flex justify-center mt-[2.69rem] mb-[5.12rem]",children:p.jsx(k2,{reviewData:c})}),p.jsxs("div",{className:"relative min-h-[26rem] rounded-t-[1.25rem] shadow-custom2",children:[p.jsx("div",{className:"px-6 pt-8 pb-3",children:p.jsx(y3,{type:"primary",tabs:["기본","테마"],activeTab:e,onTabClick:n})}),p.jsxs("div",{className:"px-[1.88rem] py-5",children:[e==="기본"&&p.jsx(Fx,{palette:gT,handleColor:u}),e==="테마"&&p.jsx(Fx,{palette:cz,handleColor:u})]}),p.jsx("div",{className:"absolute bottom-[2.13rem] flex justify-center w-[24.5625rem] mx-auto ",children:p.jsx(mr,{text:"완료",type:"primary",color:"gray",onClick:d})})]})]})},nb="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%3e%3cpath%20d='M12%2014L18%2020L24%2014'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",FCe=({view:t})=>{const[e,n]=F.useState("최신순"),[r,i]=F.useState([]),[s,o]=F.useState(!1),[a,l]=F.useState(!1),[A,c]=F.useState(!1),[u,d]=F.useState(!1),m=["읽고 싶어요","읽고 있어요","다 읽었어요","중단했어요"],[g,x]=F.useState(!0),[y,v]=F.useState([]),[w,C]=F.useState(),[S,M]=F.useState({}),b=Bt(),T=V=>{switch(V){case"최신순":return"latest";case"별점높은순":return"rating_high";case"별점낮은순":return"rating_low";case"제목순":return"title";default:return"latest"}},L=V=>{switch(V){case"읽고 싶어요":return"NOT_STARTED";case"읽고 있어요":return"READING";case"다 읽었어요":return"FINISHED";case"중단했어요":return"STOPPED";default:return"NOT_STARTED"}},{data:P={bookList:[]}}=_r({queryKey:["bookListData",T(e)],queryFn:()=>AM(T(e))});F.useEffect(()=>{if(P){const V=P.bookList.reduce((N,W)=>(N[W.userBookId]=W.readStatus,N),{});M(V)}},[P]),F.useEffect(()=>{if(P){const V=P.bookList.reduce((N,W)=>(N[W.userBookId]=W.readStatus,console.log(N),N),{});M(V)}},[P]);const E=V=>{n(V),l(!1),setTimeout(()=>{o(!1)},200)},U=()=>{o(!0)},j=async V=>{i(N=>N.includes(V)?N.filter(W=>W!==V):[...N,V]),console.log(r)};F.useEffect(()=>{const V=async()=>{const N=r.map(Y=>L(Y));console.log(N);const W=await cM(N,T(e));v(W.bookList)};r.length!==0&&V()},[r]);const Q=V=>{C(V),console.log(V),c(!0)},G=async V=>{const N=P.bookList.reduce((Y,re)=>(Y[re.userBookId]=re.readStatus,Y),{});M(N),M(Y=>({...Y,selectedBookId:L(V)}));const W=await vce(w,L(V));window.location.reload(),console.log(W)},J=async()=>{const V=await yce(w);console.log(V),window.location.reload()},k=(V,N)=>{b(V===!1?`/info/book/${N}`:`/info/book/custom/${N}`)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex gap-5 w-full p-4",children:[p.jsxs("div",{onClick:U,className:"flex items-center justify-center cursor-pointer",children:[p.jsx("div",{className:"text-b2 text-gray-500 whitespace-nowrap",children:e}),p.jsx("img",{className:"w-4 h-4",src:nb,alt:"down"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsx(y3,{type:"secondary",tabs:["읽고 싶어요","읽고 있어요","다 읽었어요","중단했어요"],activeTabs:r,onTabClick:j,multiple:!0})})]}),t==="list"&&p.jsxs("div",{className:" mx-4  ",children:[r.length===0?P.bookList.map((V,N)=>p.jsx(MA,{handleStatusClick:()=>Q(V.userBookId),edit:!0,bottomSheet:!0,status:S[V.userBookId],bookTitle:V.title,author:V.author,bookImg:V.imgPath?V.imgPath:ds,rating:V.rating,bookInfoId:V.bookInfoId,handleOnClick:()=>k(V.isCustom,V.bookInfoId)},N)):y&&y.map((V,N)=>p.jsx(MA,{handleStatusClick:()=>Q(V.userBookId),edit:!0,bottomSheet:!0,status:S[V.userBookId],bookTitle:V.title,author:V.author,bookImg:V.imgPath?V.imgPath:ds,rating:V.rating,bookInfoId:V.bookInfoId,handleOnClick:()=>k(V.isCustom,V.bookInfoId)},N)),p.jsx("div",{className:"h-[6rem] bg-transparent"})]}),t==="cover"&&p.jsxs("div",{className:" mx-4 overflow-y-auto",children:[p.jsx("div",{className:"grid grid-cols-3 place-items-center gap-x-3 gap-y-5",children:r.length===0?P.bookList.map(V=>p.jsx(Ep,{img:V.imgPath?V.imgPath:ds,title:V.title,rating:V.rating})):y&&y.map(V=>p.jsx(Ep,{img:V.imgPath?V.imgPath:ds,title:V.title,rating:V.rating}))}),p.jsx("div",{className:"h-[6rem] bg-transparent"})]})]}),!s&&!A&&p.jsx(qf,{}),s&&p.jsx(Ui,{bottomSheetShow:s,setBottomSheetShow:o,visible:a,setVisible:l,children:p.jsxs("div",{className:"pb-[1.88rem] px-4",children:[p.jsx("div",{onClick:()=>E("최신순"),className:`pt-1 pb-3 text-b2 ${e==="최신순"?"text-orange-400":"text-gray-500"} cursor-pointer`,children:"최신순"}),p.jsx(vs,{}),p.jsx("div",{onClick:()=>E("별점높은순"),className:`h-12 py-3 text-b2 ${e==="별점높은순"?"text-orange-400":"text-gray-500"} cursor-pointer`,children:"별점높은순"}),p.jsx(vs,{}),p.jsx("div",{onClick:()=>E("별점낮은순"),className:`h-12 py-3 text-b2 ${e==="별점낮은순"?"text-orange-400":"text-gray-500"} cursor-pointer`,children:"별점낮은순"}),p.jsx(vs,{}),p.jsx("div",{onClick:()=>E("제목순"),className:`h-12 py-3 text-b2 ${e==="제목순"?"text-orange-400":"text-gray-500"} cursor-pointer`,children:"제목순"})]})}),A&&p.jsx(Ui,{bottomSheetShow:A,setBottomSheetShow:c,visible:u,setVisible:d,children:p.jsx("div",{className:"px-4",children:p.jsx(cw,{title:"책 상태",options:m,currentOption:S,handleOption:G,isCancel:g,handlePutCancel:J})})})]})},UCe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.5%2012.25C10.5%2012.9404%2011.0596%2013.5%2011.75%2013.5C12.4404%2013.5%2013%2012.9404%2013%2012.25C13%2011.5596%2012.4404%2011%2011.75%2011C11.0596%2011%2010.5%2011.5596%2010.5%2012.25Z'%20fill='%23ABABAB'/%3e%3cpath%20d='M16.5%2012.25C16.5%2012.9404%2017.0596%2013.5%2017.75%2013.5C18.4404%2013.5%2019%2012.9404%2019%2012.25C19%2011.5596%2018.4404%2011%2017.75%2011C17.0596%2011%2016.5%2011.5596%2016.5%2012.25Z'%20fill='%23ABABAB'/%3e%3cpath%20d='M4.5%2012.25C4.5%2012.9404%205.05964%2013.5%205.75%2013.5C6.44036%2013.5%207%2012.9404%207%2012.25C7%2011.5596%206.44036%2011%205.75%2011C5.05964%2011%204.5%2011.5596%204.5%2012.25Z'%20fill='%23ABABAB'/%3e%3c/svg%3e",LCe=O2(t=>({bookList:[],setBookList:e=>t({bookList:e})})),RCe=({setShowMenuBottomSheet:t,bookCaseTitle:e="책장명",bookList:n=[],bookCaseId:r,setFolderId:i})=>{const{setBookList:s}=LCe(),o=Bt(),a=()=>{s(n),o(`/library/bookcase/${r}`)};return p.jsx(p.Fragment,{children:p.jsx("div",{onClick:a,className:"p-4 border-[0.0625rem] border-gray-100 rounded-[0.5rem] bg-gray-10 cursor-pointer",children:p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex items-center gap-[0.12rem]",children:[p.jsx("div",{className:"text-b2 text-gray-800",children:e}),p.jsxs("div",{className:"text-b2 text-orange-400",children:["(",n.length,")"]})]}),p.jsx("div",{onClick:l=>{l.stopPropagation(),t(!0),i(r)},className:"cursor-pointer",children:p.jsx("img",{src:UCe})})]}),p.jsx("div",{className:"flex gap-2 w-[20.6rem] overflow-x-auto",children:n.map((l,A)=>p.jsx("div",{className:"w-16 h-23 flex-shrink-0",children:p.jsx("img",{src:l.imgPath?l.imgPath:ds,className:"w-full h-full object-cover"})},A))})]})})})},PCe=({showAddBookCaseBottomSheet:t,bookCaseId:e})=>{const[n,r]=F.useState(!1),[i,s]=F.useState(!1),[o,a]=F.useState(!1),[l,A]=F.useState(),{data:c,isError:u,error:d}=_r({queryKey:["totalFolderData"],queryFn:()=>Cce()}),m=()=>{s(!1),setTimeout(()=>{r(!1)},300)},g=()=>{m(),a(!0)},x=async()=>{const v=await wce(l);console.log(v),window.location.reload(),a(!1)},y=()=>{a(!1)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("div",{className:"flex flex-col gap-4 mt-4 mx-4",children:c.allFolderList.map((v,w)=>p.jsx(RCe,{bookCaseTitle:v.folderName,bookList:v.folderBookCoverList,bookCaseId:v.folderId,setShowMenuBottomSheet:r,setFolderId:A},w))}),p.jsx("div",{className:"h-[6rem] bg-transparent"})]}),!t&&!n&&!o&&p.jsx(qf,{}),n&&p.jsx(pM,{bottomSheetShow:n,setBottomSheetShow:r,visible:i,setVisible:s,handleDelete:g,deleteOnly:!0}),o&&p.jsx(Vp,{title:"정말 삭제하시겠어요?",content:"삭제된 카드는 다시 복구할 수 없어요.",leftBtnText:"삭제",rightBtnText:"취소",onLeftClick:x,onRightClick:y})]})},uz=({handleClick:t,isClicked:e})=>p.jsxs("svg",{onClick:()=>t("list"),width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("rect",{x:"4",y:"4",width:"4",height:"4.8",rx:"1",fill:e==="list"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"4",y:"15.2",width:"4",height:"4.8",rx:"1",fill:e==="list"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"4",y:"9.59961",width:"4",height:"4.8",rx:"1",fill:e==="list"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"8.7998",y:"4",width:"11.2",height:"4.8",rx:"1",fill:e==="list"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"8.7998",y:"15.2",width:"11.2",height:"4.8",rx:"1",fill:e==="list"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"8.7998",y:"9.59961",width:"11.2",height:"4.8",rx:"1",fill:e==="list"?"#636363":"#E2E2E2"})]}),dz=({handleClick:t,isClicked:e})=>p.jsxs("svg",{onClick:()=>t("cover"),width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("rect",{x:"4",y:"12.4209",width:"7.57895",height:"7.57895",rx:"1.68421",fill:e==="cover"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"12.4209",y:"12.4209",width:"7.57895",height:"7.57895",rx:"1.68421",fill:e==="cover"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"12.4209",y:"4",width:"7.57895",height:"7.57895",rx:"1.68421",fill:e==="cover"?"#636363":"#E2E2E2"}),p.jsx("rect",{x:"4",y:"4",width:"7.57895",height:"7.57895",rx:"1.68421",fill:e==="cover"?"#636363":"#E2E2E2"})]}),NCe="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%202L6%2010'%20stroke='%23FF9F1C'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3cpath%20d='M10%206H2'%20stroke='%23FF9F1C'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",DCe=()=>{const[t,e]=F.useState("list"),[n,r]=F.useState(!1),[i,s]=F.useState(!1),[o,a]=F.useState(""),[l,A]=F.useState(localStorage.getItem("clickedPage")||"책 목록");F.useEffect(()=>{const m=localStorage.getItem("clickedPage");m&&(A(m),console.log(1)),console.log(3)},[]),F.useEffect(()=>{localStorage.setItem("clickedPage",l),console.log(2)},[l]);const c=m=>{e(m)},u=()=>{s(!1),setTimeout(()=>{r(!1)},300)},d=async()=>{const g=await xce({folderName:o});window.location.reload(),r(!1),console.log(g)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative flex flex-col ",children:[p.jsx(uM,{title:"서재"}),p.jsx(Al,{tabs:["책 목록","책장"],activeTab:l,onTabClick:A,size:"small",borderWidth:"3rem"}),p.jsxs("div",{className:"absolute  top-[3.8rem] right-[0.63rem]",children:[l==="책 목록"&&p.jsxs("div",{className:"flex gap-2 cursor-pointer",children:[p.jsx(uz,{handleClick:c,isClicked:t}),p.jsx(dz,{handleClick:c,isClicked:t})]}),l==="책장"&&p.jsxs("div",{onClick:()=>r(!0),className:"flex gap-1 items-center mr-[0.37rem] cursor-pointer",children:[p.jsx("img",{src:NCe}),p.jsx("div",{className:"text-b2 text-gray-800",children:"책장추가"})]})]}),p.jsxs("div",{children:[l==="책 목록"&&p.jsx(FCe,{view:t}),l==="책장"&&p.jsx(PCe,{showAddBookCaseBottomSheet:n})]})]}),n&&p.jsx(Ui,{bottomSheetShow:n,setBottomSheetShow:r,visible:i,setVisible:s,children:p.jsxs("div",{className:"px-4 pb-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("div",{className:"text-st text-gray-800 font-semibold",children:"책장 추가"}),p.jsx("div",{onClick:u,className:"text-b1 text-gray-500 cursor-pointer",children:"취소"})]}),p.jsx("input",{value:o,onChange:m=>a(m.target.value),placeholder:"책장 이름을 입력하세요",className:"w-full mt-[1.62rem] mb-[3.19rem] px-1 py-2 border-b-[1px] border-[#DDDDDD]"}),p.jsx(mr,{text:"완료",type:"primary",disabled:!o,onClick:d})]})})]})},OCe="data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='10'%20cy='10'%20r='9.5'%20transform='matrix(-1%200%200%201%2020.1484%200.148193)'%20fill='%236B7FF0'%20stroke='%236B7FF0'/%3e%3cpath%20d='M8.14821%2012.9282L5.83488%2010.6149C5.71022%2010.4903%205.54116%2010.4202%205.36488%2010.4202C5.18859%2010.4202%205.01953%2010.4903%204.89488%2010.6149C4.77022%2010.7396%204.7002%2010.9086%204.7002%2011.0849C4.7002%2011.1722%204.71739%2011.2586%204.75079%2011.3393C4.78419%2011.4199%204.83315%2011.4932%204.89488%2011.5549L7.68154%2014.3416C7.94154%2014.6016%208.36154%2014.6016%208.62154%2014.3416L15.6749%207.28824C15.7995%207.16359%2015.8696%206.99453%2015.8696%206.81824C15.8696%206.64196%2015.7995%206.4729%2015.6749%206.34825C15.5502%206.22359%2015.3812%206.15356%2015.2049%206.15356C15.0286%206.15356%2014.8595%206.22359%2014.7349%206.34825L8.14821%2012.9282Z'%20fill='%23E7EBFF'/%3e%3c/svg%3e",kCe="data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='10.3704'%20cy='10.3704'%20r='9.87037'%20transform='matrix(-1%200%200%201%2020.8896%200.148193)'%20fill='white'%20fill-opacity='0.6'%20stroke='%236B7FF0'/%3e%3c/svg%3e",l_=({bookTitle:t="책제목",author:e="지은이",bookImg:n,isSelected:r,edit:i,addBook:s,rating:o,initState:a})=>p.jsxs("div",{className:"flex items-center justify-between w-full h-[7.75rem] pb-[0.5rem] pt-[0.5rem] cursor-pointer",children:[p.jsxs("div",{className:"flex gap-[0.75rem] items-center w-[15.75rem] h-[6.75rem]",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{className:"w-[4.75rem] h-[6.75rem]",src:n||u5,alt:"coverEx"}),p.jsx("div",{className:"absolute top-1 left-1",children:p.jsx("img",{src:r?OCe:kCe,alt:"check"})})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("div",{className:"text-b1 text-gray-800",children:t}),p.jsx("div",{className:" text-b1 text-gray-500",children:e}),p.jsx("div",{className:"flex mt-[0.5rem]",children:[...Array(5)].map((l,A)=>p.jsx("div",{children:p.jsx("img",{src:A<o?f5:d5,alt:"rating",className:""},A)},A))})]})]}),i&&p.jsx("div",{className:"w-[1.5rem] h-[1.5rem] cursor-pointer",children:p.jsx("img",{src:KD,alt:"menuBar"})}),s&&p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"text-c1 text-gray-500 cursor-pointer",children:a}),p.jsx("img",{src:Aw,alt:"downArrow"})]})]}),QCe="data:image/svg+xml,%3csvg%20width='76'%20height='76'%20viewBox='0%200%2076%2076'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_1170_21945)'%3e%3ccircle%20cx='38'%20cy='38'%20r='28'%20fill='%23FFBF68'/%3e%3cpath%20d='M28%2047.375C28%2046.5462%2028.3292%2045.7513%2028.9153%2045.1653C29.5013%2044.5792%2030.2962%2044.25%2031.125%2044.25H48'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M31.125%2025.5H48V50.5H31.125C30.2962%2050.5%2029.5013%2050.1708%2028.9153%2049.5847C28.3292%2048.9987%2028%2048.2038%2028%2047.375V28.625C28%2027.7962%2028.3292%2027.0013%2028.9153%2026.4153C29.5013%2025.8292%2030.2962%2025.5%2031.125%2025.5Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M38%2030.3334V39.6667'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3cpath%20d='M33.333%2035.0001H42.6663'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_1170_21945'%20x='0'%20y='0'%20width='76'%20height='76'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset/%3e%3cfeGaussianBlur%20stdDeviation='5'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.12%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1170_21945'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_1170_21945'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",HCe=()=>{const{id:t}=ma(),[e,n]=F.useState("list"),[r,i]=F.useState(!1),[s,o]=F.useState(""),[a,l]=F.useState([]),[A,c]=F.useState(!1),[u,d]=F.useState([]),[m,g]=F.useState([]),[x,y]=F.useState([]),[v,w]=F.useState([]),[C,S]=F.useState([]);Bt();const M=k=>{switch(k){case"읽고 싶어요":return"NOT_STARTED";case"읽고 있어요":return"READING";case"다 읽었어요":return"FINISHED";case"중단했어요":return"STOPPED";default:return"NOT_STARTED"}},b=k=>{switch(k){case"NOT_STARTED":return"읽고 싶어요";case"READING":return"읽고 있어요";case"FINISHED":return"다 읽었어요";case"STOPPED":return"중단했어요";default:return"읽고 싶어요"}},{data:T={bookList:[]},isError:L,error:P}=_r({queryKey:["folderBookListData"],queryFn:()=>Bce(t)});F.useEffect(()=>{o(T.folderName)},[]);const E=(k,V,N)=>{l(W=>W.includes(k)?W.filter(Y=>Y!==k):[...W,k]),w(W=>W.includes(V)?W.filter(Y=>Y!==V):[...W,V]),S(W=>W.includes(N)?W.filter(Y=>Y!==N):[...W,N])},U=k=>{n(k)},j=async()=>{if(r){const V=await Ece(t,{folderName:s});console.log(V),window.location.reload()}i(!r),l([])},Q=async()=>{c(!0);const k=await AM("latest");g(k.bookList)},G=k=>{d(V=>V.includes(k)?V.filter(N=>N!==k):[...V,k])};F.useEffect(()=>{const k=async()=>{const V=u.map(W=>M(W));console.log(V);const N=await cM(V,"latest");y(N.bookList)};u.length!==0&&k()},[u]);const J=async()=>{if(A){const V=await Sce(t,v);console.log(V)}else{const k=C;console.log(k);const V=await _ce(t,k);console.log(V)}window.location.reload()};return p.jsxs(p.Fragment,{children:[r?p.jsx(nr,{title:"책장 편집",edit:!0,editState:r,handleEdit:j}):A?p.jsx(nr,{title:"책 추가하기"}):p.jsx(nr,{title:"",edit:!0,editState:r,handleEdit:j}),p.jsxs("div",{className:"relative flex flex-col",children:[r?p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col gap-2 mx-4 mt-4 mb-5",children:[p.jsx("div",{className:"text-c1 text-blue-400",children:"책장 이름"}),p.jsx("input",{value:s,onChange:k=>o(k.target.value),placeholder:"책장명",className:"text-b1 text-gray-800"})]})}):!A&&p.jsxs(p.Fragment,{children:[p.jsx(uM,{title:T.folderName}),p.jsx("div",{className:"absolute right-4 top-4 ",children:p.jsxs("div",{className:"flex gap-2 cursor-pointer",children:[p.jsx(uz,{handleClick:U,isClicked:e}),p.jsx(dz,{handleClick:U,isClicked:e})]})})]}),!A&&T.folderBookList.length===0?p.jsxs("div",{className:"mt-[6.62rem] text-b2 text-gray-500 text-center",children:["아직 추가된 책이 없어요. ",p.jsx("br",{})," 아래 버튼을 눌러 책을 추가하세요!"]}):p.jsxs(p.Fragment,{children:[e==="list"&&!r&&!A&&p.jsx(p.Fragment,{children:p.jsx("div",{className:"h-[42rem] mx-4 overflow-y-auto",children:T&&T.folderBookList.map((k,V)=>p.jsx("div",{children:p.jsx(MA,{register:k.isCustom,bookTitle:k.title,author:k.author,edit:!0,bookImg:k.imgPath?k.imgPath:ds,handleOnClick:()=>{}})},V))})}),e==="cover"&&!r&&!A&&p.jsx("div",{className:"h-[42rem] mx-4 overflow-y-auto",children:p.jsx("div",{className:"grid grid-cols-3 place-items-center gap-x-3 gap-y-5",children:T&&T.folderBookList.map((k,V)=>p.jsx("div",{children:p.jsx(Ep,{img:k.imgPath?k.imgPath:ds,title:k.title})},V))})}),r&&p.jsx("div",{className:"h-[42rem] overflow-y-auto",children:T&&T.folderBookList.map((k,V)=>p.jsx("div",{onClick:()=>E(V,k.userBookId,k.folderBookId),className:`${a.includes(V)?"bg-gray-50":""}`,children:p.jsx("div",{className:" mx-4",children:p.jsx(l_,{bookTitle:k.title,author:k.author,edit:!0,addBook:!1,bookImg:k.imgPath?k.imgPath:ds,isSelected:a.includes(V)})})},V))}),A&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"m-4",children:p.jsx(y3,{type:"secondary",tabs:["읽고 싶어요","읽고 있어요","다 읽었어요","중단했어요"],activeTabs:u,onTabClick:G,multiple:!0})}),p.jsx("div",{className:"h-[42rem] overflow-y-auto",children:u.length===0?m&&m.map((k,V)=>p.jsx("div",{onClick:()=>E(V,k.userBookId,k.folderBookId),className:`${a.includes(V)?"bg-gray-50":""}`,children:p.jsx("div",{className:" mx-4",children:p.jsx(l_,{bookTitle:k.title,author:k.author,edit:!1,addBook:!0,bookImg:k.imgPath?k.imgPath:ds,rating:k.rating,isSelected:a.includes(V),initState:b(k.readStatus)})})},V)):x.map((k,V)=>p.jsx("div",{onClick:()=>E(V,k.userBookId,k.folderBookId),className:`${a.includes(V)?"bg-gray-50":""}`,children:p.jsx("div",{className:" mx-4",children:p.jsx(l_,{bookTitle:k.title,author:k.author,edit:!1,addBook:!0,bookImg:k.imgPath,rating:k.rating,isSelected:a.includes(V),initState:b(k.readStatus)})})},V))})]})]})]}),!r&&!A&&p.jsx("div",{onClick:()=>Q(),className:"fixed bottom-[2.63rem] flex justify-end w-[24.5625rem] pr-4 cursor-pointer",children:p.jsx("img",{src:QCe,alt:"add_book_btn"})}),(r||A)&&p.jsx("div",{className:"fixed bottom-0 w-[24.5625rem] h-22 bg-white",children:p.jsx("div",{className:"flex justify-center mt-[0.38rem] mb-[2.12rem]",children:p.jsx(mr,{text:`${A?`완료 (${a.length})`:`삭제 (${a.length})`}`,type:"primary",disabled:a.length===0,onClick:J})})})]})},jCe=()=>{const t=Bt(),[e,n]=F.useState(""),[r,i]=F.useState([]),[s,o]=F.useState(),[a,l]=F.useState(0),[A,c]=F.useState(0),[u,d]=F.useState({cardType:"EXCERPT"}),m=F.useRef(null),g=10,x=async(C,S=0)=>{try{const M=await Ut(`/readingspace/excerpts/search?keyword=${C}&page=${S}&size=${g}`);console.log("response",M);const b=M.pageContent.map(T=>({author:T.author,excerptContent:T.excerptContent,excerptId:T.excerptId,visibility:T.visibility,pageNumber:T.pageNumber,title:T.title}));i(S===0?b:T=>[...T,...b]),c(M.totalPages||0)}catch(M){console.error(M)}},y=async()=>{try{console.log(u);const C=await Fi("/readingspace",u);console.log("Card successfully posted:",C)}catch(C){console.error("Error posting card:",C)}};F.useEffect(()=>{console.log("excerpts",r)},[r]),F.useEffect(()=>{e&&(i([]),l(0),x(e,0))},[e]),F.useEffect(()=>{x("",0)},[]),F.useEffect(()=>{const C=M=>{const[b]=M;b.isIntersecting&&a<A&&(console.log("다음 페이지 로드"),l(T=>T+1))},S=new IntersectionObserver(C,{root:null,rootMargin:"0px",threshold:1});return m.current&&S.observe(m.current),()=>S.disconnect()},[a,A]),F.useEffect(()=>{a>0&&e&&(console.log(`페이지 ${a} 데이터 로드`),x(e,a))},[a,e]),F.useEffect(()=>{d(C=>({...C,resourceId1:s}))},[s]);const v=C=>{o(C)},w=async()=>{await y(),t("/home"),window.location.reload()};return p.jsxs("div",{className:"w-full",children:[p.jsx(nr,{title:"발췌 카드 위젯"}),p.jsx("div",{className:"mt-[0.62rem] mb-4",children:p.jsx(C2,{placeholder:"기록한 발췌 카드를 검색하세요",search:e,setSearch:n})}),p.jsx("div",{className:"flex flex-col gap-4 px-5",children:r.length>0&&r.map((C,S)=>p.jsx(aT,{onClick:()=>v(C.excerptId),selected:s===C.excerptId,content:C.excerptContent,visibility:C.visibility,pageNumber:C.pageNumber,title:C.title,author:C.author},S))}),s&&p.jsx("div",{className:"fixed bottom-0 w-[24.5625rem] h-[5.5rem] px-4 pt-[0.37rem] bg-white",children:p.jsx(mr,{text:"완료",type:"primary",disabled:!s,onClick:w})})]})},VCe=()=>{const t=Bt(),[e,n]=F.useState(""),[r,i]=F.useState([]),[s,o]=F.useState(),[a,l]=F.useState(0),[A,c]=F.useState(0),u=F.useRef(null),d=10,[m,g]=F.useState({cardType:"ONELINE"}),x=async(C,S=0)=>{try{const M=await Ut(`/readingspace/onelines/search?keyword=${C}&page=${S}&size=${d}`);console.log("response",M);const b=M.pageContent.map(T=>({oneLineId:T.oneLineId,oneLineContent:T.oneLineContent,rating:T.rating,title:T.title,author:T.author}));i(S===0?b:T=>[...T,...b]),c(M.totalPages||0)}catch(M){console.error(M)}},y=async()=>{try{console.log(m);const C=await Fi("/readingspace",m);console.log("Card successfully posted:",C)}catch(C){console.error("Error posting card:",C)}};F.useEffect(()=>{console.log("reviews",r)},[r]),F.useEffect(()=>{e&&(i([]),l(0),x(e,0))},[e]),F.useEffect(()=>{const C=M=>{const[b]=M;b.isIntersecting&&a<A&&(console.log("다음 페이지 로드"),l(T=>T+1))},S=new IntersectionObserver(C,{root:null,rootMargin:"0px",threshold:1});return u.current&&S.observe(u.current),()=>S.disconnect()},[a,A]),F.useEffect(()=>{a>0&&e&&(console.log(`페이지 ${a} 데이터 로드`),getBooks(e,a))},[a,e]),F.useEffect(()=>{g(C=>({...C,resourceId1:s}))},[s]),F.useEffect(()=>{x("",0)},[]);const v=C=>{o(C)},w=async()=>{await y(),t("/home"),window.location.reload()};return p.jsxs("div",{className:"w-full",children:[p.jsx(nr,{title:"한줄평 카드 위젯"}),p.jsx("div",{className:"mt-[0.62rem] mb-4",children:p.jsx(C2,{placeholder:"제목이나 작가로 작성한 카드를 검색하세요",search:e,setSearch:n})}),p.jsx("div",{className:"flex flex-col gap-4 px-5",children:r.map((C,S)=>p.jsx(lT,{selected:s===C.oneLineId,content:C.oneLineContent,rating:C.rating,title:C.title,author:C.author,onClick:()=>v(C.oneLineId)},S))}),s&&p.jsx("div",{className:"fixed bottom-0 w-[24.5625rem] h-[5.5rem] px-4 pt-[0.37rem] bg-white",children:p.jsx(mr,{text:"완료",type:"primary",disabled:!s,onClick:w})})]})},zCe=()=>{var Q;const t=bs(),e=Bt(),n=(Q=t.state)==null?void 0:Q.bookNumber,[r,i]=F.useState("firstBook"),[s,o]=F.useState(),[a,l]=F.useState(),[A,c]=F.useState(),[u,d]=F.useState(),[m,g]=F.useState(""),[x,y]=F.useState(!0),[v,w]=F.useState(!0),[C,S]=F.useState([]),[M,b]=F.useState(!1),[T,L]=F.useState({cardType:"BOOK_WITH_SONG",resourceId1:null,resourceId2:null,text1:"",text2:"",text3:""}),P=async()=>{try{const G=await Ut("/books/list?sort=latest");S(G.bookList),console.log(G)}catch(G){console.error(G)}},E=async()=>{try{console.log("cardData",T);const G=await Fi("/readingspace",T);console.log("Card successfully posted:card Data:",G)}catch(G){console.error("Error posting card:",G)}};F.useEffect(()=>{console.log("books",C),P()},[]),F.useEffect(()=>{A&&console.log("선택된 책 ID 1:",A)},[A]),F.useEffect(()=>{u&&console.log("선택된 책 ID 2:",u)},[u]),F.useEffect(()=>{console.log(M)},[M]);const U=(G,J)=>{r==="firstBook"?(c(G),o(J)):r==="secondBook"&&(d(G),l(J)),w(!1),setTimeout(()=>{y(!1)},200)},j=async()=>{await E(),e("/home"),window.location.reload()};return p.jsxs("div",{className:"w-full",children:[p.jsx(nr,{title:"커스텀 위젯"}),p.jsx("div",{className:"mt-[2.63rem] px-5",children:p.jsx(zge,{bookNumber:n,firstImg:s,secondImg:a,firstId:A,secondId:u,selected:r,bottomSheetShow:x,setBottomSheetShow:y,setSelected:i,setVisible:w,setEnabled:b,setCardData:L})}),p.jsxs("div",{className:"w-full h-[12.75rem] flex flex-col fixed bottom-0 bg-gray-50 items-center py-8 text-gray-400 text-b2",children:[p.jsx("p",{children:"꾸미기 카드는 수정이 불가능해요."}),p.jsx("p",{className:"mb-[2.3rem]",children:"꼼꼼히 확인해주세요:)"}),p.jsx(mr,{text:"완료",type:"primary",disabled:!M,onClick:j})]}),p.jsxs(Ui,{color:"white",height:"32.4375rem",bottomSheetShow:x,setBottomSheetShow:y,visible:v,custom:!0,setVisible:w,children:[p.jsx("div",{className:"",children:p.jsx(C2,{search:m,setSearch:g,custom:!0,placeholder:"내 서재에서 책을 검색하세요"})}),p.jsx("div",{className:"px-4",children:C.map((G,J)=>p.jsx(MA,{bookTitle:G.title,author:G.author,edit:!1,bookImg:G.imgPath,rating:G.rating,handleOnClick:()=>U(G.userBookId,G.imgPath)},J))})]})]})},RL=({isOn:t,onToggle:e})=>p.jsx("div",{className:`w-[3.1875rem] h-[1.9375rem] flex items-center p-[0.125rem] rounded-[6.25rem] cursor-pointer ${t?"bg-orange-300":"bg-gray-100"}`,onClick:e,children:p.jsx("div",{className:`bg-white w-[1.6875rem] h-[1.6875rem] rounded-[6.25rem] shadow-lg transform duration-300 ease-in-out ${t?"translate-x-5":""}`})}),GCe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20d='M13.4482%206.95159L17.0482%2010.5516M4.44824%2019.5516L8.81423%2018.6719C9.046%2018.6252%209.25882%2018.511%209.42596%2018.3438L19.1996%208.56477C19.6682%208.09592%2019.6679%207.33593%2019.1989%206.86747L17.1285%204.79939C16.6597%204.33113%2015.9001%204.33145%2015.4317%204.80011L5.657%2014.5802C5.49019%2014.7471%205.37629%2014.9594%205.32954%2015.1907L4.44824%2019.5516Z'%20stroke='%23FF9F1C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",KCe="/assets/kakao-login-fzeWUvN3.svg",WCe=()=>{const t=Bt(),[e,n]=F.useState({nickname:"",loginType:"",email:"",isPushAlarmEnabled:null,isFriendRequestEnabled:null,recordFont:""}),r=[{id:"NANUMGOTHIC",label:"나눔고딕체",value:"NANUMGOTHIC"},{id:"NANUMMYEONGJO",label:"나눔명조체",value:"NANUMMYEONGJO"},{id:"RIDIBATANG",label:"리디바탕체",value:"RIDIBATANG"}],[i,s]=F.useState(!1),[o,a]=F.useState(!1),[l,A]=F.useState(!1),[c,u]=F.useState(""),[d,m]=F.useState(null),[g,x]=F.useState(null),[y,v]=F.useState(null),w=async()=>{try{const N=await Ut("settings");n(N)}catch(N){console.error("세팅 읽어오기 오류",N)}},C=async(N,W)=>{try{const Y={[N]:W};await eo("/settings/options",Y)}catch(Y){console.error("옵션 업데이트 오류",Y)}},S=async N=>{console.log(N);try{const W=await Fi("/settings/nickname/check",{nickname:N});m(!W.isAvailable)}catch(W){console.error("닉네임체크 오류",W)}},M=async N=>{try{const Y=await eo("/settings/nickname",{nickname:N});window.location.reload()}catch(W){console.error("닉네임 변경 오류",W)}},b=async()=>{try{await Fi("/logout")}catch(N){console.error("로그아웃 오류",N)}},T=async()=>{try{await eo("settings/status"),localStorage.clear(),setTimeout(()=>location.reload(!0),2e3)}catch(N){console.error("회원 탈퇴 오류",N)}};F.useEffect(()=>{w()},[]),F.useEffect(()=>{u(e.nickname)},[e.nickname]),F.useEffect(()=>{i||(u(null),m(null),x(!1),v(!1))},[i]),F.useEffect(()=>{d!==null&&console.log("현재 error 상태:",d)},[d]);const L=()=>{a(!1),setTimeout(()=>{s(!1),u(e.nickname)},200)},P=()=>{A(!1),L()},E=N=>{const W=N.target.value;u(W),x(W.length>8||/[^a-zA-Z0-9ㄱ-ㅎㅏ-ㅣ가-힣]/.test(W)),v(!1)},U=()=>{m(null),v(!0),S(c)},j=()=>{const N=!e.isPushAlarmEnabled;n(W=>({...W,isPushAlarmEnabled:N})),C("isPushAlarmEnabled",String(N))},Q=()=>{const N=!e.isFriendRequestEnabled;n(W=>({...W,isFriendRequestEnabled:N})),C("isFriendRequestEnabled",String(N))},G=N=>{n(W=>({...W,recordFont:N})),C("recordFont",N)},J=N=>{try{M(N),L()}catch(W){console.error(W)}},k=async()=>{try{await b(),localStorage.clear(),t("/login",{replace:!0})}catch(N){console.error(N)}},V=()=>{T(),t("/login",{replace:!0})};return p.jsxs("div",{className:"relative w-full",children:[p.jsx(nr,{title:"설정"}),p.jsxs("div",{className:"flex flex-col gap-[2.5rem] px-4 pt-[1.31rem]",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-5 text-st font-semibold",children:"계정 정보"}),p.jsxs("div",{className:"flex justify-between items-center h-8 mb-2",children:[p.jsx("span",{children:"이름"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{children:e.nickname}),p.jsx("button",{onClick:()=>s(!0),children:p.jsx("img",{src:GCe,alt:"edit button"})})]})]}),p.jsxs("div",{className:"flex justify-between items-center h-8",children:[p.jsx("span",{children:"로그인정보"}),p.jsxs("div",{className:"flex items-center gap-[0.62rem]",children:[e.loginType==="KAKAO"&&p.jsx("img",{src:KCe,alt:"kakao account"}),e.loginType==="GOOGLE"&&p.jsx("img",{src:KN,alt:"google account"}),p.jsx("span",{children:e.email})]})]})]}),p.jsxs("fieldset",{children:[p.jsx("legend",{className:"mb-5 text-st font-semibold",children:"사용 설정"}),p.jsxs("div",{className:"flex justify-between items-center h-8 mb-4",children:[p.jsx("label",{htmlFor:"alarmToggle",children:"푸시 알림 허용"}),p.jsx(RL,{id:"alarmToggle",isOn:e.isPushAlarmEnabled,onToggle:j})]}),p.jsxs("div",{className:"flex justify-between items-center h-8",children:[p.jsx("label",{htmlFor:"friendToggle",children:"친구 추가 허용"}),p.jsx(RL,{id:"friendToggle",isOn:e.isFriendRequestEnabled,onToggle:Q})]})]}),p.jsxs("fieldset",{children:[p.jsx("legend",{className:"mb-5 text-st font-semibold",children:"기록 폰트 설정"}),p.jsx("div",{className:"flex flex-col gap-3 nanum-myeongjo",children:r.map(N=>p.jsxs("div",{className:"flex items-center justify-between ",children:[p.jsx("label",{htmlFor:N.id,className:N.value,children:N.label}),p.jsx("input",{type:"radio",id:N.id,name:"font",value:N.value,checked:e.recordFont===N.value,onChange:()=>G(N.value),className:"m-2"})]},N.id))})]}),p.jsxs("div",{className:"mt-[7.25rem] text-btn3 text-gray-500 self-center",children:[p.jsx("button",{onClick:k,children:"로그아웃"}),p.jsx("span",{children:" | "}),p.jsx("button",{onClick:V,children:"탈퇴하기"})]})]}),p.jsx(Ui,{bottomSheetShow:i,setBottomSheetShow:s,visible:o,setVisible:a,children:p.jsxs("div",{className:"px-4",children:[p.jsxs("div",{className:"flex justify-between mb-[1.62rem]",children:[p.jsx("span",{className:"text-st font-semibold",children:"이름 수정"}),p.jsx("button",{onClick:()=>A(!0),className:"text-btn2 text-gray-500",children:"취소"})]}),p.jsx(Rd,{type:"제목",title:"닉네임",placeholder:"닉네임을 입력해주세요",check:!0,error:d,inputError:g,handleEdit:U,isSubmitted:y,nickname:!0,defaultType:!1,handleValue:N=>E(N),inputValue:c}),p.jsx(mr,{text:"완료",type:"primary",disabled:!y||d,className:"mt-7",onClick:()=>J(c)})]})}),l&&p.jsx(Vp,{title:`수정된 이름을
저장하지 않고 나갈까요?`,leftBtnText:"나가기",rightBtnText:"계속하기",onLeftClick:P,onRightClick:()=>A(!1)})]})},XCe=()=>{const t=Bt(),e=w2(),{data:n,isLoading:r,isError:i,error:s}=_r({queryKey:["friendList"],queryFn:async()=>await Ut("/friends")});F.useEffect(()=>{console.log("친구 목록",n)},[n]);const o=Ec({mutationFn:l=>io(`/friends/${l}`),onSuccess:()=>{e.invalidateQueries({queryKey:["friendList"]})}});if(r)return p.jsx("p",{children:"로딩 중..."});if(i)return p.jsxs("p",{children:["에러 발생: ",s.message]});const a=(n==null?void 0:n.friendList)||[];return n!=null&&n.friendCount,p.jsx("div",{children:a.map((l,A)=>p.jsx(dy,{userId:l.userId,userName:l.nickname,isOfficial:l.isOfficial,text:"삭제",handleDelete:()=>o.mutate(l.friendId),handleClick:()=>t(`/user/${l.userId}`)},A))})},PL="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%3e%3cpath%20d='M24%2020L18%2014L12%2020'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$Ce=()=>{const t=Bt(),[e,n]=F.useState([]),[r,i]=F.useState(0),[s,o]=F.useState([]),[a,l]=F.useState(0),[A,c]=F.useState(!0),[u,d]=F.useState(!0),m=async()=>{try{const S=await Ut("/friendrequests/received");n(S.requestList),i(S.requestCount)}catch(S){console.error("받은 친구 목록 조회 에러",S)}},g=async S=>{try{await i5(`/friendrequests/${S}/reject`),m()}catch(M){console.error("친구 요청 거절 에러",M)}},x=async S=>{try{await Fi("/friends",{friendRequestId:S}),m()}catch(M){console.error("친구 요청 수락 에러",M)}},y=async()=>{try{const S=await Ut("/friendrequests/sent");o(S.requestList),l(S.requestCount)}catch(S){console.error("보낸 친구 목록 조회 에러",S)}},v=async S=>{try{await io(`/friendrequests/${S}`),y()}catch(M){console.error("친구 요청취소 에러",M)}};F.useEffect(()=>{m(),y()},[]);const w=()=>{c(S=>!S)},C=()=>{d(S=>!S)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[p.jsx("span",{className:"text-btn3 font-semibold text-gray-800",children:"요청된"}),p.jsx("button",{onClick:w,className:"w-[2.5rem] h-[2.5rem]",children:A?p.jsx("img",{src:PL,alt:"upIcon"}):p.jsx("img",{src:nb,alt:"downIcon"})})]}),A&&r>0&&p.jsx("div",{children:e.map((S,M)=>p.jsx(dy,{userId:S.userId,userName:S.userNickname,handleDecline:()=>g(S.requestId),handleAccept:()=>x(S.requestId)},M))})]}),p.jsxs("div",{className:"mt-4",children:[p.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[p.jsx("span",{className:"text-btn3 font-semibold text-gray-800",children:"요청한"}),p.jsx("button",{onClick:C,className:"w-[2.5rem] h-[2.5rem]",children:u?p.jsx("img",{src:PL,alt:"upIcon"}):p.jsx("img",{src:nb,alt:"downIcon"})})]}),u&&a>0&&p.jsx("div",{children:s.map((S,M)=>p.jsx(dy,{userName:S.userNickname,text:"취소",handleCancel:()=>v(S.requestId),handleClick:()=>t(`/user/${S.userId}`)},M))})]})]})},YCe=()=>{const[t,e]=F.useState("친구"),n=bs();return F.useEffect(()=>{var r;(r=n.state)!=null&&r.activeTab&&e(n.state.activeTab)},[n.state]),p.jsxs("div",{children:[p.jsx(nr,{title:"친구 목록",edit:!1}),p.jsx(Al,{tabs:["친구","요청"],activeTab:t,onTabClick:e,size:"small",borderWidth:"3rem"}),p.jsx("div",{className:"h-3"}),t==="친구"&&p.jsx(XCe,{}),t==="요청"&&p.jsx($Ce,{})]})},qCe=()=>{const t=Bt(),e=()=>{try{const n=new URLSearchParams(window.location.search),r=n.get("accessToken"),i=n.get("expiresIn"),s=n.get("isNewUser")==="true",o=n.get("userId");if(!r||!i||!o)throw new Error("필수 정보 누락: accessToken, expiresIn 또는 userId");console.log("Access Token 존재");const a={accessToken:r,expiresAt:Date.now()+parseInt(i,10)*1e3,isNewUser:s,userId:Number(o)};localStorage.setItem("token",JSON.stringify(a)),console.log("저장된 토큰:",localStorage.getItem("token")),t(s?"/signin":"/home",{replace:!0})}catch(n){console.error("OAuth 처리 중 오류:",n.message),localStorage.removeItem("token"),t("/login",{replace:!0})}};return F.useEffect(()=>{e(),location.reload()},[]),p.jsx(S2,{})},ZCe="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.9165%2015L0.916504%208L7.9165%201'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cline%20x1='1.6665'%20y1='8.18311'%20x2='15.3332'%20y2='8.18311'%20stroke='%23323232'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",JCe=({userRelationshipStatus:t,handleAddClick:e,handleDelFriendClick:n,handleDelRequestClick:r,handleAcceptClick:i})=>{const s=Bt();F.useEffect(()=>{console.log("관계",t)},[]);const o=a=>{switch(a){case"FRIEND":return p.jsx("button",{className:"py-1 px-3 bg-orange-50 rounded-[0.375rem]",onClick:n,children:p.jsx("span",{className:"text-orange-400 text-btn3",children:"친구삭제"})});case"NONE":return p.jsx("button",{className:"py-1 px-3 bg-blue-400 rounded-[0.375rem]",onClick:e,children:p.jsx("span",{className:"text-white text-btn3",children:"친구추가"})});case"PENDING_REQUEST":return p.jsx("button",{className:"py-1 px-3 bg-[#DDD] rounded-[0.375rem]",onClick:r,children:p.jsx("span",{className:"text-white text-btn3",children:"요청취소"})});case"PENDING_ACCEPT":return p.jsx("button",{className:"py-1 px-3 bg-blue-400 rounded-[0.375rem]",onClick:i,children:p.jsx("span",{className:"text-white text-btn3",children:"요청수락"})});case"REQUEST_DISABLED":return p.jsx("button",{className:"py-1 px-3 bg-[#DDD] rounded-[0.375rem] pointer-events-none",children:p.jsx("span",{className:"text-white text-btn3",children:"요청불가"})});default:return null}};return p.jsxs("div",{className:"flex items-center justify-between w-full h-[2.75rem] px-4",children:[p.jsx("button",{onClick:()=>s(-1),className:"w-[1rem]",children:p.jsx("img",{src:ZCe})}),o(t)]})},eBe=({onClick:t})=>p.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:p.jsxs("div",{className:"flex flex-col py-4 bg-white w-[330px] rounded-[20px]",children:[p.jsxs("div",{className:"flex flex-col py-3 gap-2 mb-2",children:[p.jsx("div",{className:"flex justify-center items-center text-st text-center font-semibold ",children:"앗, 접근이 어려운 페이지에요."}),p.jsx("div",{className:"flex justify-center items-center text-center text-b1",children:"친구가 되면 독서리포트를 확인할 수 있어요"})]}),p.jsx("div",{className:"px-4",children:p.jsx("button",{className:"text-b1 font-semibold text-white bg-gray-700 p-[10px] w-full rounded-[8px]",onClick:t,children:"뒤로가기"})})]})}),tBe=async t=>await Ut(`/users/${t}`),nBe=async t=>await Fi("/friendrequests",{receiverId:t}),rBe=async t=>await io(`/friendrequests/${t}`),iBe=async t=>await io(`/friends/${t}`),sBe=async t=>await Fi("/friends",{friendRequestId:t}),oBe=()=>{const t=Bt(),[e,n]=F.useState(!1);let{id:r}=ma();const i=_r({queryKey:["userInfo",r],queryFn:()=>tBe(r),onSuccess:()=>{console.log("유저 정보 조회 성공")},onError:u=>console.error("유저 정보 조회 실패",u)}),s=i.data,o=Ec({mutationFn:nBe,onSuccess:()=>{console.log("친구 요청 성공"),i.refetch()},onError:u=>console.error("친구요청 실패",u)}),a=Ec({mutationFn:rBe,onSuccess:()=>{console.log("친구요청 취소 성공"),i.refetch()},onError:u=>console.error("친구요청 취소 실패",u)}),l=Ec({mutationFn:iBe,onSuccess:()=>{console.log("친구 삭제 성공"),i.refetch()},onError:u=>console.error("친구삭제 실패",u)}),A=Ec({mutationFn:sBe,onSuccess:()=>{console.log("친구 수락 성공"),i.refetch()},onError:u=>console.error("친구수락 실패",u)}),c=()=>{s.userRelationshipStatus==="FRIEND"?t(`/statistics/${r}`):n(!0)};return p.jsxs("div",{className:"bg-gray-50 overflow-hidden h-screen",children:[p.jsx(JCe,{userRelationshipStatus:s==null?void 0:s.userRelationshipStatus,handleAddClick:()=>o.mutate(r),handleDelFriendClick:()=>l.mutate(s==null?void 0:s.friendId),handleDelRequestClick:()=>a.mutate((s==null?void 0:s.friendRequestId)||null),handleAcceptClick:()=>A.mutate((s==null?void 0:s.friendRequestId)||null)}),p.jsxs("div",{className:"pl-5 mt-[1.75rem]",children:[p.jsxs("div",{className:"text-t2 font-semibold text-black",children:[s==null?void 0:s.nickname,"님의"]}),p.jsx("div",{className:"text-t2 font-semibold text-black mt-[0.38rem]",children:"홈에 오신 걸 환영해요!"}),p.jsxs("div",{className:"flex flex-row relative",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-col w-[10.625rem] h-[6rem] bg-white rounded-[0.75rem] mt-[2.69rem] pl-4 pr-5 pt-3 gap-2",children:[p.jsx("span",{className:"text-b2 text-gray-800 font-semibold",children:"현재 나의 기록수"}),p.jsxs("div",{className:"flex flex-row",children:[p.jsx(eV,{bookCount:(s==null?void 0:s.bookCount)||0}),p.jsx("div",{className:"ml-[0.62rem] self-end text-b2 text-gray-500 font-semibold",children:"개"})]})]}),p.jsx("button",{className:"w-[10.5625rem]",onClick:c,children:p.jsxs("div",{className:"flex justify-center items-center gap-[0.38rem] w-[10.625rem] h-[2.625rem] bg-white rounded-[0.625rem] mt-[0.81rem]",children:[p.jsx("span",{className:"text-b2 text-gray-800 font-semibold",children:"독서 리포트 보러가기"}),p.jsx("img",{src:Jj,alt:"arrow"})]})})]}),p.jsx("div",{className:"absolute left-40 top-10 w-[12.6875rem] h-[12.9375rem]",children:p.jsx(Mu,{userId:r})})]}),p.jsx(Zj,{isMine:!1,otherUserId:r})]}),e&&p.jsx(eBe,{onClick:()=>n(!1)})]})},fz=()=>p.jsx("div",{className:"w-[100%] h-[3.6875rem] bg-transparent"}),aBe=()=>{var ie,de;const t=bs(),e=Bt(),[n,r]=F.useState(!1),[i,s]=F.useState(!1),[o,a]=F.useState(""),[l,A]=F.useState(!1),[c,u]=F.useState(!1),{id:d}=ma(),m=d,{reviewColor:g,setReviewColor:x}=sh(),{bookInfo:y,setBookInfo:v}=ih(),[w,C]=F.useState(""),[S,M]=F.useState("");F.useState(!0);const b=(ie=t.state)==null?void 0:ie.color;console.log((de=t.state)==null?void 0:de.color);const{data:T,isError:L,error:P}=_r({queryKey:["archiveDetailData"],queryFn:()=>fM(m)});console.log(T),F.useEffect(()=>{var te,fe,O,Ie,Pe;!E&&!j&&(U((te=T.excerpt)==null?void 0:te.pageNumber),Q((fe=T.excerpt)==null?void 0:fe.excerptContent)),!k&&!N&&(V((O=T==null?void 0:T.review)==null?void 0:O.reviewTitle),W((Ie=T==null?void 0:T.review)==null?void 0:Ie.reviewContent)),x((Pe=T==null?void 0:T.review)==null?void 0:Pe.color),C(T==null?void 0:T.author),M(T==null?void 0:T.title)},[T]),F.useEffect(()=>{b&&x(b)},[b]);const{pageInputValue:E,setPageInputValue:U,extractInputValue:j,setExtractInputValue:Q}=RQ(),{reviewPage:G,setReviewPage:J,titleInputValue:k,setTitleInputValue:V,reviewInputValue:N,setReviewInputValue:W}=PQ(),Y=()=>{x(""),e("/archive")},re=()=>{x(""),e("/archive")},Se=te=>{Q(te.target.value)},Fe=te=>{W(te.target.value)},ce=()=>{r(!0),a("발췌")},pe=()=>{r(!0),a("감상평")},Be=()=>{s(!1),setTimeout(()=>{r(!1)},300)};console.log(y);const Le=async()=>{const te={};E&&j&&N?(te.excerpt={excerptContent:j,excerptVisibility:l===!0?"PRIVATE":"PUBLIC",pageNumber:parseInt(E,10)},te.review={reviewTitle:k,reviewContent:N,color:g||"#ABABAB",reviewVisibility:c===!0?"PRIVATE":"PUBLIC"}):E&&j?te.excerpt={excerptContent:j,excerptVisibility:l===!0?"PRIVATE":"PUBLIC",pageNumber:parseInt(E,10)}:N&&(te.review={reviewTitle:k,reviewContent:N,color:g||"#ABABAB",reviewVisibility:c===!0?"PRIVATE":"PUBLIC"},x("")),console.log(te);const fe=await Dce(m,te);console.log(fe),v({}),U(),Q(""),V(""),W(""),x(""),C(""),M(""),e("/archive"),window.location.reload()},oe=()=>{e(`/recording/edit/${m}/decoration`,{state:{textValue:N,titleValue:k,bookTitleValue:S,authorValue:w}})};return p.jsxs(p.Fragment,{children:[p.jsx(fz,{}),p.jsx(nr,{title:"기록하기",check:!0,handleCancel:re,handleBack:Y,handleComplete:Le}),p.jsx("div",{className:"flex flex-col gap-[1rem] mx-4",children:p.jsx("div",{className:"mt-5",children:p.jsx(IQ,{bookInfo:y,edit:!0,author:w,title:S})})}),p.jsx("div",{className:"mx-4",children:p.jsx(UQ,{inputValue:j,setInputValue:Q,pageInputValue:E,handleTextField:ce,privateShow:l,setPrivateShow:A})}),p.jsx("div",{className:"mt-7 mb-4",children:p.jsx(vs,{})}),p.jsx("div",{className:"mx-4",children:p.jsx(LQ,{inputValue:N,handleTextField:pe,titleInputValue:k,bookTitleValue:y.title,authorValue:y.author,reviewPrivateShow:c,setReviewPrivateShow:u,handleDecoration:oe})}),p.jsx("div",{className:"h-[7.5rem]"}),p.jsx("div",{className:"relative",children:p.jsxs(Ui,{bottomSheetShow:n,setBottomSheetShow:r,visible:i,setVisible:s,children:[p.jsx("div",{className:"absolute w-10 h-1 top-[0.75rem] left-1/2 -translate-x-1/2 rounded-[0.25rem] bg-gray-300"}),p.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[o==="발췌"&&p.jsxs(p.Fragment,{children:[p.jsxs(Df,{height:"18rem",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("div",{className:"flex justify-end",children:p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsx("input",{type:"number",placeholder:"페이지",value:E,onChange:te=>U(te.target.value),className:"w-[2.5rem] bg-transparent text-b2 text-gray-800"}),p.jsx("div",{className:"text-b2 text-gray-400",children:"p"})]})}),p.jsx("textarea",{value:j,onChange:Se,placeholder:"책의 구절을 입력하세요",maxLength:300,className:"w-[20.5625rem] h-[11.5rem] mt-2 bg-transparent text-b2 text-gray-800 appearance-none outline-none resize-none"})]}),p.jsx("div",{className:"absolute bottom-5 right-4",children:p.jsxs("div",{className:`text-btn3 ${j&&j.length>300?"text-red":"text-gray-400"}`,children:[j?j.length:"0","/300"]})})]}),p.jsx(mr,{text:"완료",type:"primary",color:"gray",onClick:Be,disabled:!j||!E})]}),o==="감상평"&&p.jsxs(p.Fragment,{children:[p.jsxs(Df,{height:"18rem",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("input",{value:k,onChange:te=>V(te.target.value),maxLength:25,placeholder:"제목 (25자 이내로 작성하세요)",className:"text-b1 font-semibold bg-transparent"}),p.jsx("textarea",{value:N,onChange:Fe,placeholder:"책에 대한 자유로운 감상을 기록하세요",maxLength:1e3,className:"w-[20.5625rem] h-[11rem] mt-2 bg-transparent text-b2 text-gray-800 appearance-none outline-none resize-none"})]}),p.jsx("div",{className:"absolute bottom-5 right-4",children:p.jsxs("div",{className:`text-btn3 ${N&&N.length>1e3?"text-red":"text-gray-400"}`,children:[N?N.length:"0","/1000"]})})]}),p.jsx(mr,{text:"완료",type:"primary",color:"gray",onClick:Be,disabled:!N})]})]})]})})]})},lBe=()=>{var x,y,v,w;const t=bs(),[e,n]=F.useState("기본"),{reviewColor:r,setReviewColor:i}=sh(),s=Bt(),o=(x=t.state)==null?void 0:x.textValue,a=(y=t.state)==null?void 0:y.titleValue,l=(v=t.state)==null?void 0:v.bookTitleValue,A=(w=t.state)==null?void 0:w.authorValue,{id:c}=ma(),u=c,d={data:{reviewContent:o,reviewTitle:a,title:l,author:A,color:r}},m=C=>{i(C),console.log(C)},g=()=>{s(`/recording/edit/${u}`,{state:{color:r}})};return p.jsxs(p.Fragment,{children:[p.jsx(fz,{}),p.jsx(nr,{title:"감상평 카드 꾸미기"}),p.jsx("div",{className:"flex justify-center mt-[2.69rem] mb-[5.12rem]",children:p.jsx(k2,{reviewData:d})}),p.jsxs("div",{className:"relative min-h-[26rem] rounded-t-[1.25rem] shadow-custom2",children:[p.jsx("div",{className:"px-6 pt-8 pb-3",children:p.jsx(y3,{type:"primary",tabs:["기본","테마"],activeTab:e,onTabClick:n})}),p.jsxs("div",{className:"px-[1.88rem] py-5",children:[e==="기본"&&p.jsx(Fx,{palette:gT,handleColor:m}),e==="테마"&&p.jsx(Fx,{palette:cz,handleColor:m})]}),p.jsx("div",{className:"absolute bottom-[2.13rem] flex justify-center w-[24.5625rem] mx-auto ",children:p.jsx(mr,{text:"완료",type:"primary",color:"gray",onClick:g})})]})]})};function ABe(){const[t,e]=F.useState(()=>{const n=localStorage.getItem("token"),r=Bs();return!!(n&&r)});return F.useEffect(()=>{(async()=>{const r=localStorage.getItem("token");console.log(r);const i=await Bs();console.log(i);const s=!!(r&&i);console.log("새로운 인증 상태:",s),e(s),console.log(t)})()},[]),Bt(),p.jsxs(xX,{children:[p.jsx(zt,{path:"/login",element:p.jsx(HY,{})}),p.jsx(zt,{path:"/signin",element:p.jsx(VY,{})}),p.jsx(zt,{path:"/api/oauth",element:p.jsx(qCe,{})}),p.jsx(zt,{path:"/users/null",element:p.jsx(nv,{to:"/login",replace:!0})}),p.jsx(zt,{path:"*",element:p.jsx(nv,{to:"/"})}),p.jsxs(zt,{element:p.jsx(i$,{isAuthenticated:t}),children:[p.jsx(zt,{path:"/",element:p.jsx(nv,{to:"/home",replace:!0})}),p.jsx(zt,{path:"/home",element:p.jsx(Yge,{})}),p.jsx(zt,{path:"/user/:id",element:p.jsx(oBe,{})}),p.jsx(zt,{path:"/search",element:p.jsx(YJ,{})}),p.jsx(zt,{path:"/search/register",element:p.jsx(qge,{})}),p.jsx(zt,{path:"/info/book/:bookinfoId",element:p.jsx(C1e,{})}),p.jsx(zt,{path:"/info/book/external/:providerId",element:p.jsx(B1e,{})}),p.jsx(zt,{path:"/info/book/custom/:bookinfoId",element:p.jsx(E1e,{})}),p.jsx(zt,{path:"/info/book/comment",element:p.jsx(S1e,{})}),p.jsx(zt,{path:"/selectBook",element:p.jsx(Pce,{})}),p.jsx(zt,{path:"/recording",element:p.jsx(sue,{})}),p.jsx(zt,{path:"/recording/decoration",element:p.jsx(ICe,{})}),p.jsx(zt,{path:"/archive",element:p.jsx(zce,{})}),p.jsx(zt,{path:"/excerpt-archive-detail/:id",element:p.jsx(yS,{})}),p.jsx(zt,{path:"/review-archive-detail/:id",element:p.jsx(yS,{})}),p.jsx(zt,{path:"/total-archive-detail/:id",element:p.jsx(yS,{})}),p.jsx(zt,{path:"/recording/edit/:id",element:p.jsx(aBe,{})}),p.jsx(zt,{path:"/recording/edit/:id/decoration",element:p.jsx(lBe,{})}),p.jsx(zt,{path:"/selectcard",element:p.jsx(Zge,{})}),p.jsx(zt,{path:"/selectcard/extract",element:p.jsx(jCe,{})}),p.jsx(zt,{path:"/selectcard/review",element:p.jsx(VCe,{})}),p.jsx(zt,{path:"/selectcard/custom",element:p.jsx(zCe,{})}),p.jsx(zt,{path:"/character",element:p.jsx(oce,{})}),p.jsx(zt,{path:"/character/custom",element:p.jsx(gce,{})}),p.jsx(zt,{path:"/myBadge",element:p.jsx(uce,{})}),p.jsx(zt,{path:"/library",element:p.jsx(DCe,{})}),p.jsx(zt,{path:"/library/bookcase/:id",element:p.jsx(HCe,{})}),p.jsx(zt,{path:"/statistics/:userId",element:p.jsx($1e,{})}),p.jsx(zt,{path:"/statistics/export/character",element:p.jsx(J1e,{})}),p.jsx(zt,{path:"/statistics/export/summary",element:p.jsx(TCe,{})}),p.jsx(zt,{path:"/setting",element:p.jsx(WCe,{})}),p.jsx(zt,{path:"/notification",element:p.jsx(oee,{})}),p.jsx(zt,{path:"/friend",element:p.jsx(YCe,{})})]})]})}const cBe=new sq({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,suspense:!0}}});iN(document.getElementById("root")).render(p.jsx(vt.Suspense,{fallback:p.jsx(S2,{}),children:p.jsx(cq,{client:cBe,children:p.jsx(qX,{children:p.jsxs(MX,{children:[p.jsx(ABe,{}),p.jsx(r$,{})]})})})}));
